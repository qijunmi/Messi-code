<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html
xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head
profile="http://gmpg.org/xfn/11"><link
rel="stylesheet" type="text/css" href="http://leetcode.com/wp-content/cache/minify/000000/fY7BDgIhDER_aBE9-EEFKpAssGm7Ufx6uyzxpodmmubNdK6Wpa-43C2EkqtxQBfV5WbdHkLfCJmt24xvhNbr_sUU8TtLK_mNwRB6rKJYKao80DP5eZir6NXGYFiADIHkGgdzrkcWQW_VcK8CL5NyTKuOIA1Mf05itvuNS8KCbGOWtLspfw2PNgq3ym0F_gA.css" media="all" /><link
rel="stylesheet" type="text/css" href="http://leetcode.com/wp-content/cache/minify/000000/M9Qvzy9KKShKLS7WLcgvKM1JLALSxSXF-sUllTmp-uUFBQA.css" media="all" /><script type="text/javascript" src="http://leetcode.com/wp-content/cache/minify/000000/LYtrDsMgDIMvRBZN632m8BBQQeiSVBu3H532w3LsfH7g_jqTTHfHHEGNBISscsZdV6OyHkFoDgadbPSBUnNpS5bkYnrlP3Bbp3sfEAZbYkMrqSdFf8Y4_VDFZ-WAuQ1PzW0YRu8LA0lHm7_thhSXgye58hc.js"></script><meta
http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta
name="viewport" content="width=device-width, initial-scale=1.0" /><title>Clone Graph Part I | LeetCode</title><link
rel="pingback" href="http://leetcode.com/xmlrpc.php" /><link
rel="shortcut icon" href="http://leetcode.com/wp-content/themes/buddyboss-child/_inc/images/favicon.ico" type="image/x-icon"><link
rel="alternate" type="application/rss+xml" title="LeetCode &raquo; Feed" href="http://leetcode.com/feed" /><link
rel="alternate" type="application/rss+xml" title="LeetCode &raquo; Comments Feed" href="http://leetcode.com/comments/feed" /><link
rel="alternate" type="application/rss+xml" title="LeetCode &raquo; Clone Graph Part I Comments Feed" href="http://leetcode.com/2012/05/clone-graph-part-i.html/feed" /><link
rel='stylesheet' id='gdsr_style_main-css'  href='http://leetcode.com/wp-content/plugins/gd-star-rating/css/gdsr.css.php?t=1366376824&#038;s=a05i05m20k20c05r05%23121620243046%23121620243240%23s1pchristmas%23s1pcrystal%23s1pdarkness%23s1poxygen%23s1goxygen_gif%23s1pplain%23s1ppumpkin%23s1psoft%23s1pstarrating%23s1pstarscape%23t1pclassical%23t1pstarrating%23t1gstarrating_gif%23lsgflower%23lsgradar&#038;o=off&#038;ver=1.9.22' type='text/css' media='all' /><script type='text/javascript'>
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"2.2.0","is_admin":"0","ajaxurl":"http:\/\/leetcode.com\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script><script type='text/javascript'>
/* <![CDATA[ */
var BP_DTheme = {"my_favs":"My Likes","accepted":"Accepted","rejected":"Rejected","show_all_comments":"Show all comments for this thread","show_all":"Show all","comments":"comments","close":"Close","view":"View","mark_as_fav":"Like","remove_fav":"Unlike","add_photo":"Add Photo","cancel":"Cancel","failed":"Failed","person":"person","people":"people","like":"like","likes":"likes","this_1":"this"};
/* ]]> */
</script><link
rel='prev' title='Palindrome Number' href='http://leetcode.com/2012/01/palindrome-number.html' /><link
rel='canonical' href='http://leetcode.com/2012/05/clone-graph-part-i.html' /><link
rel='shortlink' href='http://leetcode.com/?p=1354' /><script type="text/javascript">var ajaxurl = 'http://leetcode.com/wp-admin/admin-ajax.php';</script><style type='text/css'>#sidebar span.collapsing.archives {
        border:0;
        padding:0; 
        margin:0; 
        cursor:pointer;
} 

#sidebar span.monthCount, span.yearCount {text-decoration:none; color:#333}
#sidebar li.collapsing.archives a.self {font-weight:bold}
#sidebar ul.collapsing.archives.list ul.collapsing.archives.list:before {content:\'\';} 
#sidebar ul.collapsing.archives.list li.collapsing.archives:before {content:\'\';} 
#sidebar ul.collapsing.archives.list li.collapsing.archives {list-style-type:none}
#sidebar ul.collapsing.archives.list li {
       margin:0 0 0 .8em;
       text-indent:-1em}
#sidebar ul.collapsing.archives.list li.collapsing.archives.item:before {content: \'\\00BB \\00A0\' !important;} 
#sidebar ul.collapsing.archives.list li.collapsing.archives .sym {
   font-size:1.2em;
   font-family:Monaco, \'Andale Mono\', \'FreeMono\', \'Courier new\', \'Courier\', monospace;
   cursor:pointer;
    padding-right:15px;}
#sidebar ul.collapsing.archives.list span.collapsing.archives.collapse .sym {
    background-image: url(/wp-content/plugins/collapsing-archives/img/list-collapse.gif);
}
#sidebar ul.collapsing.archives.list span.collapsing.archives.expand .sym {
    background-image: url(/wp-content/plugins/collapsing-archives/img/list-expand.gif);
}</style><script type="text/javascript">
//<![CDATA[
var gdsr_cnst_nonce = "344a153a23";
var gdsr_cnst_ajax = "http://leetcode.com/wp-content/plugins/gd-star-rating/ajax.php";
var gdsr_cnst_button = 1;
var gdsr_cnst_cache = 0;
// ]]>
</script><!--[if IE]><style type="text/css">.ratemulti .starsbar .gdcurrent { -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=70)"; filter: alpha(opacity=70); }</style><![endif]--> <script type="text/javascript">
    /* <![CDATA[ */				
	jQuery.post('http://leetcode.com/wp-admin/admin-ajax.php', {action: 'wpp_update', token: '6117d36efc', id: 1354}, function(data){/*alert(data);*/});
    /* ]]> */
</script><style type="text/css" media="print">#wpadminbar { display:none; }</style><style type="text/css" media="screen">
	html { margin-top: 28px !important; }
	* html body { margin-top: 28px !important; }
</style><script type="text/javascript"> jQuery(document).ready( function() { jQuery("a.confirm").click( function() { if ( confirm( 'Are you sure?' ) ) return true; else return false; }); });</script></head><body
class="single single-post postid-1354 single-format-standard admin-bar no-customize-support no-js buddyboss-active-pics buddyboss-active-wall admin-bar" id="bp-default"> <!--[if lte IE 6]><script src="http://leetcode.com/wp-content/themes/buddyboss/_inc/js/ie6/warning.js"></script><script>window.onload=function(){e("http://leetcode.com/wp-content/themes/buddyboss-child/_inc/js/ie6/")}</script><![endif]--><script type="text/javascript">//<![CDATA[
(function(){var c=document.body.className;c=c.replace(/no-js/,'js');document.body.className=c;})();
//]]></script><div
id="top-hdr-bg"></div><div
class="menu-bg"></div><div
id="wrapper"><div
id="header"><div
class="padder"><div
id="logo"> <a
href="http://leetcode.com" title="Home"><img
src="http://leetcode.com/wp-content/uploads/2012/12/leetcodelogo.png"/></a></div><div
class="menu-bg"></div><ul
class="sf-menu"><li
class="page_item page-item-2"><a
href="http://leetcode.com/about">About</a></li><li
class="page_item page-item-908"><a
href="http://leetcode.com/activity">Activity</a></li><li
class="page_item page-item-1466"><a
href="http://leetcode.com/discuss">Discuss</a></li><li
class="page_item page-item-1658"><a
href="http://leetcode.com/donate">Donate</a></li><li
class="page_item page-item-907"><a
href="http://leetcode.com/members">Members</a></li><li
class="page_item page-item-370"><a
href="http://leetcode.com/onlinejudge">Online Judge</a></li></ul></div></div><div
id="container"><div
id="content" class="two_column"><div
class="padder"><div
class="page" id="blog-single" role="main"><div
id="post-1354" class="post-1354 post type-post status-publish format-standard hentry category-uncategorized"><div
class="author-box"> <img
src="http://leetcode.com/wp-content/uploads/avatars/8268/2ffa5b26dd039dec008aa06ddae07ec0-bpthumb.jpg" alt="Avatar of 1337c0d3r" class="avatar user-8268-avatar" width="50" height="50" /><p>by <a
rel="author" href="http://leetcode.com/members/admin/" title="1337c0d3r">1337c0d3r</a></p></div><div
class="post-content"><h2 class="posttitle">Clone Graph Part I</h2><p
class="date"> May 30, 2012 <span>in <a
href="http://leetcode.com/category/uncategorized" title="View all posts in Uncategorized" rel="category tag">Uncategorized</a></span> <span
class="post-utility alignright"></span></p><div
class="entry"><blockquote><p>Clone a graph. Input is a Node pointer. Return the Node pointer of the cloned graph.<br
/> <span
id="more-1354"></span></p><p>A graph is defined below:<br
/> struct Node {<br
/> vector<Node
*> neighbors;<br
/> }</p></blockquote><p><strong>Hint:</strong><br
/> There are two main ways to traverse a graph. Do you still remember them? Could you tell if the graph is directed or undirected?</p><p><strong>Solution:</strong><br
/> There are two main ways to traverse a graph: <em>Breadth-first</em> or <em>Depth-first</em>. Let&#8217;s try the Breadth-first approach first, which requires a queue. For the Depth-first approach, please see Clone Graph Part II.</p><p>How does the breadth-first traversal works? Easy, as we pop a node off the queue, we copy each of its neighbors, and push them to the queue.</p><p>A straight forward breadth-first traversal seemed to work. But some details are still missing. For example, how do we connect the nodes of the cloned graph?</p><p>Before we continue, we first need to make sure if the graph is directed or not. If you notice how Node is defined above, it is quite obvious that the graph is a directed graph. Why?</p><p>For example, A can have a neighbor called B. Therefore, we may traverse from A to B. An undirected graph implies that B can always traverse back to A. Is it true here? No, because whether B could traverse back to A depends if one of B&#8217;s neighbor is A.</p><p>The fact that B can traverse back to A implies that the graph may contain a cycle. You must take extra care to handle this case. Imagine that you finished implementing without considering this case, and later being pointed out by your interviewer that your code has an infinite loop, yuck!</p><p>Let&#8217;s analyze this further by using the below example:</p><div
style="text-align: center; margin-bottom: 30px;"> <a
href="http://www.leetcode.com/wp-content/uploads/2012/05/graph.png"><img
src="http://www.leetcode.com/wp-content/uploads/2012/05/graph.png" alt="" title="graph" width="211" height="84" class="aligncenter size-full wp-image-1365" /></a><span
style="font-size: x-small;">A simple graph</span></div><p>Assume that the starting point of the graph is A. First, you make a copy of node A (A2), and found that A has only one neighbor B. You make a copy of B (B2) and connects A2->B2 by pushing B2 as A2&#8242;s neighbor. Next, you find that B has A as neighbor, which you have already made a copy of. Here, we have to be careful not to make a copy of A again, but to connect B2->A2 by pushing A2 as B2&#8242;s neighbor. But, how do we know if a node has already been copied?</p><p>Easy, we could use a hash table! As we copy a node, we insert it into the table. If we later find that one of a node&#8217;s neighbor is already in the table, we do not make a copy of that neighbor, but to push its neighbor&#8217;s copy to its copy instead. Therefore, the hash table would need to store a mapping of key-value pairs, where the key is a node in the original graph and its value is the node&#8217;s copy.</p><p>Let&#8217;s implement the code!</p><p></p><div
id="crayon-52a3e4b25bb86" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-pc print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 16px !important;">
typedef unordered_map&lt;Node *, Node *&gt; Map;

Node *clone(Node *graph) {
    if (!graph) return NULL;

    Map map;
    queue&lt;Node *&gt; q;
    q.push(graph);

    Node *graphCopy = new Node();
    map[graph] = graphCopy;

    while (!q.empty()) {
        Node *node = q.front();
        q.pop();
        int n = node-&gt;neighbors.size();
        for (int i = 0; i &lt; n; i++) {
            Node *neighbor = node-&gt;neighbors[i];
            // no copy exists
            if (map.find(neighbor) == map.end()) {
                Node *p = new Node();
                map[node]-&gt;neighbors.push_back(p);
                map[neighbor] = p;
                q.push(neighbor);
            } else {     // a copy already exists
                map[node]-&gt;neighbors.push_back(map[neighbor]);
            }
        }
    }

    return graphCopy;
}</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="hide"><div
class="crayon-nums-content" style="font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-num" data-line="crayon-52a3e4b25bb86-1">1</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b25bb86-2">2</div><div
class="crayon-num" data-line="crayon-52a3e4b25bb86-3">3</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b25bb86-4">4</div><div
class="crayon-num" data-line="crayon-52a3e4b25bb86-5">5</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b25bb86-6">6</div><div
class="crayon-num" data-line="crayon-52a3e4b25bb86-7">7</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b25bb86-8">8</div><div
class="crayon-num" data-line="crayon-52a3e4b25bb86-9">9</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b25bb86-10">10</div><div
class="crayon-num" data-line="crayon-52a3e4b25bb86-11">11</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b25bb86-12">12</div><div
class="crayon-num" data-line="crayon-52a3e4b25bb86-13">13</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b25bb86-14">14</div><div
class="crayon-num" data-line="crayon-52a3e4b25bb86-15">15</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b25bb86-16">16</div><div
class="crayon-num" data-line="crayon-52a3e4b25bb86-17">17</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b25bb86-18">18</div><div
class="crayon-num" data-line="crayon-52a3e4b25bb86-19">19</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b25bb86-20">20</div><div
class="crayon-num" data-line="crayon-52a3e4b25bb86-21">21</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b25bb86-22">22</div><div
class="crayon-num" data-line="crayon-52a3e4b25bb86-23">23</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b25bb86-24">24</div><div
class="crayon-num" data-line="crayon-52a3e4b25bb86-25">25</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b25bb86-26">26</div><div
class="crayon-num" data-line="crayon-52a3e4b25bb86-27">27</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b25bb86-28">28</div><div
class="crayon-num" data-line="crayon-52a3e4b25bb86-29">29</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b25bb86-30">30</div><div
class="crayon-num" data-line="crayon-52a3e4b25bb86-31">31</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b25bb86-32">32</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-line" id="crayon-52a3e4b25bb86-1"><span
class="r">typedef</span><span
class="h"> </span><span
class="i">unordered_map</span><span
class="o">&lt;</span><span
class="e ">Node *</span><span
class="sy">,</span><span
class="h"> </span><span
class="e ">Node *</span><span
class="o">&gt;</span><span
class="h"> </span><span
class="i">Map</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b25bb86-2">&nbsp;</div><div
class="crayon-line" id="crayon-52a3e4b25bb86-3"><span
class="e ">Node *</span><span
class="r">clone</span><span
class="sy">(</span><span
class="e ">Node *</span><span
class="i">graph</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b25bb86-4"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="o">!</span><span
class="i">graph</span><span
class="sy">)</span><span
class="h"> </span><span
class="st">return</span><span
class="h"> </span><span
class="t">NULL</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b25bb86-5">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b25bb86-6"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">Map </span><span
class="i">map</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b25bb86-7"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">queue</span><span
class="o">&lt;</span><span
class="e ">Node *</span><span
class="o">&gt;</span><span
class="h"> </span><span
class="i">q</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b25bb86-8"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">q</span><span
class="sy">.</span><span
class="e">push</span><span
class="sy">(</span><span
class="i">graph</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b25bb86-9">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b25bb86-10"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e ">Node *</span><span
class="v">graphCopy</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="r">new</span><span
class="h"> </span><span
class="e">Node</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b25bb86-11"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">map</span><span
class="sy">[</span><span
class="i">graph</span><span
class="sy">]</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">graphCopy</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b25bb86-12">&nbsp;</div><div
class="crayon-line" id="crayon-52a3e4b25bb86-13"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">while</span><span
class="h"> </span><span
class="sy">(</span><span
class="o">!</span><span
class="v">q</span><span
class="sy">.</span><span
class="e">empty</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b25bb86-14"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e ">Node *</span><span
class="v">node</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="v">q</span><span
class="sy">.</span><span
class="e">front</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b25bb86-15"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">q</span><span
class="sy">.</span><span
class="e">pop</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b25bb86-16"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="t">int</span><span
class="h"> </span><span
class="v">n</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">node</span><span
class="o">-&gt;</span><span
class="v">neighbors</span><span
class="sy">.</span><span
class="e">size</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b25bb86-17"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">for</span><span
class="h"> </span><span
class="sy">(</span><span
class="t">int</span><span
class="h"> </span><span
class="v">i</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="cn">0</span><span
class="sy">;</span><span
class="h"> </span><span
class="i">i</span><span
class="h"> </span><span
class="o">&lt;</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">;</span><span
class="h"> </span><span
class="i">i</span><span
class="o">++</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b25bb86-18"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e ">Node *</span><span
class="v">neighbor</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">node</span><span
class="o">-&gt;</span><span
class="v">neighbors</span><span
class="sy">[</span><span
class="i">i</span><span
class="sy">]</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b25bb86-19"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="c">// no copy exists</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b25bb86-20"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="v">map</span><span
class="sy">.</span><span
class="e">find</span><span
class="sy">(</span><span
class="i">neighbor</span><span
class="sy">)</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="v">map</span><span
class="sy">.</span><span
class="st">end</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3e4b25bb86-21"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e ">Node *</span><span
class="v">p</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="r">new</span><span
class="h"> </span><span
class="e">Node</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b25bb86-22"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">map</span><span
class="sy">[</span><span
class="i">node</span><span
class="sy">]</span><span
class="o">-&gt;</span><span
class="v">neighbors</span><span
class="sy">.</span><span
class="e">push_back</span><span
class="sy">(</span><span
class="i">p</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b25bb86-23"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">map</span><span
class="sy">[</span><span
class="i">neighbor</span><span
class="sy">]</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">p</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b25bb86-24"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">q</span><span
class="sy">.</span><span
class="e">push</span><span
class="sy">(</span><span
class="i">neighbor</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b25bb86-25"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span><span
class="h"> </span><span
class="st">else</span><span
class="h"> </span><span
class="sy">{</span><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class="c">// a copy already exists</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b25bb86-26"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">map</span><span
class="sy">[</span><span
class="i">node</span><span
class="sy">]</span><span
class="o">-&gt;</span><span
class="v">neighbors</span><span
class="sy">.</span><span
class="e">push_back</span><span
class="sy">(</span><span
class="v">map</span><span
class="sy">[</span><span
class="i">neighbor</span><span
class="sy">]</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b25bb86-27"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b25bb86-28"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3e4b25bb86-29"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b25bb86-30">&nbsp;</div><div
class="crayon-line" id="crayon-52a3e4b25bb86-31"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">return</span><span
class="h"> </span><span
class="i">graphCopy</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b25bb86-32"><span
class="sy">}</span></div></div></td></tr></table></div></div><p></p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="ratingblock "><div
class="ratingheader "></div><div
class="ratingstars "><div
id="article_rater_1354" class="ratepost gdsr-oxygen gdsr-size-24"><div
class="starsbar gdsr-size-24"><div
class="gdouter gdheight"><div
id="gdr_vote_a1354" style="width: 113.21739130435px;" class="gdinner gdheight"></div><div
id="gdr_stars_a1354" class="gdsr_rating_as"><a
id="gdsrX1354X5X0XaXarticle_rater_1354Xarticle_loader_1354X10X24" title="5 / 5" class="s5" rel="nofollow"></a><a
id="gdsrX1354X4X0XaXarticle_rater_1354Xarticle_loader_1354X10X24" title="4 / 5" class="s4" rel="nofollow"></a><a
id="gdsrX1354X3X0XaXarticle_rater_1354Xarticle_loader_1354X10X24" title="3 / 5" class="s3" rel="nofollow"></a><a
id="gdsrX1354X2X0XaXarticle_rater_1354Xarticle_loader_1354X10X24" title="2 / 5" class="s2" rel="nofollow"></a><a
id="gdsrX1354X1X0XaXarticle_rater_1354Xarticle_loader_1354X10X24" title="1 / 5" class="s1" rel="nofollow"></a></div></div></div></div><div
id="article_loader_1354" style="display: none; width: 120px " class="ratingloaderarticle"><div
class="loader radar " style="height: 24px"><div
class="loaderinner" style="padding-top: 2px">please wait...</div></div></div></div><div
class="ratingtext "><div
id="gdr_text_a1354">Rating: 4.7/<strong>5</strong> (46 votes cast)</div></div></div><span
class="hreview-aggregate"><span
class="item"><span
class="fn">Clone Graph Part I</span></span>, <span
class="rating"><span
class="average">4.7</span> out of <span
class="best">5</span> based on <span
class="votes">46</span> ratings <span
class="summary"></span></span></span></div><p
class="postmetadata">&nbsp;</p><div
class="alignleft"><a
href="http://leetcode.com/2012/01/palindrome-number.html" rel="prev"><span
class="meta-nav">&larr;</span> Palindrome Number</a></div><div
class="alignright"></div></div></div><div
id="comments"><h3> 39 responses to <em>Clone Graph Part I</em></h3><ol
class="commentlist"><li
class="comment byuser comment-author-wsygtc1988 even thread-even depth-1" id="comment-20477"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/wsygtc1988/" rel="nofollow"> <img
src="http://leetcode.com/wp-content/uploads/avatars/1625/7bcbe9a476f8b44053e899423b87cca6-bpthumb.jpg" alt="Avatar Image" class="avatar user-1625-avatar" width="50" height="50" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/wsygtc1988/" rel="nofollow">Chaos</a> said on <a
href="http://leetcode.com/2012/05/clone-graph-part-i.html#comment-20477"><span
class="time-since">May 30, 2012</span></a></p></div><div
class="comment-entry"><p>nice job:) and adding this problem to OJ list would be preferable</p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_20477_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_20477_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX20477XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_20477_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_20477_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX20477XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_20477_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2012/05/clone-graph-part-i.html?replytocom=20477#respond' onclick='return addComment.moveForm("comment-20477", "20477", "respond", "1354")'>Reply</a></div></div><ul
class='children'><li
class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="comment-20521"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/admin/" rel="nofollow"> <img
src="http://leetcode.com/wp-content/uploads/avatars/8268/2ffa5b26dd039dec008aa06ddae07ec0-bpthumb.jpg" alt="Avatar Image" class="avatar user-8268-avatar" width="25" height="25" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/admin/" rel="nofollow">1337c0d3r</a> said on <a
href="http://leetcode.com/2012/05/clone-graph-part-i.html#comment-20521"><span
class="time-since">May 31, 2012</span></a></p></div><div
class="comment-entry"><p>Thanks. I would try my best to add it.</p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_20521_c" class="gdt-size-20 gdthumbtext"> <strong
title="1 up, 0 down">+1</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_20521_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX20521XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_20521_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_20521_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX20521XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_20521_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2012/05/clone-graph-part-i.html?replytocom=20521#respond' onclick='return addComment.moveForm("comment-20521", "20521", "respond", "1354")'>Reply</a></div></div></li></ul></li><li
class="comment byuser comment-author-venki even thread-odd thread-alt depth-1" id="comment-20518"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/venki/" rel="nofollow"> <img
src="http://www.gravatar.com/avatar/fcdb46d0af7a70b0f08613e948e32877?d=identicon&amp;s=50&amp;r=G" alt="Avatar Image" class="avatar user-203-avatar" width="50" height="50" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/venki/" rel="nofollow">Venki</a> said on <a
href="http://leetcode.com/2012/05/clone-graph-part-i.html#comment-20518"><span
class="time-since">May 31, 2012</span></a></p></div><div
class="comment-entry"><p>@1337c0d3r,</p><p>I am not clear about graph representation. If the graph is having more than one SCC, how can it be represented using Node structure? For example, a directed graph with four nodes, A, B, C and D. Assume we have the directed edges, (A, B), (B, A), (D, C), (B, C) and (A, C) where pair (X, Y) represents directed edge from X to Y.</p><p>I was unable to construct graph for the above input. Am I missing anything? Please correct me&#8230;</p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_20518_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_20518_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX20518XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_20518_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_20518_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX20518XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_20518_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2012/05/clone-graph-part-i.html?replytocom=20518#respond' onclick='return addComment.moveForm("comment-20518", "20518", "respond", "1354")'>Reply</a></div></div><ul
class='children'><li
class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="comment-20519"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/admin/" rel="nofollow"> <img
src="http://leetcode.com/wp-content/uploads/avatars/8268/2ffa5b26dd039dec008aa06ddae07ec0-bpthumb.jpg" alt="Avatar Image" class="avatar user-8268-avatar" width="25" height="25" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/admin/" rel="nofollow">1337c0d3r</a> said on <a
href="http://leetcode.com/2012/05/clone-graph-part-i.html#comment-20519"><span
class="time-since">May 31, 2012</span></a></p></div><div
class="comment-entry"><p>In your above example,<br
/> Node A would have neighbors B, C.<br
/> Node B would have neighbors A, C.<br
/> Node C would have 0 neighbor.<br
/> Node D would have neighbor C.</p><p>Your job is to clone the above graph, and return a copy of its graph.</p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_20519_c" class="gdt-size-20 gdthumbtext"> <strong
title="1 up, 0 down">+1</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_20519_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX20519XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_20519_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_20519_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX20519XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_20519_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2012/05/clone-graph-part-i.html?replytocom=20519#respond' onclick='return addComment.moveForm("comment-20519", "20519", "respond", "1354")'>Reply</a></div></div></li></ul></li><li
class="comment byuser comment-author-venki even thread-even depth-1" id="comment-20540"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/venki/" rel="nofollow"> <img
src="http://www.gravatar.com/avatar/fcdb46d0af7a70b0f08613e948e32877?d=identicon&amp;s=50&amp;r=G" alt="Avatar Image" class="avatar user-203-avatar" width="50" height="50" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/venki/" rel="nofollow">Venki</a> said on <a
href="http://leetcode.com/2012/05/clone-graph-part-i.html#comment-20540"><span
class="time-since">May 31, 2012</span></a></p></div><div
class="comment-entry"><p>Oh, okay. I got it. Thanks. I face the above problem when I tried to create few test cases. But it worked fine for the partial graph. To add further, we can extend the Node structure with second level pointer that will point next component of the graph.</p><p>Any inputs?</p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_20540_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_20540_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX20540XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_20540_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_20540_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX20540XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_20540_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2012/05/clone-graph-part-i.html?replytocom=20540#respond' onclick='return addComment.moveForm("comment-20540", "20540", "respond", "1354")'>Reply</a></div></div></li><li
class="comment byuser comment-author-hector010 odd alt thread-odd thread-alt depth-1" id="comment-21055"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/hector010/" rel="nofollow"> <img
src="http://leetcode.com/wp-content/uploads/avatars/1225/b07badd735ae1ed09ee97b69f5f0d523-bpthumb.jpg" alt="Avatar Image" class="avatar user-1225-avatar" width="50" height="50" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/hector010/" rel="nofollow">Hector</a> said on <a
href="http://leetcode.com/2012/05/clone-graph-part-i.html#comment-21055"><span
class="time-since">June 12, 2012</span></a></p></div><div
class="comment-entry"><p>Guess the problem was to clone a &#8220;Connected&#8221; graph. Consider graph:</p><p>A-&gt;B&lt;-C</p><p>Code above start from A will stop at node B. Node C will be ignored&#8230;</p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_21055_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_21055_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX21055XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_21055_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_21055_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX21055XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_21055_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2012/05/clone-graph-part-i.html?replytocom=21055#respond' onclick='return addComment.moveForm("comment-21055", "21055", "respond", "1354")'>Reply</a></div></div><ul
class='children'><li
class="comment byuser comment-author-fengo871124 even depth-2" id="comment-68433"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/fengo871124/" rel="nofollow"> <img
src="http://www.gravatar.com/avatar/bf7bcf72eba8d8c70ff1fcf649e46479?d=identicon&amp;s=25&amp;r=G" alt="Avatar Image" class="avatar user-17757-avatar" width="25" height="25" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/fengo871124/" rel="nofollow">ZhigangZhao</a> said on <a
href="http://leetcode.com/2012/05/clone-graph-part-i.html#comment-68433"><span
class="time-since">July 23, 2013</span></a></p></div><div
class="comment-entry"><p>this graph can not be represented using only a node pointer. and it is not the case here.</p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_68433_c" class="gdt-size-20 gdthumbtext"> <strong
title="2 up, 0 down">+2</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_68433_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX68433XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_68433_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_68433_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX68433XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_68433_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2012/05/clone-graph-part-i.html?replytocom=68433#respond' onclick='return addComment.moveForm("comment-68433", "68433", "respond", "1354")'>Reply</a></div></div></li></ul></li><li
class="comment byuser comment-author-aquasan odd alt thread-even depth-1" id="comment-21363"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/aquasan/" rel="nofollow"> <img
src="http://www.gravatar.com/avatar/ad5e9bee8e68923db8fc5a684c3cb6fd?d=identicon&amp;s=50&amp;r=G" alt="Avatar Image" class="avatar user-1970-avatar" width="50" height="50" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/aquasan/" rel="nofollow">Sanjay Pandey</a> said on <a
href="http://leetcode.com/2012/05/clone-graph-part-i.html#comment-21363"><span
class="time-since">June 20, 2012</span></a></p></div><div
class="comment-entry"><p>To embed your code, please use</p><div
id="crayon-52a3e4b261d90" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-pc print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 16px !important;">
your code here</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="hide"><div
class="crayon-nums-content" style="font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-num" data-line="crayon-52a3e4b261d90-1">1</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-line" id="crayon-52a3e4b261d90-1"><span
class="e">your </span><span
class="e">code </span><span
class="i">here</span></div></div></td></tr></table></div></div><p>.</p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_21363_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_21363_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX21363XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_21363_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_21363_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX21363XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_21363_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2012/05/clone-graph-part-i.html?replytocom=21363#respond' onclick='return addComment.moveForm("comment-21363", "21363", "respond", "1354")'>Reply</a></div></div></li><li
class="comment even thread-odd thread-alt depth-1" id="comment-22324"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://www.arab-p.com" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/89e7c66d0411ba366b25898a01f84829?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://www.arab-p.com" rel="nofollow">عرب برامج</a> said on <a
href="http://leetcode.com/2012/05/clone-graph-part-i.html#comment-22324"><span
class="time-since">July 12, 2012</span></a></p></div><div
class="comment-entry"><p>thank u this is what i am loking for</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_22324_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_22324_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX22324XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_22324_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_22324_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX22324XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_22324_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2012/05/clone-graph-part-i.html?replytocom=22324#respond' onclick='return addComment.moveForm("comment-22324", "22324", "respond", "1354")'>Reply</a></div></div></li><li
class="comment byuser comment-author-xinsikuangchao odd alt thread-even depth-1" id="comment-22461"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/xinsikuangchao/" rel="nofollow"> <img
src="http://leetcode.com/wp-content/uploads/avatars/2544/05c28fd6cbb283069f0dffaee549883b-bpthumb.jpg" alt="Avatar Image" class="avatar user-2544-avatar" width="50" height="50" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/xinsikuangchao/" rel="nofollow">Jinhui</a> said on <a
href="http://leetcode.com/2012/05/clone-graph-part-i.html#comment-22461"><span
class="time-since">July 16, 2012</span></a></p></div><div
class="comment-entry"><p>I cannot help saying this is really a nice work with clear explanation. Thanks</p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_22461_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_22461_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX22461XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_22461_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_22461_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX22461XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_22461_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2012/05/clone-graph-part-i.html?replytocom=22461#respond' onclick='return addComment.moveForm("comment-22461", "22461", "respond", "1354")'>Reply</a></div></div></li><li
class="comment even thread-odd thread-alt depth-1" id="comment-23522"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://1.gravatar.com/avatar/541914dfd347e1bc6e5736df483ba2cf?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">temp123</a> said on <a
href="http://leetcode.com/2012/05/clone-graph-part-i.html#comment-23522"><span
class="time-since">August 8, 2012</span></a></p></div><div
class="comment-entry"><p>I&#8217;m not sure if I got the problem right.</p><p>I don&#8217;t why you can represent a graph as a node.<br
/> A graph is defined below:<br
/> struct Node {<br
/> vector neighbors;<br
/> }</p><p>What if the graph is not connected?</p><p>I also don&#8217;t know why this is difficult &#8212; graph is always represented by data structures. Can we just copy the data representation? Do we have to traverse the graph?</p><p>Thanks!</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_23522_c" class="gdt-size-20 gdthumbtext"> <strong
title="1 up, 1 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_23522_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX23522XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_23522_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_23522_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX23522XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_23522_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2012/05/clone-graph-part-i.html?replytocom=23522#respond' onclick='return addComment.moveForm("comment-23522", "23522", "respond", "1354")'>Reply</a></div></div><ul
class='children'><li
class="comment odd alt depth-2" id="comment-38416"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/ae57bcf8b3298ffd621bf846ce64f509?s=25&amp;d=identicon&amp;r=G' class='avatar avatar-25 photo' height='25' width='25' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">moussa</a> said on <a
href="http://leetcode.com/2012/05/clone-graph-part-i.html#comment-38416"><span
class="time-since">January 30, 2013</span></a></p></div><div
class="comment-entry"><p>I think you are right. The code will work for spanning tree but Forest which consists of  multiple disconnected trees.</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_38416_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_38416_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX38416XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_38416_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_38416_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX38416XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_38416_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2012/05/clone-graph-part-i.html?replytocom=38416#respond' onclick='return addComment.moveForm("comment-38416", "38416", "respond", "1354")'>Reply</a></div></div></li><li
class="comment byuser comment-author-lzsilica even depth-2" id="comment-59425"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/lzsilica/" rel="nofollow"> <img
src="http://www.gravatar.com/avatar/5d411e7eb90436f02877f7b455240521?d=identicon&amp;s=25&amp;r=G" alt="Avatar Image" class="avatar user-8614-avatar" width="25" height="25" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/lzsilica/" rel="nofollow">Nison</a> said on <a
href="http://leetcode.com/2012/05/clone-graph-part-i.html#comment-59425"><span
class="time-since">May 10, 2013</span></a></p></div><div
class="comment-entry"><p>Believe the question is not clear by its definition. Intuitively, as the Graph is defined by Node, it is supposed to be connected.</p><p>And by further reflection, a graph is usually defined as array of pointer of linked list, if clone a graph, the possible solution is simply combination of the individual graph clone, together with the final combination of the individual graphs into the whole graph.</p><p>But in latter case, the graph is not given by a node, rather, it should be given as a pointer of array of pointer of linked list.  In cases when graph is represented in other form, the solution is similar.</p><p>So up to now, the solution of the creator of this topic and other great guys are focusing on the individual graph clone &#8212; the core of the whole graph clone. You are all great guys and I have benefit a lot : )</p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_59425_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_59425_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX59425XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_59425_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_59425_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX59425XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_59425_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2012/05/clone-graph-part-i.html?replytocom=59425#respond' onclick='return addComment.moveForm("comment-59425", "59425", "respond", "1354")'>Reply</a></div></div></li></ul></li><li
class="comment odd alt thread-even depth-1" id="comment-23619"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/ab8acde3f2759cc4d55e0a1026d88c2f?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">Chao Chen</a> said on <a
href="http://leetcode.com/2012/05/clone-graph-part-i.html#comment-23619"><span
class="time-since">August 10, 2012</span></a></p></div><div
class="comment-entry"><p>You are using BFS.<br
/> Actually I was interviewed with this question yesterday.</p><p>And I used DFS. The following are my codes:<br
/> Node* DFS(Node *Input, hash_map &amp;hm){</p><p> if(hm.find(Input) != hm.end()){<br
/> return hm[Input];<br
/> }<br
/> Node *output = new Node();<br
/> hm[Input] = output;<br
/> for(int i = 0; i next.size();i++){<br
/> output-&gt;next.push_back(DFS(Input-&gt;next[i],hm));<br
/> }<br
/> return output;<br
/> }</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_23619_c" class="gdt-size-20 gdthumbtext"> <strong
title="4 up, 0 down">+4</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_23619_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX23619XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_23619_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_23619_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX23619XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_23619_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2012/05/clone-graph-part-i.html?replytocom=23619#respond' onclick='return addComment.moveForm("comment-23619", "23619", "respond", "1354")'>Reply</a></div></div><ul
class='children'><li
class="comment byuser comment-author-admin bypostauthor even depth-2" id="comment-23624"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/admin/" rel="nofollow"> <img
src="http://leetcode.com/wp-content/uploads/avatars/8268/2ffa5b26dd039dec008aa06ddae07ec0-bpthumb.jpg" alt="Avatar Image" class="avatar user-8268-avatar" width="25" height="25" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/admin/" rel="nofollow">1337c0d3r</a> said on <a
href="http://leetcode.com/2012/05/clone-graph-part-i.html#comment-23624"><span
class="time-since">August 11, 2012</span></a></p></div><div
class="comment-entry"><p>Yup, DFS is another solution, which is actually considerably easier than the BFS solution.</p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_23624_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_23624_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX23624XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_23624_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_23624_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX23624XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_23624_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2012/05/clone-graph-part-i.html?replytocom=23624#respond' onclick='return addComment.moveForm("comment-23624", "23624", "respond", "1354")'>Reply</a></div></div></li><li
class="comment byuser comment-author-brince101 odd alt depth-2" id="comment-77116"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/brince101/" rel="nofollow"> <img
src="http://www.gravatar.com/avatar/7940c6249ac1e722f5e325e7ec5d3377?d=identicon&amp;s=25&amp;r=G" alt="Avatar Image" class="avatar user-24273-avatar" width="25" height="25" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/brince101/" rel="nofollow">Eason</a> said on <a
href="http://leetcode.com/2012/05/clone-graph-part-i.html#comment-77116"><span
class="time-since">October 9, 2013</span></a></p></div><div
class="comment-entry"><p>Thanks for your code.</p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_77116_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_77116_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX77116XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_77116_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_77116_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX77116XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_77116_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2012/05/clone-graph-part-i.html?replytocom=77116#respond' onclick='return addComment.moveForm("comment-77116", "77116", "respond", "1354")'>Reply</a></div></div></li></ul></li><li
class="comment even thread-odd thread-alt depth-1" id="comment-23620"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/ab8acde3f2759cc4d55e0a1026d88c2f?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">Chao Chen</a> said on <a
href="http://leetcode.com/2012/05/clone-graph-part-i.html#comment-23620"><span
class="time-since">August 10, 2012</span></a></p></div><div
class="comment-entry"><p>And I guess that you can use my codes in your second part(I didn&#8217;t find part II).</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_23620_c" class="gdt-size-20 gdthumbtext"> <strong
title="1 up, 0 down">+1</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_23620_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX23620XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_23620_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_23620_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX23620XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_23620_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2012/05/clone-graph-part-i.html?replytocom=23620#respond' onclick='return addComment.moveForm("comment-23620", "23620", "respond", "1354")'>Reply</a></div></div></li><li
class="comment odd alt thread-even depth-1" id="comment-23727"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://1.gravatar.com/avatar/77864601526fc73452f5c7f942ac4ff4?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">jack</a> said on <a
href="http://leetcode.com/2012/05/clone-graph-part-i.html#comment-23727"><span
class="time-since">August 13, 2012</span></a></p></div><div
class="comment-entry"><p>sorry,I don&#8217;t understand this &#8220;if&#8221; part:</p><p>if (map.find(neighbor) == map.end()) {<br
/> Node *p = new Node();<br
/> map[node]-&gt;neighbors.push_back(p);<br
/> map[neighbor] = p;<br
/> q.push(neighbor);<br
/> }</p><p>if a copy doesn&#8217;t exist, an empty new node p was pushed to the end of one of graphCopy&#8217;s node&#8217;s neighbors vector table. Why push_back an empty new node, not a node from original graph node?</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_23727_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_23727_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX23727XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_23727_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_23727_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX23727XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_23727_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2012/05/clone-graph-part-i.html?replytocom=23727#respond' onclick='return addComment.moveForm("comment-23727", "23727", "respond", "1354")'>Reply</a></div></div><ul
class='children'><li
class="comment byuser comment-author-lzsilica even depth-2" id="comment-59430"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/lzsilica/" rel="nofollow"> <img
src="http://www.gravatar.com/avatar/5d411e7eb90436f02877f7b455240521?d=identicon&amp;s=25&amp;r=G" alt="Avatar Image" class="avatar user-8614-avatar" width="25" height="25" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/lzsilica/" rel="nofollow">Nison</a> said on <a
href="http://leetcode.com/2012/05/clone-graph-part-i.html#comment-59430"><span
class="time-since">May 10, 2013</span></a></p></div><div
class="comment-entry"><p>IMHO, an empty new node was pushed&#8230;.  the point is that, it is not only pushed into the vector, but also be added into the map, so the node in original graph and the node in new graph is &#8220;related to each other&#8221; by the bridge of map.</p><p>In first glance, it will only be put into the vector. But after thinking twice,  we can notice that the neighbor will be put into the queue. And at the time the neighbor is pop out, we will traverse its neighbor &#8212; that&#8217;s the time we will edit &#8220;empty node &#8221; p &#8212; node p now shows as &#8220;node&#8221;. By modification of node map[node], we actually modify node p.</p><p>So the connection is built through map, and the queue will serve as an coordinator to help decide who will be traversed first and who later.</p><p>Focus on the map and queue. They are the heart of the algorithm provided by this topic&#8217;s creator, if my guess is not wrong. : )</p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_59430_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_59430_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX59430XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_59430_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_59430_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX59430XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_59430_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2012/05/clone-graph-part-i.html?replytocom=59430#respond' onclick='return addComment.moveForm("comment-59430", "59430", "respond", "1354")'>Reply</a></div></div></li></ul></li><li
class="comment odd alt thread-odd thread-alt depth-1" id="comment-23827"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/a98209dd9e3ccb7b10f097d5d38a42d9?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">codez</a> said on <a
href="http://leetcode.com/2012/05/clone-graph-part-i.html#comment-23827"><span
class="time-since">August 15, 2012</span></a></p></div><div
class="comment-entry"><p>@1337c0d3r<br
/> i have the same doubt as Jack. y r we pushing an empty node?<br
/> plz clarify soon</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_23827_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_23827_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX23827XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_23827_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_23827_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX23827XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_23827_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2012/05/clone-graph-part-i.html?replytocom=23827#respond' onclick='return addComment.moveForm("comment-23827", "23827", "respond", "1354")'>Reply</a></div></div><ul
class='children'><li
class="comment byuser comment-author-admin bypostauthor even depth-2" id="comment-23829"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/admin/" rel="nofollow"> <img
src="http://leetcode.com/wp-content/uploads/avatars/8268/2ffa5b26dd039dec008aa06ddae07ec0-bpthumb.jpg" alt="Avatar Image" class="avatar user-8268-avatar" width="25" height="25" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/admin/" rel="nofollow">1337c0d3r</a> said on <a
href="http://leetcode.com/2012/05/clone-graph-part-i.html#comment-23829"><span
class="time-since">August 15, 2012</span></a></p></div><div
class="comment-entry"><p>By pushing an empty node you are essentially making a copy of the node. You are to clone a graph, so essentially make a copy of each node and linking all of them together.</p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_23829_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_23829_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX23829XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_23829_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_23829_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX23829XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_23829_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2012/05/clone-graph-part-i.html?replytocom=23829#respond' onclick='return addComment.moveForm("comment-23829", "23829", "respond", "1354")'>Reply</a></div></div><ul
class='children'><li
class="comment odd alt depth-3" id="comment-23897"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://1.gravatar.com/avatar/77864601526fc73452f5c7f942ac4ff4?s=25&amp;d=identicon&amp;r=G' class='avatar avatar-25 photo' height='25' width='25' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">jack</a> said on <a
href="http://leetcode.com/2012/05/clone-graph-part-i.html#comment-23897"><span
class="time-since">August 16, 2012</span></a></p></div><div
class="comment-entry"><p>In a graph, each node should have some data fields, such as &#8220;int data&#8221;.<br
/> Each node should have 2 parts:</p><p>struct Node {</p><p> int data;</p><p> vector neighbors;<br
/> }</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_23897_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_23897_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX23897XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_23897_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_23897_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX23897XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_23897_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2012/05/clone-graph-part-i.html?replytocom=23897#respond' onclick='return addComment.moveForm("comment-23897", "23897", "respond", "1354")'>Reply</a></div></div></li></ul></li></ul></li><li
class="comment byuser comment-author-nehaheights even thread-even depth-1" id="comment-23966"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/nehaheights/" rel="nofollow"> <img
src="http://www.gravatar.com/avatar/c361e74becf9499918868ada1e3b3e01?d=identicon&amp;s=50&amp;r=G" alt="Avatar Image" class="avatar user-2619-avatar" width="50" height="50" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/nehaheights/" rel="nofollow">nehaheights</a> said on <a
href="http://leetcode.com/2012/05/clone-graph-part-i.html#comment-23966"><span
class="time-since">August 17, 2012</span></a></p></div><div
class="comment-entry"><p>typedef unordered_map Map;<br
/> Map map;</p><p>void cloneDFS (Node *graph, Node *&amp;graphCopy) {<br
/> if (!graph) return;</p><p> if(map.find(graph) == map.end())<br
/> {<br
/> graphCopy = new Node();<br
/> map[graph] = graphCopy;<br
/> map[graph]-&gt;data = graph-&gt;data;<br
/> }</p><p> int n = graph-&gt;neighbors.size();<br
/> for (int i = 0; i neighbors[i];<br
/> // no copy exists<br
/> if (map.find(neighbor) == map.end()) {<br
/> Node *p = new Node();<br
/> map[graph]-&gt;neighbors.push_back(p);<br
/> map[neighbor] = p;<br
/> map[neighbor]-&gt;data = neighbor-&gt;data;<br
/> cloneDFS(neighbor, p);<br
/> } else {     // a copy already exists<br
/> map[graph]-&gt;neighbors.push_back(map[neighbor]);<br
/> }<br
/> }<br
/> }</p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_23966_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_23966_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX23966XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_23966_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_23966_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX23966XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_23966_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2012/05/clone-graph-part-i.html?replytocom=23966#respond' onclick='return addComment.moveForm("comment-23966", "23966", "respond", "1354")'>Reply</a></div></div><ul
class='children'><li
class="comment byuser comment-author-lzsilica odd alt depth-2" id="comment-59451"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/lzsilica/" rel="nofollow"> <img
src="http://www.gravatar.com/avatar/5d411e7eb90436f02877f7b455240521?d=identicon&amp;s=25&amp;r=G" alt="Avatar Image" class="avatar user-8614-avatar" width="25" height="25" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/lzsilica/" rel="nofollow">Nison</a> said on <a
href="http://leetcode.com/2012/05/clone-graph-part-i.html#comment-59451"><span
class="time-since">May 10, 2013</span></a></p></div><div
class="comment-entry"><p>IMHO, there are 3 aspects that you can improve your code.</p><p>1). The clone of parent node and clone of child node have some identical part. Those part could be simplified by recursive call. Yes, you did, but why clone neighbor twice, in the if statement under the true field?</p><p>2). Because of the void return type, you cannot benefit for its return information. So you made your choice to create the node before clone it, and then call recursive. But when calling recursively, you create another node using &#8220;new&#8221;, again. The will destroy the graph structure. Also, this will consume resources.</p><p>3). Another point is that because you select the cloned graph as an parameter, you have to declare it before the clone call. To avoid warning of uninitialized variable, you maybe choose to initialize it by new. This is not a fairly good choice IMO.</p><p>So, you refer to Chao Chen&#8217;s code. Why is his code so simple? Because<br
/> 1) he use return type smartly, so as to avoid duplicate information<br
/> 2) he separate steps clearly, no overlapping function</p><p>Let&#8217;s come back to your code, and I modify it according to your idea, as below. And you will see that it doesn&#8217;t work.</p><p></p><div
id="crayon-52a3e4b26101b" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-pc print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 16px !important;">
 #include 
#include 
#include 

struct Node
{
  int data;
  std::vector neighbors;
};

typedef std::unordered_map Map;
Map map;

void cloneDFS (Node *graph, Node *graphCopy)
{
  if ( !graph ) 
    return;
  // --------- copy parent node------------
  if( map.find(graph) == map.end() )
  {
    graphCopy = new Node();
    map[graph] = graphCopy;
    map[graph]-&gt;data = graph-&gt;data;
  }

  // --  copy parent node's neighbors -----
  int n = graph-&gt;neighbors.size();
  for (int i = 0; i neighbors[i];
    if ( map.find(neighbor) == map.end() )
    {
      Node* neighborCopy = new Node();
      cloneDFS( neighbor, neighborCopy);
      map[graph]-&gt;neighbors.push_back(map[neighbor]);
    }
    else
    { 
      // a copy already exists
      map[graph]-&gt;neighbors.push_back(map[neighbor]);
    }
  }
}

int main()
{
  Node* n1 = new Node();
  n1-&gt;data = 1;
  Node* n2 = new Node();
  n2-&gt;data = 2;
  Node* n3 = new Node();
  n3-&gt;data = 3;
  n1-&gt;neighbors.push_back(n2);
  n1-&gt;neighbors.push_back(n3);

  Node* copy = new Node();
  cloneDFS(n1, copy);

  return 0;
}</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="hide"><div
class="crayon-nums-content" style="font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-num" data-line="crayon-52a3e4b26101b-1">1</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b26101b-2">2</div><div
class="crayon-num" data-line="crayon-52a3e4b26101b-3">3</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b26101b-4">4</div><div
class="crayon-num" data-line="crayon-52a3e4b26101b-5">5</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b26101b-6">6</div><div
class="crayon-num" data-line="crayon-52a3e4b26101b-7">7</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b26101b-8">8</div><div
class="crayon-num" data-line="crayon-52a3e4b26101b-9">9</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b26101b-10">10</div><div
class="crayon-num" data-line="crayon-52a3e4b26101b-11">11</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b26101b-12">12</div><div
class="crayon-num" data-line="crayon-52a3e4b26101b-13">13</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b26101b-14">14</div><div
class="crayon-num" data-line="crayon-52a3e4b26101b-15">15</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b26101b-16">16</div><div
class="crayon-num" data-line="crayon-52a3e4b26101b-17">17</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b26101b-18">18</div><div
class="crayon-num" data-line="crayon-52a3e4b26101b-19">19</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b26101b-20">20</div><div
class="crayon-num" data-line="crayon-52a3e4b26101b-21">21</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b26101b-22">22</div><div
class="crayon-num" data-line="crayon-52a3e4b26101b-23">23</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b26101b-24">24</div><div
class="crayon-num" data-line="crayon-52a3e4b26101b-25">25</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b26101b-26">26</div><div
class="crayon-num" data-line="crayon-52a3e4b26101b-27">27</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b26101b-28">28</div><div
class="crayon-num" data-line="crayon-52a3e4b26101b-29">29</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b26101b-30">30</div><div
class="crayon-num" data-line="crayon-52a3e4b26101b-31">31</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b26101b-32">32</div><div
class="crayon-num" data-line="crayon-52a3e4b26101b-33">33</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b26101b-34">34</div><div
class="crayon-num" data-line="crayon-52a3e4b26101b-35">35</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b26101b-36">36</div><div
class="crayon-num" data-line="crayon-52a3e4b26101b-37">37</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b26101b-38">38</div><div
class="crayon-num" data-line="crayon-52a3e4b26101b-39">39</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b26101b-40">40</div><div
class="crayon-num" data-line="crayon-52a3e4b26101b-41">41</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b26101b-42">42</div><div
class="crayon-num" data-line="crayon-52a3e4b26101b-43">43</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b26101b-44">44</div><div
class="crayon-num" data-line="crayon-52a3e4b26101b-45">45</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b26101b-46">46</div><div
class="crayon-num" data-line="crayon-52a3e4b26101b-47">47</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b26101b-48">48</div><div
class="crayon-num" data-line="crayon-52a3e4b26101b-49">49</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b26101b-50">50</div><div
class="crayon-num" data-line="crayon-52a3e4b26101b-51">51</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b26101b-52">52</div><div
class="crayon-num" data-line="crayon-52a3e4b26101b-53">53</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b26101b-54">54</div><div
class="crayon-num" data-line="crayon-52a3e4b26101b-55">55</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b26101b-56">56</div><div
class="crayon-num" data-line="crayon-52a3e4b26101b-57">57</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b26101b-58">58</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-line" id="crayon-52a3e4b26101b-1"><span
class="h"> </span><span
class="p">#include </span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b26101b-2"><span
class="p">#include </span></div><div
class="crayon-line" id="crayon-52a3e4b26101b-3"><span
class="p">#include </span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b26101b-4">&nbsp;</div><div
class="crayon-line" id="crayon-52a3e4b26101b-5"><span
class="t">struct</span><span
class="h"> </span><span
class="e">Node</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b26101b-6"><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3e4b26101b-7"><span
class="h">&nbsp;&nbsp;</span><span
class="t">int</span><span
class="h"> </span><span
class="i">data</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b26101b-8"><span
class="h">&nbsp;&nbsp;</span><span
class="i">std</span><span
class="o">::</span><span
class="e">vector </span><span
class="i">neighbors</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b26101b-9"><span
class="sy">}</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b26101b-10">&nbsp;</div><div
class="crayon-line" id="crayon-52a3e4b26101b-11"><span
class="r">typedef</span><span
class="h"> </span><span
class="i">std</span><span
class="o">::</span><span
class="e">unordered_map </span><span
class="i">Map</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b26101b-12"><span
class="e">Map </span><span
class="i">map</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b26101b-13">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b26101b-14"><span
class="t">void</span><span
class="h"> </span><span
class="e">cloneDFS</span><span
class="h"> </span><span
class="sy">(</span><span
class="e ">Node *</span><span
class="i">graph</span><span
class="sy">,</span><span
class="h"> </span><span
class="e ">Node *</span><span
class="i">graphCopy</span><span
class="sy">)</span></div><div
class="crayon-line" id="crayon-52a3e4b26101b-15"><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b26101b-16"><span
class="h">&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="h"> </span><span
class="o">!</span><span
class="i">graph</span><span
class="h"> </span><span
class="sy">)</span><span
class="h"> </span></div><div
class="crayon-line" id="crayon-52a3e4b26101b-17"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">return</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b26101b-18"><span
class="h">&nbsp;&nbsp;</span><span
class="c">// --------- copy parent node------------</span></div><div
class="crayon-line" id="crayon-52a3e4b26101b-19"><span
class="h">&nbsp;&nbsp;</span><span
class="st">if</span><span
class="sy">(</span><span
class="h"> </span><span
class="v">map</span><span
class="sy">.</span><span
class="e">find</span><span
class="sy">(</span><span
class="i">graph</span><span
class="sy">)</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="v">map</span><span
class="sy">.</span><span
class="st">end</span><span
class="sy">(</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">)</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b26101b-20"><span
class="h">&nbsp;&nbsp;</span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3e4b26101b-21"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">graphCopy</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="r">new</span><span
class="h"> </span><span
class="e">Node</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b26101b-22"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">map</span><span
class="sy">[</span><span
class="i">graph</span><span
class="sy">]</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">graphCopy</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b26101b-23"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">map</span><span
class="sy">[</span><span
class="i">graph</span><span
class="sy">]</span><span
class="o">-&gt;</span><span
class="v">data</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">graph</span><span
class="o">-&gt;</span><span
class="i">data</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b26101b-24"><span
class="h">&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3e4b26101b-25">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b26101b-26"><span
class="h">&nbsp;&nbsp;</span><span
class="c">// --&nbsp;&nbsp;copy parent node's neighbors -----</span></div><div
class="crayon-line" id="crayon-52a3e4b26101b-27"><span
class="h">&nbsp;&nbsp;</span><span
class="t">int</span><span
class="h"> </span><span
class="v">n</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">graph</span><span
class="o">-&gt;</span><span
class="v">neighbors</span><span
class="sy">.</span><span
class="e">size</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b26101b-28"><span
class="h">&nbsp;&nbsp;</span><span
class="st">for</span><span
class="h"> </span><span
class="sy">(</span><span
class="t">int</span><span
class="h"> </span><span
class="v">i</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="cn">0</span><span
class="sy">;</span><span
class="h"> </span><span
class="i">i</span><span
class="h"> </span><span
class="v">neighbors</span><span
class="sy">[</span><span
class="i">i</span><span
class="sy">]</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b26101b-29"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="h"> </span><span
class="v">map</span><span
class="sy">.</span><span
class="e">find</span><span
class="sy">(</span><span
class="i">neighbor</span><span
class="sy">)</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="v">map</span><span
class="sy">.</span><span
class="st">end</span><span
class="sy">(</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">)</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b26101b-30"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3e4b26101b-31"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e ">Node*</span><span
class="h"> </span><span
class="v">neighborCopy</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="r">new</span><span
class="h"> </span><span
class="e">Node</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b26101b-32"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">cloneDFS</span><span
class="sy">(</span><span
class="h"> </span><span
class="i">neighbor</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">neighborCopy</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b26101b-33"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">map</span><span
class="sy">[</span><span
class="i">graph</span><span
class="sy">]</span><span
class="o">-&gt;</span><span
class="v">neighbors</span><span
class="sy">.</span><span
class="e">push_back</span><span
class="sy">(</span><span
class="v">map</span><span
class="sy">[</span><span
class="i">neighbor</span><span
class="sy">]</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b26101b-34"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3e4b26101b-35"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">else</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b26101b-36"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">{</span><span
class="h"> </span></div><div
class="crayon-line" id="crayon-52a3e4b26101b-37"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="c">// a copy already exists</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b26101b-38"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">map</span><span
class="sy">[</span><span
class="i">graph</span><span
class="sy">]</span><span
class="o">-&gt;</span><span
class="v">neighbors</span><span
class="sy">.</span><span
class="e">push_back</span><span
class="sy">(</span><span
class="v">map</span><span
class="sy">[</span><span
class="i">neighbor</span><span
class="sy">]</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b26101b-39"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b26101b-40"><span
class="h">&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3e4b26101b-41"><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b26101b-42">&nbsp;</div><div
class="crayon-line" id="crayon-52a3e4b26101b-43"><span
class="t">int</span><span
class="h"> </span><span
class="e">main</span><span
class="sy">(</span><span
class="sy">)</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b26101b-44"><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3e4b26101b-45"><span
class="h">&nbsp;&nbsp;</span><span
class="e ">Node*</span><span
class="h"> </span><span
class="v">n1</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="r">new</span><span
class="h"> </span><span
class="e">Node</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b26101b-46"><span
class="h">&nbsp;&nbsp;</span><span
class="i">n1</span><span
class="o">-&gt;</span><span
class="v">data</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="cn">1</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b26101b-47"><span
class="h">&nbsp;&nbsp;</span><span
class="e ">Node*</span><span
class="h"> </span><span
class="v">n2</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="r">new</span><span
class="h"> </span><span
class="e">Node</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b26101b-48"><span
class="h">&nbsp;&nbsp;</span><span
class="i">n2</span><span
class="o">-&gt;</span><span
class="v">data</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="cn">2</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b26101b-49"><span
class="h">&nbsp;&nbsp;</span><span
class="e ">Node*</span><span
class="h"> </span><span
class="v">n3</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="r">new</span><span
class="h"> </span><span
class="e">Node</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b26101b-50"><span
class="h">&nbsp;&nbsp;</span><span
class="i">n3</span><span
class="o">-&gt;</span><span
class="v">data</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="cn">3</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b26101b-51"><span
class="h">&nbsp;&nbsp;</span><span
class="i">n1</span><span
class="o">-&gt;</span><span
class="v">neighbors</span><span
class="sy">.</span><span
class="e">push_back</span><span
class="sy">(</span><span
class="i">n2</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b26101b-52"><span
class="h">&nbsp;&nbsp;</span><span
class="i">n1</span><span
class="o">-&gt;</span><span
class="v">neighbors</span><span
class="sy">.</span><span
class="e">push_back</span><span
class="sy">(</span><span
class="i">n3</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b26101b-53">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b26101b-54"><span
class="h">&nbsp;&nbsp;</span><span
class="e ">Node*</span><span
class="h"> </span><span
class="v">copy</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="r">new</span><span
class="h"> </span><span
class="e">Node</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b26101b-55"><span
class="h">&nbsp;&nbsp;</span><span
class="e">cloneDFS</span><span
class="sy">(</span><span
class="i">n1</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">copy</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b26101b-56">&nbsp;</div><div
class="crayon-line" id="crayon-52a3e4b26101b-57"><span
class="h">&nbsp;&nbsp;</span><span
class="st">return</span><span
class="h"> </span><span
class="cn">0</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b26101b-58"><span
class="sy">}</span></div></div></td></tr></table></div></div><p></p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_59451_c" class="gdt-size-20 gdthumbtext"> <strong
title="3 up, 0 down">+3</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_59451_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX59451XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_59451_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_59451_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX59451XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_59451_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2012/05/clone-graph-part-i.html?replytocom=59451#respond' onclick='return addComment.moveForm("comment-59451", "59451", "respond", "1354")'>Reply</a></div></div></li><li
class="comment byuser comment-author-lzsilica even depth-2" id="comment-59453"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/lzsilica/" rel="nofollow"> <img
src="http://www.gravatar.com/avatar/5d411e7eb90436f02877f7b455240521?d=identicon&amp;s=25&amp;r=G" alt="Avatar Image" class="avatar user-8614-avatar" width="25" height="25" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/lzsilica/" rel="nofollow">Nison</a> said on <a
href="http://leetcode.com/2012/05/clone-graph-part-i.html#comment-59453"><span
class="time-since">May 10, 2013</span></a></p></div><div
class="comment-entry"><p>IMHO, there are 3 aspects that you can improve your code.</p><p>1). The clone of parent node and clone of child node have some identical part. Those part could be simplified by recursive call. Yes, you did, but why clone neighbor twice, in the if statement under the true field?</p><p>2). Because of the void return type, you cannot benefit for its return information. So you made your choice to create the node before clone it, and then call recursive. But when calling recursively, you create another node using &#8220;new&#8221;, again. The will destroy the graph structure. Also, this will consume resources.</p><p>3). Another point is that because you select the cloned graph as an parameter, you have to declare it before the clone call. To avoid warning of uninitialized variable, you maybe choose to initialize it by new. This is not a fairly good choice IMO.</p><p>So, you refer to Chao Chen&#8217;s code. Why is his code so simple? Because<br
/> 1) he use return type smartly, so as to avoid duplicate information<br
/> 2) he separate steps clearly, no overlapping function</p><p>Let&#8217;s come back to your code, and I modify it according to your idea, as below. And you will see that it doesn&#8217;t work.</p><p></p><div
id="crayon-52a3e4b260e12" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-pc print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 16px !important;">
#include 
#include 
#include 

struct Node
{
  int data;
  std::vector neighbors;
};

typedef std::unordered_map Map;
Map map;

void cloneDFS (Node *graph, Node *graphCopy)
{
  if ( !graph ) 
    return;
  // --------- copy parent node------------
  if( map.find(graph) == map.end() )
  {
    graphCopy = new Node();
    map[graph] = graphCopy;
    map[graph]-&gt;data = graph-&gt;data;
  }

  // --  copy parent node's neighbors -----
  int n = graph-&gt;neighbors.size();
  for (int i = 0; i neighbors[i];
    if ( map.find(neighbor) == map.end() )
    {
      Node* neighborCopy = new Node();
      cloneDFS( neighbor, neighborCopy);
      map[graph]-&gt;neighbors.push_back(map[neighbor]);
    }
    else
    { 
      // a copy already exists
      map[graph]-&gt;neighbors.push_back(map[neighbor]);
    }
  }
}

int main()
{
  Node* n1 = new Node();
  n1-&gt;data = 1;
  Node* n2 = new Node();
  n2-&gt;data = 2;
  Node* n3 = new Node();
  n3-&gt;data = 3;
  n1-&gt;neighbors.push_back(n2);
  n1-&gt;neighbors.push_back(n3);

  Node* copy = new Node();
  cloneDFS(n1, copy);

  return 0;
}</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="hide"><div
class="crayon-nums-content" style="font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-num" data-line="crayon-52a3e4b260e12-1">1</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b260e12-2">2</div><div
class="crayon-num" data-line="crayon-52a3e4b260e12-3">3</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b260e12-4">4</div><div
class="crayon-num" data-line="crayon-52a3e4b260e12-5">5</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b260e12-6">6</div><div
class="crayon-num" data-line="crayon-52a3e4b260e12-7">7</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b260e12-8">8</div><div
class="crayon-num" data-line="crayon-52a3e4b260e12-9">9</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b260e12-10">10</div><div
class="crayon-num" data-line="crayon-52a3e4b260e12-11">11</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b260e12-12">12</div><div
class="crayon-num" data-line="crayon-52a3e4b260e12-13">13</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b260e12-14">14</div><div
class="crayon-num" data-line="crayon-52a3e4b260e12-15">15</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b260e12-16">16</div><div
class="crayon-num" data-line="crayon-52a3e4b260e12-17">17</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b260e12-18">18</div><div
class="crayon-num" data-line="crayon-52a3e4b260e12-19">19</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b260e12-20">20</div><div
class="crayon-num" data-line="crayon-52a3e4b260e12-21">21</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b260e12-22">22</div><div
class="crayon-num" data-line="crayon-52a3e4b260e12-23">23</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b260e12-24">24</div><div
class="crayon-num" data-line="crayon-52a3e4b260e12-25">25</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b260e12-26">26</div><div
class="crayon-num" data-line="crayon-52a3e4b260e12-27">27</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b260e12-28">28</div><div
class="crayon-num" data-line="crayon-52a3e4b260e12-29">29</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b260e12-30">30</div><div
class="crayon-num" data-line="crayon-52a3e4b260e12-31">31</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b260e12-32">32</div><div
class="crayon-num" data-line="crayon-52a3e4b260e12-33">33</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b260e12-34">34</div><div
class="crayon-num" data-line="crayon-52a3e4b260e12-35">35</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b260e12-36">36</div><div
class="crayon-num" data-line="crayon-52a3e4b260e12-37">37</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b260e12-38">38</div><div
class="crayon-num" data-line="crayon-52a3e4b260e12-39">39</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b260e12-40">40</div><div
class="crayon-num" data-line="crayon-52a3e4b260e12-41">41</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b260e12-42">42</div><div
class="crayon-num" data-line="crayon-52a3e4b260e12-43">43</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b260e12-44">44</div><div
class="crayon-num" data-line="crayon-52a3e4b260e12-45">45</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b260e12-46">46</div><div
class="crayon-num" data-line="crayon-52a3e4b260e12-47">47</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b260e12-48">48</div><div
class="crayon-num" data-line="crayon-52a3e4b260e12-49">49</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b260e12-50">50</div><div
class="crayon-num" data-line="crayon-52a3e4b260e12-51">51</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b260e12-52">52</div><div
class="crayon-num" data-line="crayon-52a3e4b260e12-53">53</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b260e12-54">54</div><div
class="crayon-num" data-line="crayon-52a3e4b260e12-55">55</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b260e12-56">56</div><div
class="crayon-num" data-line="crayon-52a3e4b260e12-57">57</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b260e12-58">58</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-line" id="crayon-52a3e4b260e12-1"><span
class="p">#include </span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b260e12-2"><span
class="p">#include </span></div><div
class="crayon-line" id="crayon-52a3e4b260e12-3"><span
class="p">#include </span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b260e12-4">&nbsp;</div><div
class="crayon-line" id="crayon-52a3e4b260e12-5"><span
class="t">struct</span><span
class="h"> </span><span
class="e">Node</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b260e12-6"><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3e4b260e12-7"><span
class="h">&nbsp;&nbsp;</span><span
class="t">int</span><span
class="h"> </span><span
class="i">data</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b260e12-8"><span
class="h">&nbsp;&nbsp;</span><span
class="i">std</span><span
class="o">::</span><span
class="e">vector </span><span
class="i">neighbors</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b260e12-9"><span
class="sy">}</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b260e12-10">&nbsp;</div><div
class="crayon-line" id="crayon-52a3e4b260e12-11"><span
class="r">typedef</span><span
class="h"> </span><span
class="i">std</span><span
class="o">::</span><span
class="e">unordered_map </span><span
class="i">Map</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b260e12-12"><span
class="e">Map </span><span
class="i">map</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b260e12-13">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b260e12-14"><span
class="t">void</span><span
class="h"> </span><span
class="e">cloneDFS</span><span
class="h"> </span><span
class="sy">(</span><span
class="e ">Node *</span><span
class="i">graph</span><span
class="sy">,</span><span
class="h"> </span><span
class="e ">Node *</span><span
class="i">graphCopy</span><span
class="sy">)</span></div><div
class="crayon-line" id="crayon-52a3e4b260e12-15"><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b260e12-16"><span
class="h">&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="h"> </span><span
class="o">!</span><span
class="i">graph</span><span
class="h"> </span><span
class="sy">)</span><span
class="h"> </span></div><div
class="crayon-line" id="crayon-52a3e4b260e12-17"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">return</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b260e12-18"><span
class="h">&nbsp;&nbsp;</span><span
class="c">// --------- copy parent node------------</span></div><div
class="crayon-line" id="crayon-52a3e4b260e12-19"><span
class="h">&nbsp;&nbsp;</span><span
class="st">if</span><span
class="sy">(</span><span
class="h"> </span><span
class="v">map</span><span
class="sy">.</span><span
class="e">find</span><span
class="sy">(</span><span
class="i">graph</span><span
class="sy">)</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="v">map</span><span
class="sy">.</span><span
class="st">end</span><span
class="sy">(</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">)</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b260e12-20"><span
class="h">&nbsp;&nbsp;</span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3e4b260e12-21"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">graphCopy</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="r">new</span><span
class="h"> </span><span
class="e">Node</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b260e12-22"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">map</span><span
class="sy">[</span><span
class="i">graph</span><span
class="sy">]</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">graphCopy</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b260e12-23"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">map</span><span
class="sy">[</span><span
class="i">graph</span><span
class="sy">]</span><span
class="o">-&gt;</span><span
class="v">data</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">graph</span><span
class="o">-&gt;</span><span
class="i">data</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b260e12-24"><span
class="h">&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3e4b260e12-25">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b260e12-26"><span
class="h">&nbsp;&nbsp;</span><span
class="c">// --&nbsp;&nbsp;copy parent node's neighbors -----</span></div><div
class="crayon-line" id="crayon-52a3e4b260e12-27"><span
class="h">&nbsp;&nbsp;</span><span
class="t">int</span><span
class="h"> </span><span
class="v">n</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">graph</span><span
class="o">-&gt;</span><span
class="v">neighbors</span><span
class="sy">.</span><span
class="e">size</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b260e12-28"><span
class="h">&nbsp;&nbsp;</span><span
class="st">for</span><span
class="h"> </span><span
class="sy">(</span><span
class="t">int</span><span
class="h"> </span><span
class="v">i</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="cn">0</span><span
class="sy">;</span><span
class="h"> </span><span
class="i">i</span><span
class="h"> </span><span
class="v">neighbors</span><span
class="sy">[</span><span
class="i">i</span><span
class="sy">]</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b260e12-29"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="h"> </span><span
class="v">map</span><span
class="sy">.</span><span
class="e">find</span><span
class="sy">(</span><span
class="i">neighbor</span><span
class="sy">)</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="v">map</span><span
class="sy">.</span><span
class="st">end</span><span
class="sy">(</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">)</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b260e12-30"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3e4b260e12-31"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e ">Node*</span><span
class="h"> </span><span
class="v">neighborCopy</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="r">new</span><span
class="h"> </span><span
class="e">Node</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b260e12-32"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">cloneDFS</span><span
class="sy">(</span><span
class="h"> </span><span
class="i">neighbor</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">neighborCopy</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b260e12-33"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">map</span><span
class="sy">[</span><span
class="i">graph</span><span
class="sy">]</span><span
class="o">-&gt;</span><span
class="v">neighbors</span><span
class="sy">.</span><span
class="e">push_back</span><span
class="sy">(</span><span
class="v">map</span><span
class="sy">[</span><span
class="i">neighbor</span><span
class="sy">]</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b260e12-34"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3e4b260e12-35"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">else</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b260e12-36"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">{</span><span
class="h"> </span></div><div
class="crayon-line" id="crayon-52a3e4b260e12-37"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="c">// a copy already exists</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b260e12-38"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">map</span><span
class="sy">[</span><span
class="i">graph</span><span
class="sy">]</span><span
class="o">-&gt;</span><span
class="v">neighbors</span><span
class="sy">.</span><span
class="e">push_back</span><span
class="sy">(</span><span
class="v">map</span><span
class="sy">[</span><span
class="i">neighbor</span><span
class="sy">]</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b260e12-39"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b260e12-40"><span
class="h">&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3e4b260e12-41"><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b260e12-42">&nbsp;</div><div
class="crayon-line" id="crayon-52a3e4b260e12-43"><span
class="t">int</span><span
class="h"> </span><span
class="e">main</span><span
class="sy">(</span><span
class="sy">)</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b260e12-44"><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3e4b260e12-45"><span
class="h">&nbsp;&nbsp;</span><span
class="e ">Node*</span><span
class="h"> </span><span
class="v">n1</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="r">new</span><span
class="h"> </span><span
class="e">Node</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b260e12-46"><span
class="h">&nbsp;&nbsp;</span><span
class="i">n1</span><span
class="o">-&gt;</span><span
class="v">data</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="cn">1</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b260e12-47"><span
class="h">&nbsp;&nbsp;</span><span
class="e ">Node*</span><span
class="h"> </span><span
class="v">n2</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="r">new</span><span
class="h"> </span><span
class="e">Node</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b260e12-48"><span
class="h">&nbsp;&nbsp;</span><span
class="i">n2</span><span
class="o">-&gt;</span><span
class="v">data</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="cn">2</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b260e12-49"><span
class="h">&nbsp;&nbsp;</span><span
class="e ">Node*</span><span
class="h"> </span><span
class="v">n3</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="r">new</span><span
class="h"> </span><span
class="e">Node</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b260e12-50"><span
class="h">&nbsp;&nbsp;</span><span
class="i">n3</span><span
class="o">-&gt;</span><span
class="v">data</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="cn">3</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b260e12-51"><span
class="h">&nbsp;&nbsp;</span><span
class="i">n1</span><span
class="o">-&gt;</span><span
class="v">neighbors</span><span
class="sy">.</span><span
class="e">push_back</span><span
class="sy">(</span><span
class="i">n2</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b260e12-52"><span
class="h">&nbsp;&nbsp;</span><span
class="i">n1</span><span
class="o">-&gt;</span><span
class="v">neighbors</span><span
class="sy">.</span><span
class="e">push_back</span><span
class="sy">(</span><span
class="i">n3</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b260e12-53">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b260e12-54"><span
class="h">&nbsp;&nbsp;</span><span
class="e ">Node*</span><span
class="h"> </span><span
class="v">copy</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="r">new</span><span
class="h"> </span><span
class="e">Node</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b260e12-55"><span
class="h">&nbsp;&nbsp;</span><span
class="e">cloneDFS</span><span
class="sy">(</span><span
class="i">n1</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">copy</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b260e12-56">&nbsp;</div><div
class="crayon-line" id="crayon-52a3e4b260e12-57"><span
class="h">&nbsp;&nbsp;</span><span
class="st">return</span><span
class="h"> </span><span
class="cn">0</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b260e12-58"><span
class="sy">}</span></div></div></td></tr></table></div></div><p></p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_59453_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_59453_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX59453XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_59453_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_59453_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX59453XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_59453_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2012/05/clone-graph-part-i.html?replytocom=59453#respond' onclick='return addComment.moveForm("comment-59453", "59453", "respond", "1354")'>Reply</a></div></div><ul
class='children'><li
class="comment byuser comment-author-renguo odd alt depth-3" id="comment-62144"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/renguo/" rel="nofollow"> <img
src="http://www.gravatar.com/avatar/a75ab6ce80f23fafcbe0ba5d638b4ac7?d=identicon&amp;s=25&amp;r=G" alt="Avatar Image" class="avatar user-14287-avatar" width="25" height="25" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/renguo/" rel="nofollow">renguo</a> said on <a
href="http://leetcode.com/2012/05/clone-graph-part-i.html#comment-62144"><span
class="time-since">June 3, 2013</span></a></p></div><div
class="comment-entry"><p>using namespace std;</p><p>struct node{<br
/> int data;<br
/> vector neighbors;<br
/> };</p><p>unordered_map m;</p><p>void cloneNeighbors(node*, node*);</p><p>node* cloneGraphDFS(node* graph){<br
/> if(!graph)<br
/> return NULL;</p><p> node* graphClone = new node;<br
/> graphClone-&gt;data = graph-&gt;data;<br
/> m[graph] = graphClone;</p><p> cloneNeighbors(graph, graphClone);</p><p> return graphClone;<br
/> }</p><p>void cloneNeighbors(node* origin, node* clone){</p><p> int n = origin-&gt;neighbors.size();</p><p> for(int i=0; ineighbors[i];</p><p> if(m.find(pNeighbor)== m.end()){<br
/> node* pNeighborClone = new node;<br
/> pNeighborClone-&gt;data = pNeighbor-&gt;data;<br
/> m[pNeighbor] = pNeighborClone;<br
/> m[origin]-&gt;neighbors.push_back(pNeighborClone);</p><p> cloneNeighbors(pNeighbor, pNeighborClone);<br
/> }<br
/> else{<br
/> m[origin]-&gt;neighbors.push_back(m[pNeighbor]);<br
/> }</p><p> }//for i<br
/> }</p><p>int main( )<br
/> {<br
/> node* root = new node;<br
/> root-&gt;data = 0;</p><p> node* node1 = new node;<br
/> node1-&gt;data = 1;<br
/> root-&gt;neighbors.push_back(node1);<br
/> node1-&gt;neighbors.push_back(root);</p><p> node * node2 = new node;<br
/> node2-&gt;data = 2;<br
/> node1-&gt;neighbors.push_back(node2);</p><p> node* graphClone = cloneGraphDFS(root);</p><p> return 0;<br
/> }</p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_62144_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_62144_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX62144XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_62144_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_62144_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX62144XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_62144_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2012/05/clone-graph-part-i.html?replytocom=62144#respond' onclick='return addComment.moveForm("comment-62144", "62144", "respond", "1354")'>Reply</a></div></div></li></ul></li></ul></li><li
class="comment even thread-odd thread-alt depth-1" id="comment-36920"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://1.gravatar.com/avatar/d1782475469d17f7bf428bec33c22801?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">Bin</a> said on <a
href="http://leetcode.com/2012/05/clone-graph-part-i.html#comment-36920"><span
class="time-since">January 23, 2013</span></a></p></div><div
class="comment-entry"><p>seems separate the node creating and relationship copying makes code more readable, this is my answer</p><p></p><div
id="crayon-52a3e4b261698" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-pc print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 16px !important;">
</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="hide"><div
class="crayon-nums-content" style="font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-num" data-line="crayon-52a3e4b261698-1">1</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-line" id="crayon-52a3e4b261698-1">&nbsp;</div></div></td></tr></table></div></div><p></p><p> class Node<br
/> {<br
/> public Node()<br
/> {<br
/> neighbors = new List();<br
/> }<br
/> public IList neighbors { get; private set; }<br
/> }</p><p> Node Copy(Node org)<br
/> {<br
/> if (null == org)<br
/> return null;<br
/> Queue wait = new Queue();<br
/> IDictionary map = new Dictionary();</p><p> wait.Enqueue(org);<br
/> while (wait.Count &gt; 0)<br
/> {<br
/> var current = wait.Dequeue();<br
/> if (!map.ContainsKey(current))<br
/> {<br
/> Node copy = new Node();<br
/> map.Add(current, copy);<br
/> }<br
/> foreach (Node neighbor in current.neighbors)<br
/> {<br
/> if (!map.ContainsKey(neighbor))<br
/> {<br
/> wait.Enqueue(neighbor);<br
/> }<br
/> }<br
/> }</p><p> foreach (KeyValuePair pair in map)<br
/> {<br
/> foreach (Node neighbor in pair.Key.neighbors)<br
/> {<br
/> pair.Value.neighbors.Add(map[neighbor]);<br
/> }<br
/> }</p><p> return map[org];<br
/> }</p><div
id="crayon-52a3e4b261749" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-pc print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 16px !important;">
</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="hide"><div
class="crayon-nums-content" style="font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-num" data-line="crayon-52a3e4b261749-1">1</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-line" id="crayon-52a3e4b261749-1">&nbsp;</div></div></td></tr></table></div></div><p></p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_36920_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_36920_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX36920XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_36920_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_36920_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX36920XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_36920_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2012/05/clone-graph-part-i.html?replytocom=36920#respond' onclick='return addComment.moveForm("comment-36920", "36920", "respond", "1354")'>Reply</a></div></div></li><li
class="comment odd alt thread-even depth-1" id="comment-47268"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/e0ddd828b4a561e79a850c2867bc9867?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">chen long</a> said on <a
href="http://leetcode.com/2012/05/clone-graph-part-i.html#comment-47268"><span
class="time-since">March 11, 2013</span></a></p></div><div
class="comment-entry"><p></p><div
id="crayon-52a3e4b2613a7" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-pc print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 16px !important;">
</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="hide"><div
class="crayon-nums-content" style="font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-num" data-line="crayon-52a3e4b2613a7-1">1</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-line" id="crayon-52a3e4b2613a7-1">&nbsp;</div></div></td></tr></table></div></div><p>// Type your C++ code and click the &#8220;Run Code&#8221; button!<br
/> // Your code output will be shown on the left.<br
/> // Click on the &#8220;Show input&#8221; button to enter input data to be read (from stdin).</p><p>#include<br
/> #include<br
/> #include<br
/> #include<br
/> #include</p><p>using namespace std;</p><p>struct Node {<br
/> Node(int value) : value(value) {}</p><p> Node(Node &amp;rhs) {<br
/> if (&amp;rhs == this) {return;}<br
/> this-&gt;value = rhs.value;<br
/> this-&gt;neighbors.resize(rhs.neighbors.size());<br
/> }<br
/> int value;<br
/> vector neighbors;<br
/> };</p><p>Node* clone(Node *node) {<br
/> if(node == 0) { return 0; }</p><p> map created;<br
/> queue to_expand;</p><p> int id = 0;<br
/> Node *copy = new Node(*node);<br
/> created[node] = copy;</p><p> to_expand.push(node);</p><p> while(!to_expand.empty()) {<br
/> // fetech the first node<br
/> Node *curr = to_expand.front();<br
/> to_expand.pop();</p><p> int n_size = curr-&gt;neighbors.size();<br
/> // copy the neighbors of curr_src into curr_dst.<br
/> for(int n_idx = 0; n_idx neighbors[n_idx];</p><p> // if we have created the copy, fill out the created one.<br
/> if(created.find(c) != created.end()) {<br
/> // cloned node alreayd exist.<br
/> created[curr]-&gt;neighbors[n_idx] = created[c][/c];<br
/> }else{<br
/> // no cloned node existed.<br
/> Node* n = new Node(*c);<br
/> // this is a new node, we need to fill out its neighbors as well.<br
/> // let&#8217;s register into the BFS queue for future explore.<br
/> created[curr]-&gt;neighbors[n_idx] = n;<br
/> created[c][/c] = n;<br
/> to_expand.push(c);<br
/> }<br
/> }<br
/> }<br
/> return copy;<br
/> }</p><p>int main() {</p><p> Node *src = new Node(100);<br
/> src-&gt;neighbors.push_back(new Node(101));<br
/> src-&gt;neighbors[0]-&gt;neighbors.push_back(src);</p><p> Node *dst = clone(src);</p><p> // cout &lt;value &lt;&lt; endl;<br
/> cout &lt;value &lt;&lt; endl;<br
/> cout &lt;neighbors[0]-&gt;value &lt;&lt; endl;<br
/> cout &lt;neighbors[0]-&gt;neighbors[0]&lt;&lt; endl;</p><p> return 0;<br
/> }</p><div
id="crayon-52a3e4b261462" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-pc print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 16px !important;">
</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="hide"><div
class="crayon-nums-content" style="font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-num" data-line="crayon-52a3e4b261462-1">1</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-line" id="crayon-52a3e4b261462-1">&nbsp;</div></div></td></tr></table></div></div><p></p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_47268_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_47268_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX47268XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_47268_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_47268_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX47268XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_47268_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2012/05/clone-graph-part-i.html?replytocom=47268#respond' onclick='return addComment.moveForm("comment-47268", "47268", "respond", "1354")'>Reply</a></div></div></li><li
class="comment byuser comment-author-benzbenz even thread-odd thread-alt depth-1" id="comment-53248"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/benzbenz/" rel="nofollow"> <img
src="http://www.gravatar.com/avatar/bee83c1ba494adab650e62096fede1c6?d=identicon&amp;s=50&amp;r=G" alt="Avatar Image" class="avatar user-8847-avatar" width="50" height="50" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/benzbenz/" rel="nofollow">B l</a> said on <a
href="http://leetcode.com/2012/05/clone-graph-part-i.html#comment-53248"><span
class="time-since">April 4, 2013</span></a></p></div><div
class="comment-entry"><p>this code will run infinitely if the graph has a loop: A-&gt;B-&gt;C-&gt;A. is it right?</p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_53248_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_53248_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX53248XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_53248_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_53248_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX53248XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_53248_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2012/05/clone-graph-part-i.html?replytocom=53248#respond' onclick='return addComment.moveForm("comment-53248", "53248", "respond", "1354")'>Reply</a></div></div><ul
class='children'><li
class="comment byuser comment-author-overboming odd alt depth-2" id="comment-53898"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/overboming/" rel="nofollow"> <img
src="http://www.gravatar.com/avatar/c9ad9b2542847d1f800de53f2623d223?d=identicon&amp;s=25&amp;r=G" alt="Avatar Image" class="avatar user-10771-avatar" width="25" height="25" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/overboming/" rel="nofollow">overboming</a> said on <a
href="http://leetcode.com/2012/05/clone-graph-part-i.html#comment-53898"><span
class="time-since">April 7, 2013</span></a></p></div><div
class="comment-entry"><p>No, it&#8217;s breath first, A-&gt;C is already in the hashmap when C is on the top of the queue</p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_53898_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_53898_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX53898XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_53898_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_53898_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX53898XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_53898_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2012/05/clone-graph-part-i.html?replytocom=53898#respond' onclick='return addComment.moveForm("comment-53898", "53898", "respond", "1354")'>Reply</a></div></div></li></ul></li><li
class="comment byuser comment-author-anil-moolagmail-com even thread-even depth-1" id="comment-62291"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/anil-moolagmail-com/" rel="nofollow"> <img
src="http://www.gravatar.com/avatar/4666795efb8a223afa969c28a556bac1?d=identicon&amp;s=50&amp;r=G" alt="Avatar Image" class="avatar user-13533-avatar" width="50" height="50" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/anil-moolagmail-com/" rel="nofollow">mars</a> said on <a
href="http://leetcode.com/2012/05/clone-graph-part-i.html#comment-62291"><span
class="time-since">June 5, 2013</span></a></p></div><div
class="comment-entry"><p>we are creating one copy and using pointers in the vector.. my concern is when we need to  delete nodes the question comes who is responsible for free up memory and so need to be extra careful in deleting node..I would convert node* to some shared pointer so that ownership issues wil not arise</p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_62291_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_62291_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX62291XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_62291_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_62291_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX62291XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_62291_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2012/05/clone-graph-part-i.html?replytocom=62291#respond' onclick='return addComment.moveForm("comment-62291", "62291", "respond", "1354")'>Reply</a></div></div></li><li
class="comment byuser comment-author-amax odd alt thread-odd thread-alt depth-1" id="comment-66402"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/amax/" rel="nofollow"> <img
src="http://www.gravatar.com/avatar/9ba3c725c0f9fb5897cc673c50d9d478?d=identicon&amp;s=50&amp;r=G" alt="Avatar Image" class="avatar user-16415-avatar" width="50" height="50" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/amax/" rel="nofollow">Amax</a> said on <a
href="http://leetcode.com/2012/05/clone-graph-part-i.html#comment-66402"><span
class="time-since">July 5, 2013</span></a></p></div><div
class="comment-entry"><p></p><div
id="crayon-52a3e4b260ae2" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-pc print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 16px !important;">
// this one should also work on directed graph
#include 
#include 
#include 
#include 
using namespace std;

struct Node {
    vector neighbors;
};

static Node *Clone(Node *src) {
    queue toVisit;
    map mapNodes;
    set visited;
    toVisit.push(src);
    Node *temp = src;
    Node *ret = new Node();
    mapNodes[temp] = ret;
    while (!toVisit.empty()) {
        temp = toVisit.front();
        toVisit.pop();
        if (visited.find(temp) != visited.end())
            continue;
        Node *newNode = mapNodes[temp];
        assert(newNode-&gt;neighbors.size() == 0);
        int size = temp-&gt;neighbors.size();
        for (int i = 0; i neighbors[i];
            toVisit.push(neighbor);
            map::iterator it = mapNodes.find(neighbor);
            if (it != mapNodes.end())
                mapNodes[neighbor] = new Node();
            newNode-&gt;neighbors.push_back(mapNodes[neighbor]);
        }
        visited.insert(temp);
    }
    return ret;
}</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="hide"><div
class="crayon-nums-content" style="font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-num" data-line="crayon-52a3e4b260ae2-1">1</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b260ae2-2">2</div><div
class="crayon-num" data-line="crayon-52a3e4b260ae2-3">3</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b260ae2-4">4</div><div
class="crayon-num" data-line="crayon-52a3e4b260ae2-5">5</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b260ae2-6">6</div><div
class="crayon-num" data-line="crayon-52a3e4b260ae2-7">7</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b260ae2-8">8</div><div
class="crayon-num" data-line="crayon-52a3e4b260ae2-9">9</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b260ae2-10">10</div><div
class="crayon-num" data-line="crayon-52a3e4b260ae2-11">11</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b260ae2-12">12</div><div
class="crayon-num" data-line="crayon-52a3e4b260ae2-13">13</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b260ae2-14">14</div><div
class="crayon-num" data-line="crayon-52a3e4b260ae2-15">15</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b260ae2-16">16</div><div
class="crayon-num" data-line="crayon-52a3e4b260ae2-17">17</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b260ae2-18">18</div><div
class="crayon-num" data-line="crayon-52a3e4b260ae2-19">19</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b260ae2-20">20</div><div
class="crayon-num" data-line="crayon-52a3e4b260ae2-21">21</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b260ae2-22">22</div><div
class="crayon-num" data-line="crayon-52a3e4b260ae2-23">23</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b260ae2-24">24</div><div
class="crayon-num" data-line="crayon-52a3e4b260ae2-25">25</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b260ae2-26">26</div><div
class="crayon-num" data-line="crayon-52a3e4b260ae2-27">27</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b260ae2-28">28</div><div
class="crayon-num" data-line="crayon-52a3e4b260ae2-29">29</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b260ae2-30">30</div><div
class="crayon-num" data-line="crayon-52a3e4b260ae2-31">31</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b260ae2-32">32</div><div
class="crayon-num" data-line="crayon-52a3e4b260ae2-33">33</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b260ae2-34">34</div><div
class="crayon-num" data-line="crayon-52a3e4b260ae2-35">35</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b260ae2-36">36</div><div
class="crayon-num" data-line="crayon-52a3e4b260ae2-37">37</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b260ae2-38">38</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-line" id="crayon-52a3e4b260ae2-1"><span
class="c">// this one should also work on directed graph</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b260ae2-2"><span
class="p">#include </span></div><div
class="crayon-line" id="crayon-52a3e4b260ae2-3"><span
class="p">#include </span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b260ae2-4"><span
class="p">#include </span></div><div
class="crayon-line" id="crayon-52a3e4b260ae2-5"><span
class="p">#include </span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b260ae2-6"><span
class="e">using </span><span
class="t">namespace</span><span
class="h"> </span><span
class="i">std</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b260ae2-7">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b260ae2-8"><span
class="t">struct</span><span
class="h"> </span><span
class="e">Node</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3e4b260ae2-9"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">vector </span><span
class="i">neighbors</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b260ae2-10"><span
class="sy">}</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b260ae2-11">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b260ae2-12"><span
class="m">static</span><span
class="h"> </span><span
class="e ">Node *</span><span
class="r">Clone</span><span
class="sy">(</span><span
class="e ">Node *</span><span
class="i">src</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3e4b260ae2-13"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">queue </span><span
class="i">toVisit</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b260ae2-14"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">map </span><span
class="i">mapNodes</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b260ae2-15"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">set </span><span
class="i">visited</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b260ae2-16"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">toVisit</span><span
class="sy">.</span><span
class="e">push</span><span
class="sy">(</span><span
class="i">src</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b260ae2-17"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e ">Node *</span><span
class="v">temp</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">src</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b260ae2-18"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e ">Node *</span><span
class="v">ret</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="r">new</span><span
class="h"> </span><span
class="e">Node</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b260ae2-19"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">mapNodes</span><span
class="sy">[</span><span
class="i">temp</span><span
class="sy">]</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">ret</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b260ae2-20"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">while</span><span
class="h"> </span><span
class="sy">(</span><span
class="o">!</span><span
class="v">toVisit</span><span
class="sy">.</span><span
class="e">empty</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3e4b260ae2-21"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">temp</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="v">toVisit</span><span
class="sy">.</span><span
class="e">front</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b260ae2-22"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">toVisit</span><span
class="sy">.</span><span
class="e">pop</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b260ae2-23"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="v">visited</span><span
class="sy">.</span><span
class="e">find</span><span
class="sy">(</span><span
class="i">temp</span><span
class="sy">)</span><span
class="h"> </span><span
class="o">!=</span><span
class="h"> </span><span
class="v">visited</span><span
class="sy">.</span><span
class="st">end</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">)</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b260ae2-24"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">continue</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b260ae2-25"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e ">Node *</span><span
class="v">newNode</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="v">mapNodes</span><span
class="sy">[</span><span
class="i">temp</span><span
class="sy">]</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b260ae2-26"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">assert</span><span
class="sy">(</span><span
class="i">newNode</span><span
class="o">-&gt;</span><span
class="v">neighbors</span><span
class="sy">.</span><span
class="e">size</span><span
class="sy">(</span><span
class="sy">)</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="cn">0</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b260ae2-27"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="t">int</span><span
class="h"> </span><span
class="v">size</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">temp</span><span
class="o">-&gt;</span><span
class="v">neighbors</span><span
class="sy">.</span><span
class="e">size</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b260ae2-28"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">for</span><span
class="h"> </span><span
class="sy">(</span><span
class="t">int</span><span
class="h"> </span><span
class="v">i</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="cn">0</span><span
class="sy">;</span><span
class="h"> </span><span
class="i">i</span><span
class="h"> </span><span
class="v">neighbors</span><span
class="sy">[</span><span
class="i">i</span><span
class="sy">]</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b260ae2-29"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">toVisit</span><span
class="sy">.</span><span
class="e">push</span><span
class="sy">(</span><span
class="i">neighbor</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b260ae2-30"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">map</span><span
class="o">::</span><span
class="e">iterator </span><span
class="v">it</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="v">mapNodes</span><span
class="sy">.</span><span
class="e">find</span><span
class="sy">(</span><span
class="i">neighbor</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b260ae2-31"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="i">it</span><span
class="h"> </span><span
class="o">!=</span><span
class="h"> </span><span
class="v">mapNodes</span><span
class="sy">.</span><span
class="st">end</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">)</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b260ae2-32"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">mapNodes</span><span
class="sy">[</span><span
class="i">neighbor</span><span
class="sy">]</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="r">new</span><span
class="h"> </span><span
class="e">Node</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b260ae2-33"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">newNode</span><span
class="o">-&gt;</span><span
class="v">neighbors</span><span
class="sy">.</span><span
class="e">push_back</span><span
class="sy">(</span><span
class="v">mapNodes</span><span
class="sy">[</span><span
class="i">neighbor</span><span
class="sy">]</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b260ae2-34"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3e4b260ae2-35"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">visited</span><span
class="sy">.</span><span
class="e">insert</span><span
class="sy">(</span><span
class="i">temp</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b260ae2-36"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3e4b260ae2-37"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">return</span><span
class="h"> </span><span
class="i">ret</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b260ae2-38"><span
class="sy">}</span></div></div></td></tr></table></div></div><p></p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_66402_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_66402_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX66402XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_66402_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_66402_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX66402XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_66402_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2012/05/clone-graph-part-i.html?replytocom=66402#respond' onclick='return addComment.moveForm("comment-66402", "66402", "respond", "1354")'>Reply</a></div></div></li><li
class="comment byuser comment-author-answerv even thread-even depth-1" id="comment-66406"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/answerv/" rel="nofollow"> <img
src="http://www.gravatar.com/avatar/103347892b4ed1ba5990c3cd5d7962ad?d=identicon&amp;s=50&amp;r=G" alt="Avatar Image" class="avatar user-16396-avatar" width="50" height="50" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/answerv/" rel="nofollow">answer</a> said on <a
href="http://leetcode.com/2012/05/clone-graph-part-i.html#comment-66406"><span
class="time-since">July 5, 2013</span></a></p></div><div
class="comment-entry"><p></p><div
id="crayon-52a3e4b2608ef" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-pc print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 16px !important;">
public class CopyGraph{
    
    final private static Map nodeMap = new HashMap();
    final private static Stack nodeStack = new Stack();
    
    public static class Node{
        
        final private Set neighbors = new HashSet();
        
        public Set getNeighbors(){
            return this.neighbors;
        }
        
        public void addToNeighbor(final Node node){
            neighbors.add(node);
        }
    }
    
    public static Node copyGraph(final Node node){
        if (null == node){
            return null;
        }
        
        // Init the stack
        nodeStack.push(node);
        
        // Copy a new node
        final Node copiedNode = new Node();
        
        // Init the map
        nodeMap.put(node, copiedNode);
            
        while(!nodeStack.empty()){
            // Get the first node
            final Node popedNode = nodeStack.pop();
            
            for (final Node neighbor : popedNode.getNeighbors()){
                final Node copiedNeighbor;
                if (!nodeMap.containsKey(neighbor)){
                    copiedNeighbor = new Node();
                    nodeStack.push(neighbor);
                } else {
                    copiedNeighbor = nodeMap.get(neighbor);
                }
                copiedNode.addToNeighbor(copiedNeighbor);    
            }
            
            // keep in map to avoid multiple node creation
            nodeMap.put(popedNode, copiedNode);
        }
        return copiedNode;
    }
    
    public static void main(String[] args) {
        final Node node = new Node();
        copyGraph(node);
    }
}</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="hide"><div
class="crayon-nums-content" style="font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-num" data-line="crayon-52a3e4b2608ef-1">1</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2608ef-2">2</div><div
class="crayon-num" data-line="crayon-52a3e4b2608ef-3">3</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2608ef-4">4</div><div
class="crayon-num" data-line="crayon-52a3e4b2608ef-5">5</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2608ef-6">6</div><div
class="crayon-num" data-line="crayon-52a3e4b2608ef-7">7</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2608ef-8">8</div><div
class="crayon-num" data-line="crayon-52a3e4b2608ef-9">9</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2608ef-10">10</div><div
class="crayon-num" data-line="crayon-52a3e4b2608ef-11">11</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2608ef-12">12</div><div
class="crayon-num" data-line="crayon-52a3e4b2608ef-13">13</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2608ef-14">14</div><div
class="crayon-num" data-line="crayon-52a3e4b2608ef-15">15</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2608ef-16">16</div><div
class="crayon-num" data-line="crayon-52a3e4b2608ef-17">17</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2608ef-18">18</div><div
class="crayon-num" data-line="crayon-52a3e4b2608ef-19">19</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2608ef-20">20</div><div
class="crayon-num" data-line="crayon-52a3e4b2608ef-21">21</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2608ef-22">22</div><div
class="crayon-num" data-line="crayon-52a3e4b2608ef-23">23</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2608ef-24">24</div><div
class="crayon-num" data-line="crayon-52a3e4b2608ef-25">25</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2608ef-26">26</div><div
class="crayon-num" data-line="crayon-52a3e4b2608ef-27">27</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2608ef-28">28</div><div
class="crayon-num" data-line="crayon-52a3e4b2608ef-29">29</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2608ef-30">30</div><div
class="crayon-num" data-line="crayon-52a3e4b2608ef-31">31</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2608ef-32">32</div><div
class="crayon-num" data-line="crayon-52a3e4b2608ef-33">33</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2608ef-34">34</div><div
class="crayon-num" data-line="crayon-52a3e4b2608ef-35">35</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2608ef-36">36</div><div
class="crayon-num" data-line="crayon-52a3e4b2608ef-37">37</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2608ef-38">38</div><div
class="crayon-num" data-line="crayon-52a3e4b2608ef-39">39</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2608ef-40">40</div><div
class="crayon-num" data-line="crayon-52a3e4b2608ef-41">41</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2608ef-42">42</div><div
class="crayon-num" data-line="crayon-52a3e4b2608ef-43">43</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2608ef-44">44</div><div
class="crayon-num" data-line="crayon-52a3e4b2608ef-45">45</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2608ef-46">46</div><div
class="crayon-num" data-line="crayon-52a3e4b2608ef-47">47</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2608ef-48">48</div><div
class="crayon-num" data-line="crayon-52a3e4b2608ef-49">49</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2608ef-50">50</div><div
class="crayon-num" data-line="crayon-52a3e4b2608ef-51">51</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2608ef-52">52</div><div
class="crayon-num" data-line="crayon-52a3e4b2608ef-53">53</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2608ef-54">54</div><div
class="crayon-num" data-line="crayon-52a3e4b2608ef-55">55</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2608ef-56">56</div><div
class="crayon-num" data-line="crayon-52a3e4b2608ef-57">57</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2608ef-58">58</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-line" id="crayon-52a3e4b2608ef-1"><span
class="m">public</span><span
class="h"> </span><span
class="t">class</span><span
class="h"> </span><span
class="e">CopyGraph</span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2608ef-2"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div
class="crayon-line" id="crayon-52a3e4b2608ef-3"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="m">final</span><span
class="h"> </span><span
class="m">private</span><span
class="h"> </span><span
class="m">static</span><span
class="h"> </span><span
class="e">Map </span><span
class="v">nodeMap</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="r">new</span><span
class="h"> </span><span
class="e">HashMap</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2608ef-4"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="m">final</span><span
class="h"> </span><span
class="m">private</span><span
class="h"> </span><span
class="m">static</span><span
class="h"> </span><span
class="e">Stack </span><span
class="v">nodeStack</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="r">new</span><span
class="h"> </span><span
class="e">Stack</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b2608ef-5"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2608ef-6"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="m">public</span><span
class="h"> </span><span
class="m">static</span><span
class="h"> </span><span
class="t">class</span><span
class="h"> </span><span
class="e">Node</span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3e4b2608ef-7"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2608ef-8"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="m">final</span><span
class="h"> </span><span
class="m">private</span><span
class="h"> </span><span
class="e">Set </span><span
class="v">neighbors</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="r">new</span><span
class="h"> </span><span
class="e">HashSet</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b2608ef-9"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2608ef-10"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="m">public</span><span
class="h"> </span><span
class="e">Set </span><span
class="e">getNeighbors</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3e4b2608ef-11"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">return</span><span
class="h"> </span><span
class="r">this</span><span
class="sy">.</span><span
class="i">neighbors</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2608ef-12"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3e4b2608ef-13"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2608ef-14"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="m">public</span><span
class="h"> </span><span
class="t">void</span><span
class="h"> </span><span
class="e">addToNeighbor</span><span
class="sy">(</span><span
class="m">final</span><span
class="h"> </span><span
class="e">Node </span><span
class="i">node</span><span
class="sy">)</span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3e4b2608ef-15"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">neighbors</span><span
class="sy">.</span><span
class="e">add</span><span
class="sy">(</span><span
class="i">node</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2608ef-16"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3e4b2608ef-17"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2608ef-18"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div
class="crayon-line" id="crayon-52a3e4b2608ef-19"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="m">public</span><span
class="h"> </span><span
class="m">static</span><span
class="h"> </span><span
class="e">Node </span><span
class="e">copyGraph</span><span
class="sy">(</span><span
class="m">final</span><span
class="h"> </span><span
class="e">Node </span><span
class="i">node</span><span
class="sy">)</span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2608ef-20"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="t">null</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="i">node</span><span
class="sy">)</span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3e4b2608ef-21"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">return</span><span
class="h"> </span><span
class="t">null</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2608ef-22"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3e4b2608ef-23"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2608ef-24"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="c">// Init the stack</span></div><div
class="crayon-line" id="crayon-52a3e4b2608ef-25"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">nodeStack</span><span
class="sy">.</span><span
class="e">push</span><span
class="sy">(</span><span
class="i">node</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2608ef-26"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div
class="crayon-line" id="crayon-52a3e4b2608ef-27"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="c">// Copy a new node</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2608ef-28"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="m">final</span><span
class="h"> </span><span
class="e">Node </span><span
class="v">copiedNode</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="r">new</span><span
class="h"> </span><span
class="e">Node</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b2608ef-29"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2608ef-30"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="c">// Init the map</span></div><div
class="crayon-line" id="crayon-52a3e4b2608ef-31"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">nodeMap</span><span
class="sy">.</span><span
class="e">put</span><span
class="sy">(</span><span
class="i">node</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">copiedNode</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2608ef-32"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div
class="crayon-line" id="crayon-52a3e4b2608ef-33"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">while</span><span
class="sy">(</span><span
class="o">!</span><span
class="v">nodeStack</span><span
class="sy">.</span><span
class="e">empty</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">)</span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2608ef-34"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="c">// Get the first node</span></div><div
class="crayon-line" id="crayon-52a3e4b2608ef-35"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="m">final</span><span
class="h"> </span><span
class="e">Node </span><span
class="v">popedNode</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="v">nodeStack</span><span
class="sy">.</span><span
class="e">pop</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2608ef-36"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div
class="crayon-line" id="crayon-52a3e4b2608ef-37"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">for</span><span
class="h"> </span><span
class="sy">(</span><span
class="m">final</span><span
class="h"> </span><span
class="e">Node </span><span
class="i">neighbor</span><span
class="h"> </span><span
class="o">:</span><span
class="h"> </span><span
class="v">popedNode</span><span
class="sy">.</span><span
class="e">getNeighbors</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">)</span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2608ef-38"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="m">final</span><span
class="h"> </span><span
class="e">Node </span><span
class="i">copiedNeighbor</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b2608ef-39"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="o">!</span><span
class="v">nodeMap</span><span
class="sy">.</span><span
class="e">containsKey</span><span
class="sy">(</span><span
class="i">neighbor</span><span
class="sy">)</span><span
class="sy">)</span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2608ef-40"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">copiedNeighbor</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="r">new</span><span
class="h"> </span><span
class="e">Node</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b2608ef-41"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">nodeStack</span><span
class="sy">.</span><span
class="e">push</span><span
class="sy">(</span><span
class="i">neighbor</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2608ef-42"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span><span
class="h"> </span><span
class="st">else</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3e4b2608ef-43"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">copiedNeighbor</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="v">nodeMap</span><span
class="sy">.</span><span
class="e">get</span><span
class="sy">(</span><span
class="i">neighbor</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2608ef-44"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3e4b2608ef-45"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">copiedNode</span><span
class="sy">.</span><span
class="e">addToNeighbor</span><span
class="sy">(</span><span
class="i">copiedNeighbor</span><span
class="sy">)</span><span
class="sy">;</span><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2608ef-46"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3e4b2608ef-47"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2608ef-48"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="c">// keep in map to avoid multiple node creation</span></div><div
class="crayon-line" id="crayon-52a3e4b2608ef-49"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">nodeMap</span><span
class="sy">.</span><span
class="e">put</span><span
class="sy">(</span><span
class="i">popedNode</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">copiedNode</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2608ef-50"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3e4b2608ef-51"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">return</span><span
class="h"> </span><span
class="i">copiedNode</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2608ef-52"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3e4b2608ef-53"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2608ef-54"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="m">public</span><span
class="h"> </span><span
class="m">static</span><span
class="h"> </span><span
class="t">void</span><span
class="h"> </span><span
class="e">main</span><span
class="sy">(</span><span
class="t">String</span><span
class="sy">[</span><span
class="sy">]</span><span
class="h"> </span><span
class="i">args</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3e4b2608ef-55"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="m">final</span><span
class="h"> </span><span
class="e">Node </span><span
class="v">node</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="r">new</span><span
class="h"> </span><span
class="e">Node</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2608ef-56"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">copyGraph</span><span
class="sy">(</span><span
class="i">node</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b2608ef-57"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2608ef-58"><span
class="sy">}</span></div></div></td></tr></table></div></div><p></p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_66406_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_66406_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX66406XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_66406_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_66406_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX66406XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_66406_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2012/05/clone-graph-part-i.html?replytocom=66406#respond' onclick='return addComment.moveForm("comment-66406", "66406", "respond", "1354")'>Reply</a></div></div></li><li
class="comment byuser comment-author-mathieu2leetcode odd alt thread-odd thread-alt depth-1" id="comment-70575"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/mathieu2leetcode/" rel="nofollow"> <img
src="http://www.gravatar.com/avatar/c8427a4c1872ab1d516dce3680a2dfd5?d=identicon&amp;s=50&amp;r=G" alt="Avatar Image" class="avatar user-12953-avatar" width="50" height="50" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/mathieu2leetcode/" rel="nofollow">quleetcode</a> said on <a
href="http://leetcode.com/2012/05/clone-graph-part-i.html#comment-70575"><span
class="time-since">August 9, 2013</span></a></p></div><div
class="comment-entry"><p>why i can not use OJ ?</p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_70575_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_70575_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX70575XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_70575_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_70575_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX70575XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_70575_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2012/05/clone-graph-part-i.html?replytocom=70575#respond' onclick='return addComment.moveForm("comment-70575", "70575", "respond", "1354")'>Reply</a></div></div></li><li
class="comment byuser comment-author-zuofabutong even thread-even depth-1" id="comment-77917"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/zuofabutong/" rel="nofollow"> <img
src="http://www.gravatar.com/avatar/38189dc95cc560969b503e4ab4284650?d=identicon&amp;s=50&amp;r=G" alt="Avatar Image" class="avatar user-16936-avatar" width="50" height="50" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/zuofabutong/" rel="nofollow">wangjie</a> said on <a
href="http://leetcode.com/2012/05/clone-graph-part-i.html#comment-77917"><span
class="time-since">October 14, 2013</span></a></p></div><div
class="comment-entry"><p>god! , why the disscuss need another count</p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_77917_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_77917_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX77917XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_77917_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_77917_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX77917XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_77917_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2012/05/clone-graph-part-i.html?replytocom=77917#respond' onclick='return addComment.moveForm("comment-77917", "77917", "respond", "1354")'>Reply</a></div></div></li><li
class="comment odd alt thread-odd thread-alt depth-1" id="comment-78385"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://www.fromdev.com" rel="nofollow"> <img
alt='' src='http://1.gravatar.com/avatar/5b0e4ffbfbacf8585badf6bc13dbfaa3?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://www.fromdev.com" rel="nofollow">Dev</a> said on <a
href="http://leetcode.com/2012/05/clone-graph-part-i.html#comment-78385"><span
class="time-since">October 17, 2013</span></a></p></div><div
class="comment-entry"><p>Neat, seems like a lot of different ways we can clone a graph. But which one is most efficient. and main question is do we really need to clone the whole graph. Good read, comments are even more interesting. <img
src='http://leetcode.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /></p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_78385_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_78385_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX78385XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_78385_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_78385_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX78385XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_78385_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2012/05/clone-graph-part-i.html?replytocom=78385#respond' onclick='return addComment.moveForm("comment-78385", "78385", "respond", "1354")'>Reply</a></div></div></li><li
class="comment byuser comment-author-vamossagar even thread-even depth-1" id="comment-82773"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/vamossagar/" rel="nofollow"> <img
src="http://www.gravatar.com/avatar/a99c1b7009345cd051de02c5505ce192?d=identicon&amp;s=50&amp;r=G" alt="Avatar Image" class="avatar user-27060-avatar" width="50" height="50" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/vamossagar/" rel="nofollow">Sagar</a> said on <a
href="http://leetcode.com/2012/05/clone-graph-part-i.html#comment-82773"><span
class="time-since">November 10, 2013</span></a></p></div><div
class="comment-entry"><p>Logic similar to what has been posted above, but used a queue&#8230;</p><p></p><div
id="crayon-52a3e4b2604e3" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-pc print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 16px !important;">
package com.leetcode;

import java.util.ArrayList;
import java.util.HashSet;
import java.util.LinkedList;
import java.util.List;
import java.util.Queue;
import java.util.Set;

public class Graph {

	private static Vertex start;

	private static class Vertex {
		
		Integer value;
		final private Set neighbors = new HashSet();
		
		Vertex(Integer value){
			this.value = value;
		}
		
		Vertex(){
			
		}

		public Integer getValue() {
			return value;
		}

		public void setValue(Integer value) {
			this.value = value;
		}

		public Set getNeighbors() {
			return this.neighbors;
		}

		public void addToNeighbor(final Vertex node) {
			neighbors.add(node);
		}
	}

	public static List breadthFirst(Vertex start){
		ArrayList vertices = new ArrayList();
		Queue vertexQueue = new LinkedList();
		vertexQueue.add(start);
		while(!vertexQueue.isEmpty()){
			Vertex vertex = vertexQueue.poll();
			vertices.add(vertex);
			Set neighbours = vertex.getNeighbors();
			for(Vertex neighbour:neighbours){
				if(!vertexQueue.contains(neighbour))
					vertexQueue.add(neighbour);
			}
		}
		return vertices;
	}
	
	public Vertex cloneGraph(Vertex start){
		Vertex clonedStart = new Vertex();
		clonedStart = start;
		Set clonedVertices = new HashSet();
		Queue vertexQueue = new LinkedList();
		vertexQueue.add(start);
		clonedVertices.add(start);
		
		while(!vertexQueue.isEmpty()){
			Vertex vertex = vertexQueue.poll();
			Vertex copiedVertex = new Vertex();
			copiedVertex = vertex;
			Set neighbours = vertex.getNeighbors();
			for(Vertex neighbour : neighbours){
				if (!clonedVertices.contains(neighbour)) {
					Vertex newClone = new Vertex();
					newClone = neighbour;
					clonedVertices.add(newClone);
					copiedVertex.addToNeighbor(newClone);
				}
			}
		}
		return clonedStart;
	}
	
	public Graph(){
		Vertex A = new Vertex(10);
		Vertex B = new Vertex(20);
		Vertex C = new Vertex(30);
		Vertex D = new Vertex(40);
		A.addToNeighbor(B);
		A.addToNeighbor(C);
		B.addToNeighbor(C);
		B.addToNeighbor(D);
		start = A;
	}
	
	public static void main(String[] args){
		Graph graph = new Graph();
//		List bfs = graph.breadthFirst();
		@SuppressWarnings("static-access")
		Vertex newClone = graph.cloneGraph(graph.start);
		List bfs = breadthFirst(newClone);
		for(Vertex v : bfs){
			System.out.println(v.value);
		}
	}
}</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="hide"><div
class="crayon-nums-content" style="font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-1">1</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-2">2</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-3">3</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-4">4</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-5">5</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-6">6</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-7">7</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-8">8</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-9">9</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-10">10</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-11">11</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-12">12</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-13">13</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-14">14</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-15">15</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-16">16</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-17">17</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-18">18</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-19">19</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-20">20</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-21">21</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-22">22</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-23">23</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-24">24</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-25">25</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-26">26</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-27">27</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-28">28</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-29">29</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-30">30</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-31">31</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-32">32</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-33">33</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-34">34</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-35">35</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-36">36</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-37">37</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-38">38</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-39">39</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-40">40</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-41">41</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-42">42</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-43">43</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-44">44</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-45">45</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-46">46</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-47">47</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-48">48</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-49">49</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-50">50</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-51">51</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-52">52</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-53">53</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-54">54</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-55">55</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-56">56</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-57">57</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-58">58</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-59">59</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-60">60</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-61">61</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-62">62</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-63">63</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-64">64</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-65">65</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-66">66</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-67">67</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-68">68</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-69">69</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-70">70</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-71">71</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-72">72</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-73">73</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-74">74</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-75">75</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-76">76</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-77">77</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-78">78</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-79">79</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-80">80</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-81">81</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-82">82</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-83">83</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-84">84</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-85">85</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-86">86</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-87">87</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-88">88</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-89">89</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-90">90</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-91">91</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-92">92</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-93">93</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-94">94</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-95">95</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-96">96</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-97">97</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-98">98</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-99">99</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-100">100</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-101">101</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-102">102</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-103">103</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-104">104</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-105">105</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3e4b2604e3-106">106</div><div
class="crayon-num" data-line="crayon-52a3e4b2604e3-107">107</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-line" id="crayon-52a3e4b2604e3-1"><span
class="t">package</span><span
class="h"> </span><span
class="v">com</span><span
class="sy">.</span><span
class="i">leetcode</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-2">&nbsp;</div><div
class="crayon-line" id="crayon-52a3e4b2604e3-3"><span
class="e">import </span><span
class="v">java</span><span
class="sy">.</span><span
class="v">util</span><span
class="sy">.</span><span
class="i">ArrayList</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-4"><span
class="e">import </span><span
class="v">java</span><span
class="sy">.</span><span
class="v">util</span><span
class="sy">.</span><span
class="i">HashSet</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b2604e3-5"><span
class="e">import </span><span
class="v">java</span><span
class="sy">.</span><span
class="v">util</span><span
class="sy">.</span><span
class="i">LinkedList</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-6"><span
class="e">import </span><span
class="v">java</span><span
class="sy">.</span><span
class="v">util</span><span
class="sy">.</span><span
class="i">List</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b2604e3-7"><span
class="e">import </span><span
class="v">java</span><span
class="sy">.</span><span
class="v">util</span><span
class="sy">.</span><span
class="i">Queue</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-8"><span
class="e">import </span><span
class="v">java</span><span
class="sy">.</span><span
class="v">util</span><span
class="sy">.</span><span
class="i">Set</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b2604e3-9">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-10"><span
class="m">public</span><span
class="h"> </span><span
class="t">class</span><span
class="h"> </span><span
class="e">Graph</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3e4b2604e3-11">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-12"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="m">private</span><span
class="h"> </span><span
class="m">static</span><span
class="h"> </span><span
class="e">Vertex </span><span
class="i">start</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b2604e3-13">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-14"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="m">private</span><span
class="h"> </span><span
class="m">static</span><span
class="h"> </span><span
class="t">class</span><span
class="h"> </span><span
class="e">Vertex</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3e4b2604e3-15"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-16"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="t">Integer</span><span
class="h"> </span><span
class="i">value</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b2604e3-17"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="m">final</span><span
class="h"> </span><span
class="m">private</span><span
class="h"> </span><span
class="e">Set </span><span
class="v">neighbors</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="r">new</span><span
class="h"> </span><span
class="e">HashSet</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-18"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div
class="crayon-line" id="crayon-52a3e4b2604e3-19"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">Vertex</span><span
class="sy">(</span><span
class="t">Integer</span><span
class="h"> </span><span
class="i">value</span><span
class="sy">)</span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-20"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="r">this</span><span
class="sy">.</span><span
class="v">value</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">value</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b2604e3-21"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-22"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div
class="crayon-line" id="crayon-52a3e4b2604e3-23"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">Vertex</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-24"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div
class="crayon-line" id="crayon-52a3e4b2604e3-25"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-26">&nbsp;</div><div
class="crayon-line" id="crayon-52a3e4b2604e3-27"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="m">public</span><span
class="h"> </span><span
class="t">Integer</span><span
class="h"> </span><span
class="e">getValue</span><span
class="sy">(</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-28"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">return</span><span
class="h"> </span><span
class="i">value</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b2604e3-29"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-30">&nbsp;</div><div
class="crayon-line" id="crayon-52a3e4b2604e3-31"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="m">public</span><span
class="h"> </span><span
class="t">void</span><span
class="h"> </span><span
class="e">setValue</span><span
class="sy">(</span><span
class="t">Integer</span><span
class="h"> </span><span
class="i">value</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-32"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="r">this</span><span
class="sy">.</span><span
class="v">value</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">value</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b2604e3-33"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-34">&nbsp;</div><div
class="crayon-line" id="crayon-52a3e4b2604e3-35"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="m">public</span><span
class="h"> </span><span
class="e">Set </span><span
class="e">getNeighbors</span><span
class="sy">(</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-36"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">return</span><span
class="h"> </span><span
class="r">this</span><span
class="sy">.</span><span
class="i">neighbors</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b2604e3-37"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-38">&nbsp;</div><div
class="crayon-line" id="crayon-52a3e4b2604e3-39"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="m">public</span><span
class="h"> </span><span
class="t">void</span><span
class="h"> </span><span
class="e">addToNeighbor</span><span
class="sy">(</span><span
class="m">final</span><span
class="h"> </span><span
class="e">Vertex </span><span
class="i">node</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-40"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">neighbors</span><span
class="sy">.</span><span
class="e">add</span><span
class="sy">(</span><span
class="i">node</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b2604e3-41"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-42"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3e4b2604e3-43">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-44"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="m">public</span><span
class="h"> </span><span
class="m">static</span><span
class="h"> </span><span
class="e">List </span><span
class="e">breadthFirst</span><span
class="sy">(</span><span
class="e">Vertex </span><span
class="i">start</span><span
class="sy">)</span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3e4b2604e3-45"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">ArrayList </span><span
class="v">vertices</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="r">new</span><span
class="h"> </span><span
class="e">ArrayList</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-46"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">Queue </span><span
class="v">vertexQueue</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="r">new</span><span
class="h"> </span><span
class="e">LinkedList</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b2604e3-47"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">vertexQueue</span><span
class="sy">.</span><span
class="e">add</span><span
class="sy">(</span><span
class="i">start</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-48"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">while</span><span
class="sy">(</span><span
class="o">!</span><span
class="v">vertexQueue</span><span
class="sy">.</span><span
class="e">isEmpty</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">)</span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3e4b2604e3-49"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">Vertex </span><span
class="v">vertex</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="v">vertexQueue</span><span
class="sy">.</span><span
class="e">poll</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-50"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">vertices</span><span
class="sy">.</span><span
class="e">add</span><span
class="sy">(</span><span
class="i">vertex</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b2604e3-51"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">Set </span><span
class="v">neighbours</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="v">vertex</span><span
class="sy">.</span><span
class="e">getNeighbors</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-52"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">for</span><span
class="sy">(</span><span
class="e">Vertex </span><span
class="i">neighbour</span><span
class="o">:</span><span
class="i">neighbours</span><span
class="sy">)</span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3e4b2604e3-53"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="sy">(</span><span
class="o">!</span><span
class="v">vertexQueue</span><span
class="sy">.</span><span
class="e">contains</span><span
class="sy">(</span><span
class="i">neighbour</span><span
class="sy">)</span><span
class="sy">)</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-54"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">vertexQueue</span><span
class="sy">.</span><span
class="e">add</span><span
class="sy">(</span><span
class="i">neighbour</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b2604e3-55"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-56"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3e4b2604e3-57"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">return</span><span
class="h"> </span><span
class="i">vertices</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-58"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3e4b2604e3-59"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-60"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="m">public</span><span
class="h"> </span><span
class="e">Vertex </span><span
class="e">cloneGraph</span><span
class="sy">(</span><span
class="e">Vertex </span><span
class="i">start</span><span
class="sy">)</span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3e4b2604e3-61"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">Vertex </span><span
class="v">clonedStart</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="r">new</span><span
class="h"> </span><span
class="e">Vertex</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-62"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">clonedStart</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">start</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b2604e3-63"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">Set </span><span
class="v">clonedVertices</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="r">new</span><span
class="h"> </span><span
class="e">HashSet</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-64"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">Queue </span><span
class="v">vertexQueue</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="r">new</span><span
class="h"> </span><span
class="e">LinkedList</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b2604e3-65"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">vertexQueue</span><span
class="sy">.</span><span
class="e">add</span><span
class="sy">(</span><span
class="i">start</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-66"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">clonedVertices</span><span
class="sy">.</span><span
class="e">add</span><span
class="sy">(</span><span
class="i">start</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b2604e3-67"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-68"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">while</span><span
class="sy">(</span><span
class="o">!</span><span
class="v">vertexQueue</span><span
class="sy">.</span><span
class="e">isEmpty</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">)</span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3e4b2604e3-69"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">Vertex </span><span
class="v">vertex</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="v">vertexQueue</span><span
class="sy">.</span><span
class="e">poll</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-70"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">Vertex </span><span
class="v">copiedVertex</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="r">new</span><span
class="h"> </span><span
class="e">Vertex</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b2604e3-71"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">copiedVertex</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">vertex</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-72"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">Set </span><span
class="v">neighbours</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="v">vertex</span><span
class="sy">.</span><span
class="e">getNeighbors</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b2604e3-73"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">for</span><span
class="sy">(</span><span
class="e">Vertex </span><span
class="i">neighbour</span><span
class="h"> </span><span
class="o">:</span><span
class="h"> </span><span
class="i">neighbours</span><span
class="sy">)</span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-74"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="o">!</span><span
class="v">clonedVertices</span><span
class="sy">.</span><span
class="e">contains</span><span
class="sy">(</span><span
class="i">neighbour</span><span
class="sy">)</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3e4b2604e3-75"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">Vertex </span><span
class="v">newClone</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="r">new</span><span
class="h"> </span><span
class="e">Vertex</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-76"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">newClone</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">neighbour</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b2604e3-77"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">clonedVertices</span><span
class="sy">.</span><span
class="e">add</span><span
class="sy">(</span><span
class="i">newClone</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-78"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">copiedVertex</span><span
class="sy">.</span><span
class="e">addToNeighbor</span><span
class="sy">(</span><span
class="i">newClone</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b2604e3-79"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-80"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3e4b2604e3-81"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-82"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">return</span><span
class="h"> </span><span
class="i">clonedStart</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b2604e3-83"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-84"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div
class="crayon-line" id="crayon-52a3e4b2604e3-85"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="m">public</span><span
class="h"> </span><span
class="e">Graph</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-86"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">Vertex</span><span
class="h"> </span><span
class="v">A</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="r">new</span><span
class="h"> </span><span
class="e">Vertex</span><span
class="sy">(</span><span
class="cn">10</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b2604e3-87"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">Vertex</span><span
class="h"> </span><span
class="v">B</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="r">new</span><span
class="h"> </span><span
class="e">Vertex</span><span
class="sy">(</span><span
class="cn">20</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-88"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">Vertex</span><span
class="h"> </span><span
class="v">C</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="r">new</span><span
class="h"> </span><span
class="e">Vertex</span><span
class="sy">(</span><span
class="cn">30</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b2604e3-89"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">Vertex</span><span
class="h"> </span><span
class="v">D</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="r">new</span><span
class="h"> </span><span
class="e">Vertex</span><span
class="sy">(</span><span
class="cn">40</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-90"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">A</span><span
class="sy">.</span><span
class="e">addToNeighbor</span><span
class="sy">(</span><span
class="i">B</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b2604e3-91"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">A</span><span
class="sy">.</span><span
class="e">addToNeighbor</span><span
class="sy">(</span><span
class="i">C</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-92"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">B</span><span
class="sy">.</span><span
class="e">addToNeighbor</span><span
class="sy">(</span><span
class="i">C</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b2604e3-93"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">B</span><span
class="sy">.</span><span
class="e">addToNeighbor</span><span
class="sy">(</span><span
class="i">D</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-94"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">start</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">A</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b2604e3-95"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-96"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div
class="crayon-line" id="crayon-52a3e4b2604e3-97"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="m">public</span><span
class="h"> </span><span
class="m">static</span><span
class="h"> </span><span
class="t">void</span><span
class="h"> </span><span
class="e">main</span><span
class="sy">(</span><span
class="t">String</span><span
class="sy">[</span><span
class="sy">]</span><span
class="h"> </span><span
class="i">args</span><span
class="sy">)</span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-98"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">Graph </span><span
class="v">graph</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="r">new</span><span
class="h"> </span><span
class="e">Graph</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b2604e3-99"><span
class="c">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List bfs = graph.breadthFirst();</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-100"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">@</span><span
class="e">SuppressWarnings</span><span
class="sy">(</span><span
class="s">"static-access"</span><span
class="sy">)</span></div><div
class="crayon-line" id="crayon-52a3e4b2604e3-101"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">Vertex </span><span
class="v">newClone</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="v">graph</span><span
class="sy">.</span><span
class="e">cloneGraph</span><span
class="sy">(</span><span
class="v">graph</span><span
class="sy">.</span><span
class="i">start</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-102"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">List </span><span
class="v">bfs</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="e">breadthFirst</span><span
class="sy">(</span><span
class="i">newClone</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b2604e3-103"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">for</span><span
class="sy">(</span><span
class="i">Vertex</span><span
class="h"> </span><span
class="i">v</span><span
class="h"> </span><span
class="o">:</span><span
class="h"> </span><span
class="i">bfs</span><span
class="sy">)</span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-104"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">System</span><span
class="sy">.</span><span
class="v">out</span><span
class="sy">.</span><span
class="e">println</span><span
class="sy">(</span><span
class="v">v</span><span
class="sy">.</span><span
class="i">value</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3e4b2604e3-105"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3e4b2604e3-106"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3e4b2604e3-107"><span
class="sy">}</span></div></div></td></tr></table></div></div><p></p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_82773_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_82773_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX82773XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_82773_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_82773_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX82773XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_82773_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2012/05/clone-graph-part-i.html?replytocom=82773#respond' onclick='return addComment.moveForm("comment-82773", "82773", "respond", "1354")'>Reply</a></div></div></li><li
class="comment byuser comment-author-vamossagar odd alt thread-odd thread-alt depth-1" id="comment-82775"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/vamossagar/" rel="nofollow"> <img
src="http://www.gravatar.com/avatar/a99c1b7009345cd051de02c5505ce192?d=identicon&amp;s=50&amp;r=G" alt="Avatar Image" class="avatar user-27060-avatar" width="50" height="50" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/vamossagar/" rel="nofollow">Sagar</a> said on <a
href="http://leetcode.com/2012/05/clone-graph-part-i.html#comment-82775"><span
class="time-since">November 10, 2013</span></a></p></div><div
class="comment-entry"><p>I have a question here.. Generally or rather mathematically, a graph is defined as a set of vertices and edges. Till now, whatever implementations I have made on graphs, I have made use of this property of graph and it actually helps in proper designing of the graph.</p><p>But, the definition given here contains just the neighbors of every Vertex. Now, this kinda scenario is good for this problem, but if say, we have to implement the Djikstra algo, then this may not be the best way of implementing a graph as we need to assign weights to the edges, which doesn&#8217;t quite seem possible here.</p><p>So, is it the case that we need to make new graph implementation per problem or would having an uber-graph with all properties be more helpful? I am also asking from the interviewing purposes. Is the structure always imposed upon us or we can make assumptions and go ahead?</p><p>Any suggestions would be highly appreciated.</p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_82775_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_82775_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX82775XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_82775_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_82775_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX82775XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_82775_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2012/05/clone-graph-part-i.html?replytocom=82775#respond' onclick='return addComment.moveForm("comment-82775", "82775", "respond", "1354")'>Reply</a></div></div></li><li
class="comment even thread-even depth-1" id="comment-90739"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://www.e-linkdego.com/abercrombie-fitch-%E3%82%A2%E3%83%90%E3%82%AF%E3%83%AD-%E3%82%A2%E3%83%90%E3%82%AF%E3%83%AD%E3%83%B3%E3%83%93%E3%83%BC%EF%BC%86%E3%83%95%E3%82%A3%E3%83%83%E3%83%81-100-%E6%AD" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/86219774cf5835f8320ecd051055d44d?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://www.e-linkdego.com/abercrombie-fitch-%E3%82%A2%E3%83%90%E3%82%AF%E3%83%AD-%E3%82%A2%E3%83%90%E3%82%AF%E3%83%AD%E3%83%B3%E3%83%93%E3%83%BC%EF%BC%86%E3%83%95%E3%82%A3%E3%83%83%E3%83%81-100-%E6%AD" rel="nofollow">上品 クラッチバッグ 大人気</a> said on <a
href="http://leetcode.com/2012/05/clone-graph-part-i.html#comment-90739"><span
class="time-since">December 4, 2013</span></a></p></div><div
class="comment-entry"><p>I am curious to find out what blog platform you have been<br
/> utilizing? I&#8217;m experiencing some minor security problems with<br
/> my latest blog and I&#8217;d like to find something more secure.<br
/> Do you have any recommendations?</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_90739_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_90739_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX90739XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_90739_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_90739_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX90739XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_90739_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2012/05/clone-graph-part-i.html?replytocom=90739#respond' onclick='return addComment.moveForm("comment-90739", "90739", "respond", "1354")'>Reply</a></div></div></li></ol></div><div
id="respond"><h3 id="reply-title">Leave a reply <small><a
rel="nofollow" id="cancel-comment-reply-link" href="/2012/05/clone-graph-part-i.html#respond" style="display:none;">Cancel reply</a></small></h3><form
action="http://leetcode.com/wp-comments-post.php" method="post" id="commentform"><div
class="comment-avatar-box"><div
class="avb"> <img
alt='' src='http://0.gravatar.com/avatar/?d=identicon&amp;s=50' class='avatar avatar-50 photo avatar-default' height='50' width='50' /></div></div><div
class="comment-content standard-form"><p
class="comment-notes">Your email address will not be published. Required fields are marked <span
class="required">*</span></p><p
class="comment-form-author"><label
for="author">Name<span
class="required"> *</span></label> <input
id="author" name="author" type="text" value="" size="30" aria-required='true' /></p><p
class="comment-form-email"><label
for="email">Email<span
class="required"> *</span></label> <input
id="email" name="email" type="text" value="" size="30" aria-required='true' /></p><p
class="comment-form-url"><label
for="url">Website</label><input
id="url" name="url" type="text" value="" size="30" /></p><p
class="form-textarea"><textarea name="comment" id="comment" cols="60" rows="10" aria-required="true"></textarea></p><p
class="form-allowed-tags">You may use the <code>&lt;code&gt;</code> tag to embed your code.</p><p
class="form-submit"> <input
name="submit" type="submit" id="submit" value="Post Comment" /> <input
type='hidden' name='comment_post_ID' value='1354' id='comment_post_ID' /> <input
type='hidden' name='comment_parent' id='comment_parent' value='0' /></p><p
style="display: none;"><input
type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="a836d444b8" /></p></div></form></div></div></div></div><div
id="post-dir-search" class="dir-search"><form
role="search" method="get" id="searchform" action="http://leetcode.com/"> <input
type="text" value="" name="s" id="s" /> <input
type="submit" id="searchsubmit" value="Search" /></form></div><div
id="sidebar"><div
class="padder"></div></div></div><div
id="push"></div></div><div
id="footer"><div
id="colophon"><div
class="footer-widget"></div><div
class="footer-widget"></div><div
class="footer-widget"></div><div
class="footer-widget last"></div><div
class="clear"></div><div
id="footer-links"><ul
class="footer-menu"><li
class="page_item page-item-2"><a
href="http://leetcode.com/about">About</a></li><li
class="page_item page-item-908"><a
href="http://leetcode.com/activity">Activity</a></li><li
class="page_item page-item-1466"><a
href="http://leetcode.com/discuss">Discuss</a></li><li
class="page_item page-item-1658"><a
href="http://leetcode.com/donate">Donate</a></li><li
class="page_item page-item-907"><a
href="http://leetcode.com/members">Members</a></li><li
class="page_item page-item-370"><a
href="http://leetcode.com/onlinejudge">Online Judge</a></li></ul></div><div
id="credits"><p>Copyright &copy; 2013 LeetCode &nbsp;&middot;&nbsp; <a
href="http://leetcode.com/wp-login.php">Log in</a></p></div></div></div><div
id="wpadminbar" class="nojq nojs" role="navigation"> <a
class="screen-reader-shortcut" href="#wp-toolbar" tabindex="1">Skip to toolbar</a><div
class="quicklinks" id="wp-toolbar" role="navigation" aria-label="Top navigation toolbar." tabindex="0"><ul
id="wp-admin-bar-root-default" class="ab-top-menu"><li
id="wp-admin-bar-bp-login"><a
class="ab-item"  href="http://leetcode.com/wp-login.php">Log in</a></li><li
id="wp-admin-bar-bp-register"><a
class="ab-item"  href="http://leetcode.com/register/">Register</a></li><li
id="wp-admin-bar-my-account"><div
class="ab-item ab-empty-item" ></div></li></ul></div> <a
class="screen-reader-shortcut" href="http://leetcode.com/wp-login.php?action=logout&#038;_wpnonce=d79c4035be">Log Out</a></div><div
class="buddyboss_log"></div> <script type="text/javascript">

    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-6849839-3']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

  </script><style type="text/css">
    .defaultCommentText { color: #a1a1a1; font-style: italic; }
  </style><script type="text/javascript">
    jQuery("textarea#comment, textarea#reply_text").focus(function(srcc) {
      if (jQuery(this).val() == jQuery(this)[0].title) {
        jQuery(this).val("");
        jQuery(this).removeClass("defaultCommentText");
      }
    });
    jQuery("textarea#comment, textarea#reply_text").blur(function() {
      if (jQuery(this).val() == "") {
        jQuery(this).val(jQuery(this)[0].title);
        jQuery(this).addClass("defaultCommentText");
      }
    });
    jQuery("textarea#comment, textarea#reply_text").attr('title', 'To embed your code, please use <code>your code here</code>.');
    jQuery("textarea#comment, textarea#reply_text").blur();
  </script></body></html>
<!-- Performance optimized by W3 Total Cache. Learn more: http://www.w3-edge.com/wordpress-plugins/

Minified using disk: basic
Page Caching using disk: enhanced

 Served from: leetcode.com @ 2013-12-07 19:17:07 by W3 Total Cache -->