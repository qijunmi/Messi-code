<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html
xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head
profile="http://gmpg.org/xfn/11"><link
rel="stylesheet" type="text/css" href="http://leetcode.com/wp-content/cache/minify/000000/fY7BDgIhDER_aBE9-EEFKpAssGm7Ufx6uyzxpodmmubNdK6Wpa-43C2EkqtxQBfV5WbdHkLfCJmt24xvhNbr_sUU8TtLK_mNwRB6rKJYKao80DP5eZir6NXGYFiADIHkGgdzrkcWQW_VcK8CL5NyTKuOIA1Mf05itvuNS8KCbGOWtLspfw2PNgq3ym0F_gA.css" media="all" /><link
rel="stylesheet" type="text/css" href="http://leetcode.com/wp-content/cache/minify/000000/M9Qvzy9KKShKLS7WLcgvKM1JLALSxSXF-sUllTmp-uUFBQA.css" media="all" /><script type="text/javascript" src="http://leetcode.com/wp-content/cache/minify/000000/LYtrDsMgDIMvRBZN632m8BBQQeiSVBu3H532w3LsfH7g_jqTTHfHHEGNBISscsZdV6OyHkFoDgadbPSBUnNpS5bkYnrlP3Bbp3sfEAZbYkMrqSdFf8Y4_VDFZ-WAuQ1PzW0YRu8LA0lHm7_thhSXgye58hc.js"></script><meta
http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta
name="viewport" content="width=device-width, initial-scale=1.0" /><title>Sliding Window Maximum | LeetCode</title><link
rel="pingback" href="http://leetcode.com/xmlrpc.php" /><link
rel="shortcut icon" href="http://leetcode.com/wp-content/themes/buddyboss-child/_inc/images/favicon.ico" type="image/x-icon"><link
rel="alternate" type="application/rss+xml" title="LeetCode &raquo; Feed" href="http://leetcode.com/feed" /><link
rel="alternate" type="application/rss+xml" title="LeetCode &raquo; Comments Feed" href="http://leetcode.com/comments/feed" /><link
rel="alternate" type="application/rss+xml" title="LeetCode &raquo; Sliding Window Maximum Comments Feed" href="http://leetcode.com/2011/01/sliding-window-maximum.html/feed" /><link
rel='stylesheet' id='gdsr_style_main-css'  href='http://leetcode.com/wp-content/plugins/gd-star-rating/css/gdsr.css.php?t=1366376824&#038;s=a05i05m20k20c05r05%23121620243046%23121620243240%23s1pchristmas%23s1pcrystal%23s1pdarkness%23s1poxygen%23s1goxygen_gif%23s1pplain%23s1ppumpkin%23s1psoft%23s1pstarrating%23s1pstarscape%23t1pclassical%23t1pstarrating%23t1gstarrating_gif%23lsgflower%23lsgradar&#038;o=off&#038;ver=1.9.22' type='text/css' media='all' /><script type='text/javascript'>
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"2.2.0","is_admin":"0","ajaxurl":"http:\/\/leetcode.com\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script><script type='text/javascript'>
/* <![CDATA[ */
var BP_DTheme = {"my_favs":"My Likes","accepted":"Accepted","rejected":"Rejected","show_all_comments":"Show all comments for this thread","show_all":"Show all","comments":"comments","close":"Close","view":"View","mark_as_fav":"Like","remove_fav":"Unlike","add_photo":"Add Photo","cancel":"Cancel","failed":"Failed","person":"person","people":"people","like":"like","likes":"likes","this_1":"this"};
/* ]]> */
</script><link
rel='prev' title='Nuts in an Oasis' href='http://leetcode.com/2011/01/nuts-in-oasis-interview-question-from.html' /><link
rel='next' title='Find the k-th Smallest Element in the Union of Two Sorted Arrays' href='http://leetcode.com/2011/01/find-k-th-smallest-element-in-union-of.html' /><link
rel='canonical' href='http://leetcode.com/2011/01/sliding-window-maximum.html' /><link
rel='shortlink' href='http://leetcode.com/?p=75' /><script type="text/javascript">var ajaxurl = 'http://leetcode.com/wp-admin/admin-ajax.php';</script><style type='text/css'>#sidebar span.collapsing.archives {
        border:0;
        padding:0; 
        margin:0; 
        cursor:pointer;
} 

#sidebar span.monthCount, span.yearCount {text-decoration:none; color:#333}
#sidebar li.collapsing.archives a.self {font-weight:bold}
#sidebar ul.collapsing.archives.list ul.collapsing.archives.list:before {content:\'\';} 
#sidebar ul.collapsing.archives.list li.collapsing.archives:before {content:\'\';} 
#sidebar ul.collapsing.archives.list li.collapsing.archives {list-style-type:none}
#sidebar ul.collapsing.archives.list li {
       margin:0 0 0 .8em;
       text-indent:-1em}
#sidebar ul.collapsing.archives.list li.collapsing.archives.item:before {content: \'\\00BB \\00A0\' !important;} 
#sidebar ul.collapsing.archives.list li.collapsing.archives .sym {
   font-size:1.2em;
   font-family:Monaco, \'Andale Mono\', \'FreeMono\', \'Courier new\', \'Courier\', monospace;
   cursor:pointer;
    padding-right:15px;}
#sidebar ul.collapsing.archives.list span.collapsing.archives.collapse .sym {
    background-image: url(/wp-content/plugins/collapsing-archives/img/list-collapse.gif);
}
#sidebar ul.collapsing.archives.list span.collapsing.archives.expand .sym {
    background-image: url(/wp-content/plugins/collapsing-archives/img/list-expand.gif);
}</style><script type="text/javascript">
//<![CDATA[
var gdsr_cnst_nonce = "344a153a23";
var gdsr_cnst_ajax = "http://leetcode.com/wp-content/plugins/gd-star-rating/ajax.php";
var gdsr_cnst_button = 1;
var gdsr_cnst_cache = 0;
// ]]>
</script><!--[if IE]><style type="text/css">.ratemulti .starsbar .gdcurrent { -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=70)"; filter: alpha(opacity=70); }</style><![endif]--> <script type="text/javascript">
    /* <![CDATA[ */				
	jQuery.post('http://leetcode.com/wp-admin/admin-ajax.php', {action: 'wpp_update', token: '6117d36efc', id: 75}, function(data){/*alert(data);*/});
    /* ]]> */
</script><style type="text/css" media="print">#wpadminbar { display:none; }</style><style type="text/css" media="screen">
	html { margin-top: 28px !important; }
	* html body { margin-top: 28px !important; }
</style><script type="text/javascript"> jQuery(document).ready( function() { jQuery("a.confirm").click( function() { if ( confirm( 'Are you sure?' ) ) return true; else return false; }); });</script></head><body
class="single single-post postid-75 single-format-standard admin-bar no-customize-support no-js buddyboss-active-pics buddyboss-active-wall admin-bar" id="bp-default"> <!--[if lte IE 6]><script src="http://leetcode.com/wp-content/themes/buddyboss/_inc/js/ie6/warning.js"></script><script>window.onload=function(){e("http://leetcode.com/wp-content/themes/buddyboss-child/_inc/js/ie6/")}</script><![endif]--><script type="text/javascript">//<![CDATA[
(function(){var c=document.body.className;c=c.replace(/no-js/,'js');document.body.className=c;})();
//]]></script><div
id="top-hdr-bg"></div><div
class="menu-bg"></div><div
id="wrapper"><div
id="header"><div
class="padder"><div
id="logo"> <a
href="http://leetcode.com" title="Home"><img
src="http://leetcode.com/wp-content/uploads/2012/12/leetcodelogo.png"/></a></div><div
class="menu-bg"></div><ul
class="sf-menu"><li
class="page_item page-item-2"><a
href="http://leetcode.com/about">About</a></li><li
class="page_item page-item-908"><a
href="http://leetcode.com/activity">Activity</a></li><li
class="page_item page-item-1466"><a
href="http://leetcode.com/discuss">Discuss</a></li><li
class="page_item page-item-1658"><a
href="http://leetcode.com/donate">Donate</a></li><li
class="page_item page-item-907"><a
href="http://leetcode.com/members">Members</a></li><li
class="page_item page-item-370"><a
href="http://leetcode.com/onlinejudge">Online Judge</a></li></ul></div></div><div
id="container"><div
id="content" class="two_column"><div
class="padder"><div
class="page" id="blog-single" role="main"><div
id="post-75" class="post-75 post type-post status-publish format-standard hentry category-uncategorized"><div
class="author-box"> <img
src="http://leetcode.com/wp-content/uploads/avatars/8268/2ffa5b26dd039dec008aa06ddae07ec0-bpthumb.jpg" alt="Avatar of 1337c0d3r" class="avatar user-8268-avatar" width="50" height="50" /><p>by <a
rel="author" href="http://leetcode.com/members/admin/" title="1337c0d3r">1337c0d3r</a></p></div><div
class="post-content"><h2 class="posttitle">Sliding Window Maximum</h2><p
class="date"> January 25, 2011 <span>in <a
href="http://leetcode.com/category/uncategorized" title="View all posts in Uncategorized" rel="category tag">Uncategorized</a></span> <span
class="post-utility alignright"></span></p><div
class="entry"><blockquote><p>A long array A[] is given to you. There is a sliding window of size <em>w</em> which is moving from the very left of the array to the very right. You can only see the <em>w</em> numbers in the window. Each time the sliding window moves rightwards by one position. Following is an example:<br
/> The array is [1 3 -1 -3 5 3 6 7], and <em>w</em> is 3.</p><pre>Window position                Max
---------------               -----
[1  3  -1] -3  5  3  6  7       3
 1 [3  -1  -3] 5  3  6  7       3
 1  3 [-1  -3  5] 3  6  7       5
 1  3  -1 [-3  5  3] 6  7       5
 1  3  -1  -3 [5  3  6] 7       6
 1  3  -1  -3  5 [3  6  7]      7</pre><p><strong>Input</strong>: A long array A[], and a window width w<br
/> <strong>Output</strong>: An array B[], B[i] is the maximum value of from A[i] to A[i+w-1]<br
/> <strong>Requirement</strong>: Find a good optimal way to get B[i]</p></blockquote><p><span
id="more-75"></span></p><p>The obvious brute force solution with run time complexity of <em>O</em>(<em>nw</em>) is definitely not efficient enough. Every time the window is moved, you have to search for a total of <em>w</em> elements in the window.</p><p>A <a
href="http://en.wikipedia.org/wiki/Heap_%28data_structure%29">heap</a> data structure quickly comes to mind. We could boost the run time to approximately <em>O</em>(<em>n</em> lg <em>w</em>) (Note that I said approximately because the size of the heap changes constantly and averages about <em>w</em>). Insert operation takes <em>O</em>(lg <em>w</em>) time, where <em>w</em> is the size of the heap. However, getting the maximum value is cheap, it merely takes constant time as the maximum value is always kept in the root (head) of the heap.</p><p>As the window slides to the right, some elements in the heap might not be valid anymore (range is outside of the current window). How should you remove them? You would need to be somewhat careful here. Since you only remove elements that are out of the window&#8217;s range, you would need to keep track of the elements&#8217; indices too.</p><p><del>Note that as <em>n</em> grows larger, the term lg <em>w</em> is pretty insignificant compared to <em>n</em>, and thus the overall complexity approximates to <em>O</em>(<em>n</em>).</del> (<strong><span
style="color: red;">Edit:</span></strong> In fact, the correct run time complexity should be O(<em>n</em> log <em>n</em>). If A is sorted, then the inner while loop will never run. This is due to the next element (which is larger) being pushed to the queue&#8217;s top as the new maximum. (Thanks to my readers <a
href="http://www.leetcode.com/2011/01/sliding-window-maximum.html#comment-726"><strong><span
style="color: red;">anonymous</span></strong></a> and <strong><span
style="color: red;">faircoin</span></strong> who pointed out this.)</p><div
id="crayon-52a3f95d80101" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-pc print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 16px !important;">
typedef pair&lt;int, int&gt; Pair;
void maxSlidingWindow(int A[], int n, int w, int B[]) {
  priority_queue&lt;Pair&gt; Q;
  for (int i = 0; i &lt; w; i++)
    Q.push(Pair(A[i], i));
  for (int i = w; i &lt; n; i++) {
    Pair p = Q.top();
    B[i-w] = p.first;
    while (p.second &lt;= i-w) {
      Q.pop();
      p = Q.top();
    }
    Q.push(Pair(A[i], i));
  }
  B[n-w] = Q.top().first;
}</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="hide"><div
class="crayon-nums-content" style="font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-num" data-line="crayon-52a3f95d80101-1">1</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d80101-2">2</div><div
class="crayon-num" data-line="crayon-52a3f95d80101-3">3</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d80101-4">4</div><div
class="crayon-num" data-line="crayon-52a3f95d80101-5">5</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d80101-6">6</div><div
class="crayon-num" data-line="crayon-52a3f95d80101-7">7</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d80101-8">8</div><div
class="crayon-num" data-line="crayon-52a3f95d80101-9">9</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d80101-10">10</div><div
class="crayon-num" data-line="crayon-52a3f95d80101-11">11</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d80101-12">12</div><div
class="crayon-num" data-line="crayon-52a3f95d80101-13">13</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d80101-14">14</div><div
class="crayon-num" data-line="crayon-52a3f95d80101-15">15</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d80101-16">16</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-line" id="crayon-52a3f95d80101-1"><span
class="r">typedef</span><span
class="h"> </span><span
class="i">pair</span><span
class="o">&lt;</span><span
class="t">int</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="o">&gt;</span><span
class="h"> </span><span
class="i">Pair</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d80101-2"><span
class="t">void</span><span
class="h"> </span><span
class="e">maxSlidingWindow</span><span
class="sy">(</span><span
class="t">int</span><span
class="h"> </span><span
class="v">A</span><span
class="sy">[</span><span
class="sy">]</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="i">w</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="v">B</span><span
class="sy">[</span><span
class="sy">]</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f95d80101-3"><span
class="h">&nbsp;&nbsp;</span><span
class="i">priority_queue</span><span
class="o">&lt;</span><span
class="i">Pair</span><span
class="o">&gt;</span><span
class="h"> </span><span
class="i">Q</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d80101-4"><span
class="h">&nbsp;&nbsp;</span><span
class="st">for</span><span
class="h"> </span><span
class="sy">(</span><span
class="t">int</span><span
class="h"> </span><span
class="v">i</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="cn">0</span><span
class="sy">;</span><span
class="h"> </span><span
class="i">i</span><span
class="h"> </span><span
class="o">&lt;</span><span
class="h"> </span><span
class="i">w</span><span
class="sy">;</span><span
class="h"> </span><span
class="i">i</span><span
class="o">++</span><span
class="sy">)</span></div><div
class="crayon-line" id="crayon-52a3f95d80101-5"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">Q</span><span
class="sy">.</span><span
class="e">push</span><span
class="sy">(</span><span
class="e">Pair</span><span
class="sy">(</span><span
class="v">A</span><span
class="sy">[</span><span
class="i">i</span><span
class="sy">]</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">i</span><span
class="sy">)</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d80101-6"><span
class="h">&nbsp;&nbsp;</span><span
class="st">for</span><span
class="h"> </span><span
class="sy">(</span><span
class="t">int</span><span
class="h"> </span><span
class="v">i</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">w</span><span
class="sy">;</span><span
class="h"> </span><span
class="i">i</span><span
class="h"> </span><span
class="o">&lt;</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">;</span><span
class="h"> </span><span
class="i">i</span><span
class="o">++</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f95d80101-7"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">Pair</span><span
class="h"> </span><span
class="v">p</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="v">Q</span><span
class="sy">.</span><span
class="e">top</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d80101-8"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">B</span><span
class="sy">[</span><span
class="i">i</span><span
class="o">-</span><span
class="i">w</span><span
class="sy">]</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="v">p</span><span
class="sy">.</span><span
class="i">first</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d80101-9"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">while</span><span
class="h"> </span><span
class="sy">(</span><span
class="v">p</span><span
class="sy">.</span><span
class="i">second</span><span
class="h"> </span><span
class="o">&lt;=</span><span
class="h"> </span><span
class="i">i</span><span
class="o">-</span><span
class="i">w</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d80101-10"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">Q</span><span
class="sy">.</span><span
class="e">pop</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d80101-11"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">p</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="v">Q</span><span
class="sy">.</span><span
class="e">top</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d80101-12"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3f95d80101-13"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">Q</span><span
class="sy">.</span><span
class="e">push</span><span
class="sy">(</span><span
class="e">Pair</span><span
class="sy">(</span><span
class="v">A</span><span
class="sy">[</span><span
class="i">i</span><span
class="sy">]</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">i</span><span
class="sy">)</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d80101-14"><span
class="h">&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3f95d80101-15"><span
class="h">&nbsp;&nbsp;</span><span
class="v">B</span><span
class="sy">[</span><span
class="i">n</span><span
class="o">-</span><span
class="i">w</span><span
class="sy">]</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="v">Q</span><span
class="sy">.</span><span
class="e">top</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">.</span><span
class="i">first</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d80101-16"><span
class="sy">}</span></div></div></td></tr></table></div></div><p>You might be wondering: Is there a better way of doing this without using a heap? How about using a <a
href="http://en.wikipedia.org/wiki/Double-ended_queue">double-ended queue</a>? (A linked list should be fine too)</p><p>The double-ended queue is the perfect data structure for this problem. It supports insertion/deletion from the front and back. The trick is to find a way such that the largest element in the window would always appear in the front of the queue. How would you maintain this requirement as you push and pop elements in and out of the queue?</p><p>Besides, you might notice that there are some redundant elements in the queue that we shouldn&#8217;t even consider about. For example, if the current queue has the elements: [10 5 3], and a new element in the window has the element 11. Now, we could have emptied the queue without considering elements 10, 5, and 3, and insert only element 11 into the queue.</p><p>A natural way most people would think is to try to maintain the queue size the same as the window&#8217;s size. Try to break away from this thought and try to think outside of the box. Removing redundant elements and storing only elements that need to be considered in the queue is the key to achieve the efficient O(<em>n</em>) solution below.</p><div
id="crayon-52a3f95d80203" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-pc print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 16px !important;">
void maxSlidingWindow(int A[], int n, int w, int B[]) {
  deque&lt;int&gt; Q;
  for (int i = 0; i &lt; w; i++) {
    while (!Q.empty() &amp;&amp; A[i] &gt;= A[Q.back()])
      Q.pop_back();
    Q.push_back(i);
  }
  for (int i = w; i &lt; n; i++) {
    B[i-w] = A[Q.front()];
    while (!Q.empty() &amp;&amp; A[i] &gt;= A[Q.back()])
      Q.pop_back();
    while (!Q.empty() &amp;&amp; Q.front() &lt;= i-w)
      Q.pop_front();
    Q.push_back(i);
  }
  B[n-w] = A[Q.front()];
}</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="hide"><div
class="crayon-nums-content" style="font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-num" data-line="crayon-52a3f95d80203-1">1</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d80203-2">2</div><div
class="crayon-num" data-line="crayon-52a3f95d80203-3">3</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d80203-4">4</div><div
class="crayon-num" data-line="crayon-52a3f95d80203-5">5</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d80203-6">6</div><div
class="crayon-num" data-line="crayon-52a3f95d80203-7">7</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d80203-8">8</div><div
class="crayon-num" data-line="crayon-52a3f95d80203-9">9</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d80203-10">10</div><div
class="crayon-num" data-line="crayon-52a3f95d80203-11">11</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d80203-12">12</div><div
class="crayon-num" data-line="crayon-52a3f95d80203-13">13</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d80203-14">14</div><div
class="crayon-num" data-line="crayon-52a3f95d80203-15">15</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d80203-16">16</div><div
class="crayon-num" data-line="crayon-52a3f95d80203-17">17</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-line" id="crayon-52a3f95d80203-1"><span
class="t">void</span><span
class="h"> </span><span
class="e">maxSlidingWindow</span><span
class="sy">(</span><span
class="t">int</span><span
class="h"> </span><span
class="v">A</span><span
class="sy">[</span><span
class="sy">]</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="i">w</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="v">B</span><span
class="sy">[</span><span
class="sy">]</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d80203-2"><span
class="h">&nbsp;&nbsp;</span><span
class="i">deque</span><span
class="o">&lt;</span><span
class="t">int</span><span
class="o">&gt;</span><span
class="h"> </span><span
class="i">Q</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d80203-3"><span
class="h">&nbsp;&nbsp;</span><span
class="st">for</span><span
class="h"> </span><span
class="sy">(</span><span
class="t">int</span><span
class="h"> </span><span
class="v">i</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="cn">0</span><span
class="sy">;</span><span
class="h"> </span><span
class="i">i</span><span
class="h"> </span><span
class="o">&lt;</span><span
class="h"> </span><span
class="i">w</span><span
class="sy">;</span><span
class="h"> </span><span
class="i">i</span><span
class="o">++</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d80203-4"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">while</span><span
class="h"> </span><span
class="sy">(</span><span
class="o">!</span><span
class="v">Q</span><span
class="sy">.</span><span
class="e">empty</span><span
class="sy">(</span><span
class="sy">)</span><span
class="h"> </span><span
class="o">&amp;&amp;</span><span
class="h"> </span><span
class="v">A</span><span
class="sy">[</span><span
class="i">i</span><span
class="sy">]</span><span
class="h"> </span><span
class="o">&gt;=</span><span
class="h"> </span><span
class="v">A</span><span
class="sy">[</span><span
class="v">Q</span><span
class="sy">.</span><span
class="e">back</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">]</span><span
class="sy">)</span></div><div
class="crayon-line" id="crayon-52a3f95d80203-5"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">Q</span><span
class="sy">.</span><span
class="e">pop_back</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d80203-6"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">Q</span><span
class="sy">.</span><span
class="e">push_back</span><span
class="sy">(</span><span
class="i">i</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d80203-7"><span
class="h">&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d80203-8"><span
class="h">&nbsp;&nbsp;</span><span
class="st">for</span><span
class="h"> </span><span
class="sy">(</span><span
class="t">int</span><span
class="h"> </span><span
class="v">i</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">w</span><span
class="sy">;</span><span
class="h"> </span><span
class="i">i</span><span
class="h"> </span><span
class="o">&lt;</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">;</span><span
class="h"> </span><span
class="i">i</span><span
class="o">++</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f95d80203-9"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">B</span><span
class="sy">[</span><span
class="i">i</span><span
class="o">-</span><span
class="i">w</span><span
class="sy">]</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="v">A</span><span
class="sy">[</span><span
class="v">Q</span><span
class="sy">.</span><span
class="e">front</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">]</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d80203-10"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">while</span><span
class="h"> </span><span
class="sy">(</span><span
class="o">!</span><span
class="v">Q</span><span
class="sy">.</span><span
class="e">empty</span><span
class="sy">(</span><span
class="sy">)</span><span
class="h"> </span><span
class="o">&amp;&amp;</span><span
class="h"> </span><span
class="v">A</span><span
class="sy">[</span><span
class="i">i</span><span
class="sy">]</span><span
class="h"> </span><span
class="o">&gt;=</span><span
class="h"> </span><span
class="v">A</span><span
class="sy">[</span><span
class="v">Q</span><span
class="sy">.</span><span
class="e">back</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">]</span><span
class="sy">)</span></div><div
class="crayon-line" id="crayon-52a3f95d80203-11"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">Q</span><span
class="sy">.</span><span
class="e">pop_back</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d80203-12"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">while</span><span
class="h"> </span><span
class="sy">(</span><span
class="o">!</span><span
class="v">Q</span><span
class="sy">.</span><span
class="e">empty</span><span
class="sy">(</span><span
class="sy">)</span><span
class="h"> </span><span
class="o">&amp;&amp;</span><span
class="h"> </span><span
class="v">Q</span><span
class="sy">.</span><span
class="e">front</span><span
class="sy">(</span><span
class="sy">)</span><span
class="h"> </span><span
class="o">&lt;=</span><span
class="h"> </span><span
class="i">i</span><span
class="o">-</span><span
class="i">w</span><span
class="sy">)</span></div><div
class="crayon-line" id="crayon-52a3f95d80203-13"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">Q</span><span
class="sy">.</span><span
class="e">pop_front</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d80203-14"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">Q</span><span
class="sy">.</span><span
class="e">push_back</span><span
class="sy">(</span><span
class="i">i</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d80203-15"><span
class="h">&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d80203-16"><span
class="h">&nbsp;&nbsp;</span><span
class="v">B</span><span
class="sy">[</span><span
class="i">n</span><span
class="o">-</span><span
class="i">w</span><span
class="sy">]</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="v">A</span><span
class="sy">[</span><span
class="v">Q</span><span
class="sy">.</span><span
class="e">front</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">]</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d80203-17"><span
class="sy">}</span></div></div></td></tr></table></div></div><p>The above algorithm could be proven to have run time complexity of O(<em>n</em>). This is because each element in the list is being inserted and then removed <strong>at most once</strong>. Therefore, the total number of insert + delete operations is 2<em>n</em>.</p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="ratingblock "><div
class="ratingheader "></div><div
class="ratingstars "><div
id="article_rater_75" class="ratepost gdsr-oxygen gdsr-size-24"><div
class="starsbar gdsr-size-24"><div
class="gdouter gdheight"><div
id="gdr_vote_a75" style="width: 117.94285714286px;" class="gdinner gdheight"></div><div
id="gdr_stars_a75" class="gdsr_rating_as"><a
id="gdsrX75X5X0XaXarticle_rater_75Xarticle_loader_75X10X24" title="5 / 5" class="s5" rel="nofollow"></a><a
id="gdsrX75X4X0XaXarticle_rater_75Xarticle_loader_75X10X24" title="4 / 5" class="s4" rel="nofollow"></a><a
id="gdsrX75X3X0XaXarticle_rater_75Xarticle_loader_75X10X24" title="3 / 5" class="s3" rel="nofollow"></a><a
id="gdsrX75X2X0XaXarticle_rater_75Xarticle_loader_75X10X24" title="2 / 5" class="s2" rel="nofollow"></a><a
id="gdsrX75X1X0XaXarticle_rater_75Xarticle_loader_75X10X24" title="1 / 5" class="s1" rel="nofollow"></a></div></div></div></div><div
id="article_loader_75" style="display: none; width: 120px " class="ratingloaderarticle"><div
class="loader radar " style="height: 24px"><div
class="loaderinner" style="padding-top: 2px">please wait...</div></div></div></div><div
class="ratingtext "><div
id="gdr_text_a75">Rating: 4.9/<strong>5</strong> (35 votes cast)</div></div></div><span
class="hreview-aggregate"><span
class="item"><span
class="fn">Sliding Window Maximum</span></span>, <span
class="rating"><span
class="average">4.9</span> out of <span
class="best">5</span> based on <span
class="votes">35</span> ratings <span
class="summary"></span></span></span></div><p
class="postmetadata">&nbsp;</p><div
class="alignleft"><a
href="http://leetcode.com/2011/01/nuts-in-oasis-interview-question-from.html" rel="prev"><span
class="meta-nav">&larr;</span> Nuts in an Oasis</a></div><div
class="alignright"><a
href="http://leetcode.com/2011/01/find-k-th-smallest-element-in-union-of.html" rel="next">Find the k-th Smallest Element in the Union of Two Sorted Arrays <span
class="meta-nav">&rarr;</span></a></div></div></div><div
id="comments"><h3> 64 responses to <em>Sliding Window Maximum</em></h3><ol
class="commentlist"><li
class="comment even thread-even depth-1" id="comment-403"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/?d=identicon&amp;s=50' class='avatar avatar-50 photo avatar-default' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">Rya</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-403"><span
class="time-since">January 25, 2011</span></a></p></div><div
class="comment-entry"><p>The window moves one element at a time. So you will have to check only the last element in the window each time the window moves. Right? I dont see a point in using an extra data structure. Please explain.</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_403_c" class="gdt-size-20 gdthumbtext"> <strong
title="4 up, 7 down">-3</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_403_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX403XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_403_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_403_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX403XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_403_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=403#respond' onclick='return addComment.moveForm("comment-403", "403", "respond", "75")'>Reply</a></div></div></li><li
class="comment odd alt thread-odd thread-alt depth-1" id="comment-404"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/?d=identicon&amp;s=50' class='avatar avatar-50 photo avatar-default' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">1337c0d3r</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-404"><span
class="time-since">January 26, 2011</span></a></p></div><div
class="comment-entry"><p>@Rya:<br
/>Try reading the problem statement again. You are required to output the largest element in the window each time the window moves. The last element in the window is not necessarily the largest element.</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_404_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 1 down">-1</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_404_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX404XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_404_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_404_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX404XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_404_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=404#respond' onclick='return addComment.moveForm("comment-404", "404", "respond", "75")'>Reply</a></div></div><ul
class='children'><li
class="comment byuser comment-author-keyanmit even depth-2" id="comment-21268"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/keyanmit/" rel="nofollow"> <img
src="http://leetcode.com/wp-content/uploads/avatars/2028/4e374c69f83f369ca8c72cc52ba687f1-bpthumb.jpg" alt="Avatar Image" class="avatar user-2028-avatar" width="25" height="25" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/keyanmit/" rel="nofollow">Karthikeyan.M</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-21268"><span
class="time-since">June 17, 2012</span></a></p></div><div
class="comment-entry"><p>do a O(w) scan to get the max.<br
/> b.pushBack(max)<br
/> now for(valid movement of window)<br
/> check if the new element (a[x]) &gt; max<br
/> max=a[x]<br
/> b.pushback(max);<br
/> return b</p><p>this is sufficient rite ??</p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_21268_c" class="gdt-size-20 gdthumbtext"> <strong
title="3 up, 3 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_21268_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX21268XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_21268_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_21268_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX21268XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_21268_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=21268#respond' onclick='return addComment.moveForm("comment-21268", "21268", "respond", "75")'>Reply</a></div></div></li></ul></li><li
class="comment odd alt thread-even depth-1" id="comment-405"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/?d=identicon&amp;s=50' class='avatar avatar-50 photo avatar-default' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">Anonymous</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-405"><span
class="time-since">January 26, 2011</span></a></p></div><div
class="comment-entry"><p>Thanks for your good explanation. I am not sure why in Line 12 of your last solution you compare Q.front with i-w:</p><p>while (!Q.empty() &amp;&amp; Q.front() &lt;= i-w)</p><p>should it be compared with A[i-w]?</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_405_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_405_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX405XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_405_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_405_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX405XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_405_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=405#respond' onclick='return addComment.moveForm("comment-405", "405", "respond", "75")'>Reply</a></div></div></li><li
class="comment even thread-odd thread-alt depth-1" id="comment-406"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/?d=identicon&amp;s=50' class='avatar avatar-50 photo avatar-default' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">Anonymous</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-406"><span
class="time-since">January 26, 2011</span></a></p></div><div
class="comment-entry"><p>Never mind last comment. I figured it out. The queue stores indices, not actually elements.</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_406_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_406_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX406XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_406_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_406_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX406XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_406_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=406#respond' onclick='return addComment.moveForm("comment-406", "406", "respond", "75")'>Reply</a></div></div></li><li
class="comment odd alt thread-even depth-1" id="comment-407"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/?d=identicon&amp;s=50' class='avatar avatar-50 photo avatar-default' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">Anonymous</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-407"><span
class="time-since">January 26, 2011</span></a></p></div><div
class="comment-entry"><p>Hi 1337coder, i am wondering if you can solve this problem: if not code, maybe some very efficent algorithm. <img
src='http://leetcode.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /></p><p>Find the k-th smallest element in the union of two sorted array.<br
/>Given 2 sorted arrays of n elements A,B. Find the k-th smallest element in the union of A and B in O(log k) time. You can assume that there are no duplicate elements</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_407_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_407_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX407XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_407_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_407_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX407XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_407_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=407#respond' onclick='return addComment.moveForm("comment-407", "407", "respond", "75")'>Reply</a></div></div></li><li
class="comment even thread-odd thread-alt depth-1" id="comment-411"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/?d=identicon&amp;s=50' class='avatar avatar-50 photo avatar-default' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">1337c0d3r</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-411"><span
class="time-since">January 26, 2011</span></a></p></div><div
class="comment-entry"><p>@Anonymous:<br
/>I assume you are asking two sorted arrays of different sizes, m and n?</p><p>Hmm. It is obvious that you can merge both arrays and find the kth smallest in O(m+n) time.</p><p>Since you want O(log k) time, it must be using a somewhat modified binary search. You could choose two elements Ai and Bj, such that the invariant i+j=k-1 is satisfied. Then if Ai is between Bj_1 and Bj, Ai must be the kth smallest. Else if Bj is between Ai_1 and Ai, ten Bj must be the kth smallest.</p><p>If neither of the above cases are true, then compare Ai and Bj:<br
/>if Ai &gt; Bj =&gt; Bj &lt; Ai_1<br
/>if Ai &lt; Bj =&gt; Ai &lt; Bj_1</p><p>Since Ai &lt; Bj implies Ai &lt; Bj_1, discard Ai and the lower portion of A. Also discard Bj and upper portion of B.</p><p>Similar for the other case, which discards upper portion of A and lower portion of B.</p><p>Since each step you are reducing the search space by half of A and half of B, the complexity must be O(log m) + O(log n). I don&#39;t quite sure what you mean by O(log k) time.</p><p>I hope this algorithm is complete, I will code this out and let you know my result.</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_411_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_411_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX411XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_411_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_411_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX411XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_411_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=411#respond' onclick='return addComment.moveForm("comment-411", "411", "respond", "75")'>Reply</a></div></div><ul
class='children'><li
class="comment odd alt depth-2" id="comment-2829"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/8a6a3c4d3cdc215ad231811a85e1b491?s=25&amp;d=identicon&amp;r=G' class='avatar avatar-25 photo' height='25' width='25' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">Sonali</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-2829"><span
class="time-since">September 18, 2011</span></a></p></div><div
class="comment-entry"><p>Merge the two arrays uptil the Kth element when combining. That ways the run time complexity is O(log k).</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_2829_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 1 down">-1</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_2829_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX2829XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_2829_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_2829_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX2829XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_2829_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=2829#respond' onclick='return addComment.moveForm("comment-2829", "2829", "respond", "75")'>Reply</a></div></div></li></ul></li><li
class="comment even thread-even depth-1" id="comment-413"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/?d=identicon&amp;s=50' class='avatar avatar-50 photo avatar-default' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">1337c0d3r</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-413"><span
class="time-since">January 26, 2011</span></a></p></div><div
class="comment-entry"><p>@Anonymous:<br
/>Oh, forgot to add this:<br
/>To maintain the invariant i+j=k-1,<br
/>you must define A[-1] and B[-1] as -INF, and A[m] and B[n] as +INF.</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_413_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 1 down">-1</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_413_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX413XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_413_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_413_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX413XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_413_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=413#respond' onclick='return addComment.moveForm("comment-413", "413", "respond", "75")'>Reply</a></div></div></li><li
class="comment odd alt thread-odd thread-alt depth-1" id="comment-489"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://1.gravatar.com/avatar/bdd3373b585caba8eb2093445c96450b?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">James</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-489"><span
class="time-since">February 26, 2011</span></a></p></div><div
class="comment-entry"><p>Very nice website, thank you so much for having this wonderful website. Really enjoyed reading your posts!!!</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_489_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_489_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX489XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_489_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_489_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX489XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_489_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=489#respond' onclick='return addComment.moveForm("comment-489", "489", "respond", "75")'>Reply</a></div></div></li><li
class="comment even thread-even depth-1" id="comment-490"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://1.gravatar.com/avatar/d55f2e93ad284ab1934ffb080596774e?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">Anuj</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-490"><span
class="time-since">February 26, 2011</span></a></p></div><div
class="comment-entry"><p>public static void printMaxWindow( int [] array, int windowSize){<br
/> int maximum = Integer.MIN_VALUE;<br
/> maximum = findMaximum(array, windowSize);<br
/> System.out.println( maximum);</p><p> for ( int i = 1; i &lt; array.length-windowSize+1; i++){<br
/> if ( maximum &lt; array[i+windowSize-1]){<br
/> maximum = array[i+windowSize-1];<br
/> }</p><p> System.out.println(maximum);<br
/> }<br
/> }</p><p> private static int findMaximum(int [] array, int length){<br
/> int maximum = Integer.MIN_VALUE;<br
/> for ( int i = 0; i &lt; length; i++){<br
/> if ( maximum &lt; array[i]){<br
/> maximum = array[i];<br
/> }</p><p> }</p><p> return maximum;<br
/> }</p><p>You should be able to do this without any additional space requirement and in order n.</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_490_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_490_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX490XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_490_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_490_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX490XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_490_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=490#respond' onclick='return addComment.moveForm("comment-490", "490", "respond", "75")'>Reply</a></div></div></li><li
class="comment odd alt thread-odd thread-alt depth-1" id="comment-491"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://1.gravatar.com/avatar/d55f2e93ad284ab1934ffb080596774e?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">Anuj</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-491"><span
class="time-since">February 26, 2011</span></a></p></div><div
class="comment-entry"><p>Forgot to mention that the algo is what Rya suggested in comment 1.</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_491_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_491_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX491XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_491_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_491_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX491XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_491_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=491#respond' onclick='return addComment.moveForm("comment-491", "491", "respond", "75")'>Reply</a></div></div></li><li
class="comment even thread-even depth-1" id="comment-495"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://1.gravatar.com/avatar/3c4cdb06b67e21b3f7b6d2b837ba04f2?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">Kay</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-495"><span
class="time-since">February 28, 2011</span></a></p></div><div
class="comment-entry"><p>You can easily acheive nlogn using a priority queue. You don&#8217;t have do all the work you did.</p><p>In Java, there is a PriorityQueue that you can use. It has lgn insertions and the end always has the highest value.</p><p>Just an FYI.</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_495_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_495_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX495XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_495_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_495_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX495XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_495_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=495#respond' onclick='return addComment.moveForm("comment-495", "495", "respond", "75")'>Reply</a></div></div></li><li
class="comment odd alt thread-odd thread-alt depth-1" id="comment-551"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://beyondwork.wordpress.com" rel="nofollow"> <img
alt='' src='http://1.gravatar.com/avatar/9b0a53f2aa2e7e32e46dc075d729493b?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://beyondwork.wordpress.com" rel="nofollow">bala</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-551"><span
class="time-since">March 6, 2011</span></a></p></div><div
class="comment-entry"><p>wat about this implementation?</p><p>public static void main(String[] args) {<br
/> int[] a = {1, 3, -1, -3, 5, 3, 6, 7};<br
/> int w = 3;<br
/> slidingwindowmax(a,w);<br
/> }</p><p> private static void slidingwindowmax(int[] a, int w) {</p><p> int max = a[0];<br
/> int i=0;<br
/> int j=0;<br
/> while(i&lt;=w &amp;&amp; j &lt; a.length){<br
/> max = Math.max(max, a[j]);<br
/> System.out.print(max);<br
/> if(i == w){<br
/> i = -1;<br
/> }<br
/> i++;<br
/> j++;<br
/> }<br
/> }</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_551_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_551_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX551XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_551_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_551_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX551XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_551_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=551#respond' onclick='return addComment.moveForm("comment-551", "551", "respond", "75")'>Reply</a></div></div><ul
class='children'><li
class="comment even depth-2" id="comment-622"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/4f64c9f81bb0d4ee969aaf7b4a5a6f40?s=25&amp;d=identicon&amp;r=G' class='avatar avatar-25 photo' height='25' width='25' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">anonymous</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-622"><span
class="time-since">March 16, 2011</span></a></p></div><div
class="comment-entry"><p>@bala&#8230; your code didn&#8217;t work properly.. and it is not linear time. For linear time find the below java program and off course this is not much complicated than the 1337c0d3r program.</p><p>class test{<br
/> public static void main(String[] args) {<br
/> int[] a = {1, 3, -1, -3, 5, 3, 6, 7};<br
/> int w = 3;<br
/> slidingwindowmax(a,w);<br
/> }</p><p>private static void slidingwindowmax(int[] a, int w) {</p><p>int max = a[0];<br
/> int i=0;<br
/> int j=0;<br
/> int count=0;<br
/> while(count&lt;w){<br
/> max = Math.max(max, a[j]);<br
/> count++;<br
/> j++;<br
/> if(count == w){<br
/> System.out.println(max);<br
/> count = 0;<br
/> break;<br
/> }<br
/> }<br
/> for(j=w;j<a> max)? a[j]:max;<br
/> System.out.println(max);<br
/> }<br
/> }<br
/> }</a></p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_622_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_622_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX622XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_622_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_622_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX622XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_622_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=622#respond' onclick='return addComment.moveForm("comment-622", "622", "respond", "75")'>Reply</a></div></div></li></ul></li><li
class="comment odd alt thread-even depth-1" id="comment-578"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/e3b86778583f82719432881b9c302632?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">Vipul</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-578"><span
class="time-since">March 8, 2011</span></a></p></div><div
class="comment-entry"><p>We don&#8217;t need while loop : while (!Q.empty() &amp;&amp; Q.front() &lt;= i-w)</p><p>This can simply be replaced by a if condition because every time there could be at most a single element which lies out of window of size w and we make sure if it is we remove it. No while loop is required for this.</p><p>-Vipul</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_578_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_578_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX578XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_578_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_578_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX578XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_578_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=578#respond' onclick='return addComment.moveForm("comment-578", "578", "respond", "75")'>Reply</a></div></div><ul
class='children'><li
class="comment byuser comment-author-admin bypostauthor even depth-2" id="comment-599"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/admin/" rel="nofollow"> <img
src="http://leetcode.com/wp-content/uploads/avatars/8268/2ffa5b26dd039dec008aa06ddae07ec0-bpthumb.jpg" alt="Avatar Image" class="avatar user-8268-avatar" width="25" height="25" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/admin/" rel="nofollow">1337c0d3r</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-599"><span
class="time-since">March 11, 2011</span></a></p></div><div
class="comment-entry"><p>I think you might be right. &#8220;Might&#8221; because I worked it out through my thought and I think you are right. But I couldn&#8217;t claim that it is correct yet because I haven&#8217;t verified through test cases. Thanks for your comment.</p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_599_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_599_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX599XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_599_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_599_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX599XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_599_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=599#respond' onclick='return addComment.moveForm("comment-599", "599", "respond", "75")'>Reply</a></div></div><ul
class='children'><li
class="comment odd alt depth-3" id="comment-964"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://1.gravatar.com/avatar/f5773288690e79b13b1d2d535709c7c8?s=25&amp;d=identicon&amp;r=G' class='avatar avatar-25 photo' height='25' width='25' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">codingC</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-964"><span
class="time-since">May 3, 2011</span></a></p></div><div
class="comment-entry"><p>I believe Vipul is right. When window moves, only the starting index is out of range. And Q.front() contains the index of maximal in the window. It is obvious that *(++Q.begin()) must be greater than i-w. So the while loop could be replaced with an if conditional branch.</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_964_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_964_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX964XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_964_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_964_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX964XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_964_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=964#respond' onclick='return addComment.moveForm("comment-964", "964", "respond", "75")'>Reply</a></div></div></li></ul></li></ul></li><li
class="comment even thread-odd thread-alt depth-1" id="comment-586"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/eec4f5e47c59ecf670da4e7d08df33df?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">speeddy</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-586"><span
class="time-since">March 10, 2011</span></a></p></div><div
class="comment-entry"><p>HI, in the following code:</p><p> while (p.second &lt;= i-w) {<br
/> Q.pop();<br
/> p = Q.top();<br
/> }</p><p>Every time you move one position, you need to examine all the items in the queue. So the overall complexity still O(N)?  The above code complexity is already 0(W).</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_586_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_586_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX586XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_586_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_586_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX586XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_586_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=586#respond' onclick='return addComment.moveForm("comment-586", "586", "respond", "75")'>Reply</a></div></div><ul
class='children'><li
class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="comment-598"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/admin/" rel="nofollow"> <img
src="http://leetcode.com/wp-content/uploads/avatars/8268/2ffa5b26dd039dec008aa06ddae07ec0-bpthumb.jpg" alt="Avatar Image" class="avatar user-8268-avatar" width="25" height="25" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/admin/" rel="nofollow">1337c0d3r</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-598"><span
class="time-since">March 11, 2011</span></a></p></div><div
class="comment-entry"><p>Think: What is the maximum number of elements you can pop from the queue? This is the number of elements you push to the queue right?</p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_598_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_598_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX598XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_598_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_598_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX598XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_598_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=598#respond' onclick='return addComment.moveForm("comment-598", "598", "respond", "75")'>Reply</a></div></div></li></ul></li><li
class="comment even thread-even depth-1" id="comment-726"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://1.gravatar.com/avatar/5775c64edad340e27980287268941dbd?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">anonymous</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-726"><span
class="time-since">April 4, 2011</span></a></p></div><div
class="comment-entry"><p>For priority queue solution, complexity is indeed O(n log n). The reason is that the max size of heap can grow to O(n) in worst case. For example, if A = {1,2,3,4,5,6,7,8,9}, line 9 &#8211; 12 never executes. On the other hand, if A = {9,8,7,6,5,4,3,2,1} heap size remains O(w) all the time.</p><p>One more alternative solution that I propose for this problem is solving range minimum query using<br
/> O(n log w) sized table. There are total O(n) queries, each taking O(1) time to solve. For reference, interested readers can read this tutorial<br
/> <a
href="http://www.topcoder.com/tc?module=Static&#038;d1=tutorials&#038;d2=lowestCommonAncestor" rel="nofollow">http://www.topcoder.com/tc?module=Static&#038;d1=tutorials&#038;d2=lowestCommonAncestor</a></p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_726_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_726_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX726XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_726_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_726_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX726XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_726_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=726#respond' onclick='return addComment.moveForm("comment-726", "726", "respond", "75")'>Reply</a></div></div><ul
class='children'><li
class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="comment-912"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/admin/" rel="nofollow"> <img
src="http://leetcode.com/wp-content/uploads/avatars/8268/2ffa5b26dd039dec008aa06ddae07ec0-bpthumb.jpg" alt="Avatar Image" class="avatar user-8268-avatar" width="25" height="25" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/admin/" rel="nofollow">1337c0d3r</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-912"><span
class="time-since">April 26, 2011</span></a></p></div><div
class="comment-entry"><p>Thanks, you are indeed correct. When A is sorted, it has the worst case of O(n log n) since the newly pushed element is the new maximum and therefore the inner while loop will never execute.</p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_912_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_912_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX912XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_912_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_912_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX912XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_912_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=912#respond' onclick='return addComment.moveForm("comment-912", "912", "respond", "75")'>Reply</a></div></div></li></ul></li><li
class="comment even thread-odd thread-alt depth-1" id="comment-966"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/acbc1025bf0f30938df318fd1fdf5f2b?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">Jason</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-966"><span
class="time-since">May 3, 2011</span></a></p></div><div
class="comment-entry"><p>A simpler method for this problem.<br
/> Only need O(1) extra space, also with time complexity O(n).</p><p>void maxSlidingWindow(int A[], int n, int w, int B[]) {<br
/> int imax = 0, icurmax;<br
/> for (int i = 0; i  A[imax])<br
/> imax = i;<br
/> }<br
/> B[0] = A[imax];</p><p> for (int i = 1; i A[i+w-1])?(i-1):(i+w-1);<br
/> if (A[icurmax]&gt;A[imax])<br
/> imax = icurmax;<br
/> B[i] = A[imax];<br
/> }<br
/> }</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_966_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_966_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX966XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_966_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_966_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX966XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_966_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=966#respond' onclick='return addComment.moveForm("comment-966", "966", "respond", "75")'>Reply</a></div></div><ul
class='children'><li
class="comment odd alt depth-2" id="comment-968"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/acbc1025bf0f30938df318fd1fdf5f2b?s=25&amp;d=identicon&amp;r=G' class='avatar avatar-25 photo' height='25' width='25' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">Jason</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-968"><span
class="time-since">May 3, 2011</span></a></p></div><div
class="comment-entry"><p>void maxSlidingWindow(int A[], int n, int w, int B[]) {<br
/> int imax=0,icurmax;<br
/> for (int i=0;iA[imax])<br
/> imax = i;<br
/> }<br
/> B[0] = A[imax];</p><p> for (int i=1;iA[i+w-1])?(i-1):(i+w-1);<br
/> if (A[icurmax]&gt;A[imax]) {<br
/> imax = icurmax;<br
/> }<br
/> B[i] = A[imax];<br
/> }<br
/> }</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_968_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_968_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX968XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_968_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_968_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX968XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_968_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=968#respond' onclick='return addComment.moveForm("comment-968", "968", "respond", "75")'>Reply</a></div></div></li></ul></li><li
class="comment even thread-even depth-1" id="comment-969"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/acbc1025bf0f30938df318fd1fdf5f2b?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">Jason</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-969"><span
class="time-since">May 3, 2011</span></a></p></div><div
class="comment-entry"><p>Sorry, I don&#8217;t know why my code cannot be shown correctly.</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_969_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_969_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX969XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_969_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_969_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX969XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_969_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=969#respond' onclick='return addComment.moveForm("comment-969", "969", "respond", "75")'>Reply</a></div></div></li><li
class="comment odd alt thread-odd thread-alt depth-1" id="comment-1091"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://1.gravatar.com/avatar/19e8fb5b46456a094b9e2f8670abadf8?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">Bernie</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-1091"><span
class="time-since">May 19, 2011</span></a></p></div><div
class="comment-entry"><p>Awesome!<br
/> I learnt something about how to delete elements properly here.</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_1091_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_1091_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX1091XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_1091_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_1091_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX1091XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_1091_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=1091#respond' onclick='return addComment.moveForm("comment-1091", "1091", "respond", "75")'>Reply</a></div></div></li><li
class="comment even thread-even depth-1" id="comment-1151"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://1.gravatar.com/avatar/7418bf89f823c990a97fa260abeba729?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">Mikhail</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-1151"><span
class="time-since">May 27, 2011</span></a></p></div><div
class="comment-entry"><p>How does the A[i] &gt;= A[Q.back()] work??? if Q.back() is a really large number wouldnt A[Q.back] exceed the array limit , or atleast the sliding window size??</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_1151_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_1151_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX1151XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_1151_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_1151_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX1151XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_1151_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=1151#respond' onclick='return addComment.moveForm("comment-1151", "1151", "respond", "75")'>Reply</a></div></div></li><li
class="comment odd alt thread-odd thread-alt depth-1" id="comment-1258"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://1.gravatar.com/avatar/f06829f94cb599f5ad83e9b7ed446b58?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">Amit</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-1258"><span
class="time-since">June 12, 2011</span></a></p></div><div
class="comment-entry"><p>This seems to work:<br
/> public class SlidingWindow {</p><p> public static int[] getWindow(int[] a, int w) {<br
/> int b[] = new int[a.length - w +1 ];<br
/> b[0] = findMax(a, w, 0);<br
/> for (int i = 1; i <b> (length[a])<br
/> int end = w &#8211; 1;<br
/> if (w &gt; a.length &#8211; start) {<br
/> end = a.length &#8211; 1;<br
/> }</p><p> int max = Integer.MIN_VALUE;<br
/> for (int i = start; i  max) {<br
/> max = a[i];<br
/> }<br
/> }</p><p> return max;<br
/> }</p><p> public static void main(String[] args) {<br
/> int[] a = {1, 3, -1, -3, 5, 3, 6, 7};<br
/> int[] b  = getWindow(a, 3);<br
/> }</p><p>}</b></p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_1258_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_1258_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX1258XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_1258_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_1258_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX1258XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_1258_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=1258#respond' onclick='return addComment.moveForm("comment-1258", "1258", "respond", "75")'>Reply</a></div></div></li><li
class="comment even thread-even depth-1" id="comment-1318"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/66c6c64426b832c61c8dc797d8a44148?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">Saurabh</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-1318"><span
class="time-since">June 18, 2011</span></a></p></div><div
class="comment-entry"><p>public static void main(String[] args)<br
/> {<br
/> int [] arr = new int [] {1, 3, -1, -3, 5, 3, 6, 7};<br
/> int w =3;<br
/> int max = arr[0];<br
/> for(int i = 1; i  max)<br
/> {<br
/> max = arr[i];<br
/> }<br
/> }<br
/> System.out.println(max);<br
/> for(int i = 1; i max)<br
/> {<br
/> max = arr[i+w-1];<br
/> }<br
/> System.out.println(max);<br
/> }</p><p>This solution seems to work, though i haven&#8217;t tested much.</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_1318_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_1318_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX1318XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_1318_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_1318_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX1318XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_1318_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=1318#respond' onclick='return addComment.moveForm("comment-1318", "1318", "respond", "75")'>Reply</a></div></div></li><li
class="comment odd alt thread-odd thread-alt depth-1" id="comment-1319"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/66c6c64426b832c61c8dc797d8a44148?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">Saurabh</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-1319"><span
class="time-since">June 18, 2011</span></a></p></div><div
class="comment-entry"><p>public static void main(String[] args)<br
/> {<br
/> int [] arr = new int [] {1, 3, -1, -3, 5, 3, 6, 7};<br
/> int w =3;<br
/> int max = arr[0];<br
/> for(int i = 1; i  max)<br
/> {<br
/> max = arr[i];<br
/> }<br
/> }<br
/> System.out.println(max);<br
/> for(int i = 1; i max)<br
/> {<br
/> max = arr[i+w-1];<br
/> }<br
/> System.out.println(max);<br
/> }<br
/> }</p><p>Somehow it is screwing up the code when i submit.</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_1319_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_1319_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX1319XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_1319_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_1319_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX1319XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_1319_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=1319#respond' onclick='return addComment.moveForm("comment-1319", "1319", "respond", "75")'>Reply</a></div></div></li><li
class="comment even thread-even depth-1" id="comment-1997"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://1.gravatar.com/avatar/52c9c1ad5a4721d50297cf984896ead7?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">lipingwu</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-1997"><span
class="time-since">August 10, 2011</span></a></p></div><div
class="comment-entry"><p>Hi 1337,</p><p>I like your second solution very well. Thanks a lot for your posts, I learned a lot from them.</p><p>For this problem, I have another idea of O(n)  (O(4n) more exactly) time. No other data structure is needed in this solution. Can you have a look at and give me some comments? Thanks.</p><p>//Create an array T with size of w. When window position is 0, initialize the array so that the element at position i(0&lt;=i&lt;w) is<br
/> //the maximum number among the numbers from i to w-1 in current window. Then B[0]=T[0]. We know that the array T is associated with w numbers in<br
/> //current window, and we call these w numbers as the old numbers. Then with the window moves on, new numbers will be included, and<br
/> //old numbers will be excluded from the beginning. Assume there are i new numbers included (or i old numbers excluded),<br
/> //the beginning i elements of the T will be updated so that they will be associated with these i new numbers and the end element in the first<br
/> //i elements of T will be the maximum number among these i new numbers. Then, in current array T, there two parts. The first part is associated<br
/> //with the new numbers, and the second part is associated with the old numbers. We also can directly get the maximum number among the new numbers<br
/> //(the last element in the first part) and the maximum number among the old numbers(the first element in the second part), so that directly get<br
/> //the maximum number in current window(the maximum number among these two maximum numbers). Once there are no old elements left for current window,<br
/> //then we need to take all the new elements as the old elements and get the array that is associated with the old elements.<br
/> //Pseudo codes are more persuasive.<br
/> void winMax(int A[], int n, int w, int* B){//Avoid &quot;address of local variable B returned&quot;!!!<br
/> int T[w];<br
/> int j = w-1;</p><p> for(int i = 0; i = 0; j &#8211;)<br
/> T[j] = max(A[i+j], j==w-1 ? INT_MIN : T[j+1]);<br
/> j = 0;<br
/> B[i] = T[0];<br
/> }else{<br
/> T[j] = max(A[i+w-1], j==0 ? INT_MIN : T[j-1]);<br
/> B[i] = max(T[j], T[j+1]);<br
/> j ++;<br
/> }<br
/> }<br
/> }</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_1997_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_1997_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX1997XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_1997_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_1997_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX1997XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_1997_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=1997#respond' onclick='return addComment.moveForm("comment-1997", "1997", "respond", "75")'>Reply</a></div></div></li><li
class="comment odd alt thread-odd thread-alt depth-1" id="comment-2037"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/c4d480a76f6a8d96a426a2ead3f83359?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">sachin</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-2037"><span
class="time-since">August 15, 2011</span></a></p></div><div
class="comment-entry"><p>I could not figure out how You are deleting elements which are out of range in the first solution?Can you please elaborate.</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_2037_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_2037_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX2037XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_2037_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_2037_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX2037XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_2037_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=2037#respond' onclick='return addComment.moveForm("comment-2037", "2037", "respond", "75")'>Reply</a></div></div></li><li
class="comment even thread-even depth-1" id="comment-2467"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/4f1fe7e7ed699f39c524408af1bd199e?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">Shaobi Li</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-2467"><span
class="time-since">September 4, 2011</span></a></p></div><div
class="comment-entry"><p>Hi,<br
/> I think in the worst case the second solution will be O(wn) when the array is already sorted in descending order. Every time you want to push an element in queue you have to compare w times to maintain the queue. So the second algorithms beats the trivial algorithms in average case in that it deletes the redundant elements. I&#8217;m not sure if I am right. So I&#8217;m looking forward to get your feed back. Thanks you a lot for you great posts.</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_2467_c" class="gdt-size-20 gdthumbtext"> <strong
title="1 up, 0 down">+1</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_2467_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX2467XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_2467_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_2467_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX2467XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_2467_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=2467#respond' onclick='return addComment.moveForm("comment-2467", "2467", "respond", "75")'>Reply</a></div></div><ul
class='children'><li
class="comment byuser comment-author-lowiq odd alt depth-2" id="comment-76556"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/lowiq/" rel="nofollow"> <img
src="http://www.gravatar.com/avatar/728fdccb31f7d98990ef06b019e552cf?d=identicon&amp;s=25&amp;r=G" alt="Avatar Image" class="avatar user-1085-avatar" width="25" height="25" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/lowiq/" rel="nofollow">JQueue</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-76556"><span
class="time-since">October 3, 2013</span></a></p></div><div
class="comment-entry"><p>O(n) comes from the fact that each element will get inserted and removed at most once.</p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_76556_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_76556_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX76556XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_76556_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_76556_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX76556XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_76556_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=76556#respond' onclick='return addComment.moveForm("comment-76556", "76556", "respond", "75")'>Reply</a></div></div></li></ul></li><li
class="comment even thread-odd thread-alt depth-1" id="comment-3536"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://ubc.ca" rel="nofollow"> <img
alt='' src='http://1.gravatar.com/avatar/197a2c0b23617ed9451372670a77e30f?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://ubc.ca" rel="nofollow">japanbest</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-3536"><span
class="time-since">October 13, 2011</span></a></p></div><div
class="comment-entry"><p>one way to optimize further is to implement a double-ended queue using an array of w,</p><p>we can use binary search to locate the correct place to insert and we can just set the head pointer to pop out the head elements</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_3536_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_3536_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX3536XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_3536_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_3536_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX3536XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_3536_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=3536#respond' onclick='return addComment.moveForm("comment-3536", "3536", "respond", "75")'>Reply</a></div></div></li><li
class="comment byuser comment-author-siva odd alt thread-even depth-1" id="comment-3580"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/siva/" rel="nofollow"> <img
src="http://www.gravatar.com/avatar/93f99b183d39f6776fb1ea15cf537c9b?d=identicon&amp;s=50&amp;r=G" alt="Avatar Image" class="avatar user-65-avatar" width="50" height="50" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/siva/" rel="nofollow">siv</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-3580"><span
class="time-since">October 14, 2011</span></a></p></div><div
class="comment-entry"><p>Hi 1337.</p><p>I have one more solution which has run time complexity of O(n);<br
/> Please correct me if i am wrong.</p><p>void maxSlidingWindow(int a[], int n, int w, int b[])<br
/> {<br
/> int c[10];<br
/> int max = a[0];<br
/> for (int i=1;imax)<br
/> max=a[i];<br
/> }<br
/> b[0]=max;<br
/> int j;<br
/> for (int i=w,j=1;imax)<br
/> {<br
/> max= a[i];<br
/> }<br
/> b[j] = max;<br
/> }<br
/> }</p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_3580_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_3580_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX3580XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_3580_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_3580_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX3580XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_3580_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=3580#respond' onclick='return addComment.moveForm("comment-3580", "3580", "respond", "75")'>Reply</a></div></div></li><li
class="comment even thread-odd thread-alt depth-1" id="comment-14252"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/e09d2ed2aaf32c48ecc881e392499f37?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">seeker</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-14252"><span
class="time-since">February 9, 2012</span></a></p></div><div
class="comment-entry"><p>Amazing! you&#8217;re brilliant .. thanks a lot</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_14252_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_14252_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX14252XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_14252_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_14252_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX14252XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_14252_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=14252#respond' onclick='return addComment.moveForm("comment-14252", "14252", "respond", "75")'>Reply</a></div></div></li><li
class="comment odd alt thread-even depth-1" id="comment-15002"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://1.gravatar.com/avatar/3384911a834d6df5468e31d4e8b28aff?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">shushant arora</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-15002"><span
class="time-since">February 22, 2012</span></a></p></div><div
class="comment-entry"><p>Sliding window Maximum when shift is not 1 :</p><p>void slidingwindowMaximum(int[] a,int[] b,int w,int shift){<br
/> Dequeue Q;<br
/> for(int i=0;i=A[Q.back]){<br
/> Q.pop_back();<br
/> }<br
/> Q.push_back(i);<br
/> }<br
/> cwStart = 0;cwEnd =  w-1;<br
/> counter = 0;<br
/> while(i&lt;a.length){<br
/> B[counter++]=A[Q.front()];<br
/> cwStart+=shift;<br
/> cwEnd+=shift;<br
/> while(i=A[Q.back()]){<br
/> Q.pop_back();<br
/> }<br
/> while(!Q.empty()&amp;&amp;Q.front()&lt;cwStart){<br
/> Q.pop_front();<br
/> }<br
/> Q.push_back(i);<br
/> i++;<br
/> }<br
/> }<br
/> B[counter]=A[Q.front()];</p><p>}</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_15002_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_15002_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX15002XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_15002_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_15002_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX15002XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_15002_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=15002#respond' onclick='return addComment.moveForm("comment-15002", "15002", "respond", "75")'>Reply</a></div></div></li><li
class="comment even thread-odd thread-alt depth-1" id="comment-15466"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/8e1e776a3af1606e92ed6ca625cae33f?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">quasar</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-15466"><span
class="time-since">February 28, 2012</span></a></p></div><div
class="comment-entry"><p>while (!Q.empty() &amp;&amp; Q.front() &lt;= i-w)<br
/> Q.pop_front();<br
/> Should this while change to &quot;if&quot;?</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_15466_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_15466_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX15466XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_15466_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_15466_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX15466XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_15466_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=15466#respond' onclick='return addComment.moveForm("comment-15466", "15466", "respond", "75")'>Reply</a></div></div></li><li
class="comment odd alt thread-even depth-1" id="comment-16959"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://1.gravatar.com/avatar/3384911a834d6df5468e31d4e8b28aff?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">shushant arora</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-16959"><span
class="time-since">March 27, 2012</span></a></p></div><div
class="comment-entry"><p>No.. while should not be changed to if..since we need to remove all elements in back of queue which are less that current element.suppose queue has[11,8,7] and current elemnt is 15. then we have to remove all from back 7&lt;15 ,8&lt;15 , 11&lt;15 so remove all.</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_16959_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_16959_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX16959XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_16959_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_16959_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX16959XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_16959_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=16959#respond' onclick='return addComment.moveForm("comment-16959", "16959", "respond", "75")'>Reply</a></div></div></li><li
class="comment even thread-odd thread-alt depth-1" id="comment-17488"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/07c5f91d87ee3d1b2881fcdbf090cd8e?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">veeru</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-17488"><span
class="time-since">March 31, 2012</span></a></p></div><div
class="comment-entry"><p>all right I have gone through the problem statement again and again but I think I don&#8217;t understand it correctly.</p><p>my code shouldn&#8217;t be this simple.<br
/> where am I thinking wrong</p><p>is this the required output</p><p>public int[] MaxSlidingWindow(int[] a, int w)<br
/> {<br
/> if (a == null)<br
/> return null;</p><p> int i = 0;<br
/> var b = new int[a.Length - 2];<br
/> while(i+2 &lt;a.Length)<br
/> {<br
/> b[i] = Math.Max(Math.Max(a[i], a[i + 1]), a[i + 2]);<br
/> i++;<br
/> }</p><p> return b;<br
/> }</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_17488_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_17488_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX17488XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_17488_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_17488_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX17488XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_17488_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=17488#respond' onclick='return addComment.moveForm("comment-17488", "17488", "respond", "75")'>Reply</a></div></div></li><li
class="comment odd alt thread-even depth-1" id="comment-21330"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://www.leetcode.com/2011/01/sliding-window-maximum.html" rel="nofollow"> <img
alt='' src='http://1.gravatar.com/avatar/7b6e19f46564d874982a7ebb51f7b04b?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://www.leetcode.com/2011/01/sliding-window-maximum.html" rel="nofollow">kanika sharma</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-21330"><span
class="time-since">June 19, 2012</span></a></p></div><div
class="comment-entry"><p>can we do this problem in the following way&#8230;. or i have misunderstood the question since i am not using any complicated data structure like heap or dequeue &#8230;i am doing it using simple loop</p><p> for(i=0;i&lt;w;i++)<br
/> max_num=max(max_num,arr[i]);</p><p> B[0]=max_num;<br
/> for(i=w,j=1;i&lt;NUM;j++,i++)<br
/> {     max_num=max(max_num,arr[i]);<br
/> B[j]=max_num;<br
/> }<br
/> for(i=0;i&lt;j;i++)<br
/> printf(&quot;%d   &quot;,B[i]);</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_21330_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_21330_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX21330XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_21330_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_21330_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX21330XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_21330_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=21330#respond' onclick='return addComment.moveForm("comment-21330", "21330", "respond", "75")'>Reply</a></div></div></li><li
class="comment byuser comment-author-jastination even thread-odd thread-alt depth-1" id="comment-21627"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/jastination/" rel="nofollow"> <img
src="http://www.gravatar.com/avatar/0a1660e2d34e3ad22f55088227c72b32?d=identicon&amp;s=50&amp;r=G" alt="Avatar Image" class="avatar user-1272-avatar" width="50" height="50" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/jastination/" rel="nofollow">jastination</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-21627"><span
class="time-since">June 24, 2012</span></a></p></div><div
class="comment-entry"><p>Can we add this to OJ please?</p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_21627_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_21627_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX21627XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_21627_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_21627_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX21627XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_21627_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=21627#respond' onclick='return addComment.moveForm("comment-21627", "21627", "respond", "75")'>Reply</a></div></div></li><li
class="comment odd alt thread-even depth-1" id="comment-22286"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/86f06e02a0916bf63799c44e04fc67eb?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">jiaji</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-22286"><span
class="time-since">July 11, 2012</span></a></p></div><div
class="comment-entry"><p>//java version</p><p>import java.util.Collections;<br
/> import java.util.Deque;<br
/> import java.util.LinkedList;<br
/> import java.util.List;</p><p>public class SlidingWindow {</p><p> public static List maxSlidingWindow(Integer[] values, Integer w){</p><p> if(values == null || w &lt;=0 || values.length &#8211; w + 1 &lt; 0) return Collections.EMPTY_LIST;<br
/> List list = new LinkedList();</p><p> Deque q = new LinkedList();</p><p> for(int i=0;i 0 &amp;&amp; q.getLast() &lt; tempData)<br
/> q.pollLast();</p><p> q.addLast(tempData);</p><p> if(i+1&lt;w) continue;</p><p> Integer currentMax = q.getFirst();<br
/> list.add(currentMax);</p><p> if(values[i-w+1] == currentMax) q.removeFirst();</p><p> }</p><p> return list;</p><p> }</p><p> public static void main(String[] args) {<br
/> Integer[] values = {1, 3 ,-1, -3, 5 ,3, 6, 7};</p><p> List list = SlidingWindow.maxSlidingWindow(values, 3);</p><p> for (Integer v : list) {<br
/> System.out.print(v + &#8221; &#8220;);</p><p> }<br
/> }<br
/> }</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_22286_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_22286_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX22286XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_22286_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_22286_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX22286XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_22286_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=22286#respond' onclick='return addComment.moveForm("comment-22286", "22286", "respond", "75")'>Reply</a></div></div></li><li
class="comment even thread-odd thread-alt depth-1" id="comment-23336"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://1.gravatar.com/avatar/7fb2a07be8daf4318136210f7427e0ad?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">prashantgolu</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-23336"><span
class="time-since">August 5, 2012</span></a></p></div><div
class="comment-entry"><p>Where is the queue being initialized&#8230;W.empty will always return true&#8230;</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_23336_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_23336_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX23336XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_23336_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_23336_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX23336XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_23336_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=23336#respond' onclick='return addComment.moveForm("comment-23336", "23336", "respond", "75")'>Reply</a></div></div></li><li
class="comment odd alt thread-even depth-1" id="comment-23338"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://1.gravatar.com/avatar/7fb2a07be8daf4318136210f7427e0ad?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">prashantgolu</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-23338"><span
class="time-since">August 5, 2012</span></a></p></div><div
class="comment-entry"><p>Sorry, my mistake</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_23338_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_23338_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX23338XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_23338_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_23338_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX23338XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_23338_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=23338#respond' onclick='return addComment.moveForm("comment-23338", "23338", "respond", "75")'>Reply</a></div></div></li><li
class="comment even thread-odd thread-alt depth-1" id="comment-24718"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/ca8759bacbd48be017f945b3bd069947?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">Hong</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-24718"><span
class="time-since">September 3, 2012</span></a></p></div><div
class="comment-entry"><p>Clearly not a O(n) method.  Think of a case where all elements are sorted in decreasing order.</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_24718_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_24718_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX24718XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_24718_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_24718_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX24718XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_24718_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=24718#respond' onclick='return addComment.moveForm("comment-24718", "24718", "respond", "75")'>Reply</a></div></div></li><li
class="comment odd alt thread-even depth-1" id="comment-25988"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/c522dc2624de692d75680a11e9fa8140?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">Chun</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-25988"><span
class="time-since">September 25, 2012</span></a></p></div><div
class="comment-entry"><p>I came up a O(1) space and O(n) time algorithm, please let me know if there is wrong</p><p></p><div
id="crayon-52a3f95d860e1" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-pc print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 16px !important;">
public static void slide(int[] num, int w) {
        if (num.length - w &lt; 0 || w &lt;= 0) {
            return;
        }

        int[] result = new int[num.length - w + 1];

        int max = Integer.MIN_VALUE, rightSecondMax = max, maxIndex = -1, rightSecondMaxIndex = -1; //rightSecondMax is the second maximum value that on the right of the current max value

        for (int i = 0; i = max) {
                max = num[i];
                maxIndex = i;
            } else if (num[i] &gt;= rightSecondMax &amp;&amp; i &gt; maxIndex) {
                rightSecondMax = num[i];
                rightSecondMaxIndex = i;
            }
        }

        result[0] = max;

        for (int i = 0; i = max) { // new one larger than max, swap max(we want to keep max on right side)
                max = num[i + w - 1];
                maxIndex = i + w - 1;
                rightSecondMax = Integer.MIN_VALUE;
            } else { // new number smaller than current max
                if (maxIndex &lt;i&gt;= rightSecondMax) {
                    rightSecondMax = num[i + w - 1];
                    rightSecondMaxIndex = i + w - 1;
                }
            }
            result[i] = max;
        }

        for (int value : result) {
            System.out.print(value + " ");
        }
        System.out.println();
    }</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="hide"><div
class="crayon-nums-content" style="font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-num" data-line="crayon-52a3f95d860e1-1">1</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d860e1-2">2</div><div
class="crayon-num" data-line="crayon-52a3f95d860e1-3">3</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d860e1-4">4</div><div
class="crayon-num" data-line="crayon-52a3f95d860e1-5">5</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d860e1-6">6</div><div
class="crayon-num" data-line="crayon-52a3f95d860e1-7">7</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d860e1-8">8</div><div
class="crayon-num" data-line="crayon-52a3f95d860e1-9">9</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d860e1-10">10</div><div
class="crayon-num" data-line="crayon-52a3f95d860e1-11">11</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d860e1-12">12</div><div
class="crayon-num" data-line="crayon-52a3f95d860e1-13">13</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d860e1-14">14</div><div
class="crayon-num" data-line="crayon-52a3f95d860e1-15">15</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d860e1-16">16</div><div
class="crayon-num" data-line="crayon-52a3f95d860e1-17">17</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d860e1-18">18</div><div
class="crayon-num" data-line="crayon-52a3f95d860e1-19">19</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d860e1-20">20</div><div
class="crayon-num" data-line="crayon-52a3f95d860e1-21">21</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d860e1-22">22</div><div
class="crayon-num" data-line="crayon-52a3f95d860e1-23">23</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d860e1-24">24</div><div
class="crayon-num" data-line="crayon-52a3f95d860e1-25">25</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d860e1-26">26</div><div
class="crayon-num" data-line="crayon-52a3f95d860e1-27">27</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d860e1-28">28</div><div
class="crayon-num" data-line="crayon-52a3f95d860e1-29">29</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d860e1-30">30</div><div
class="crayon-num" data-line="crayon-52a3f95d860e1-31">31</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d860e1-32">32</div><div
class="crayon-num" data-line="crayon-52a3f95d860e1-33">33</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d860e1-34">34</div><div
class="crayon-num" data-line="crayon-52a3f95d860e1-35">35</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d860e1-36">36</div><div
class="crayon-num" data-line="crayon-52a3f95d860e1-37">37</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d860e1-38">38</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-line" id="crayon-52a3f95d860e1-1"><span
class="m">public</span><span
class="h"> </span><span
class="m">static</span><span
class="h"> </span><span
class="t">void</span><span
class="h"> </span><span
class="e">slide</span><span
class="sy">(</span><span
class="t">int</span><span
class="sy">[</span><span
class="sy">]</span><span
class="h"> </span><span
class="i">num</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="i">w</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d860e1-2"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="v">num</span><span
class="sy">.</span><span
class="i">length</span><span
class="h"> </span><span
class="o">-</span><span
class="h"> </span><span
class="i">w</span><span
class="h"> </span><span
class="o">&lt;</span><span
class="h"> </span><span
class="cn">0</span><span
class="h"> </span><span
class="o">||</span><span
class="h"> </span><span
class="i">w</span><span
class="h"> </span><span
class="o">&lt;=</span><span
class="h"> </span><span
class="cn">0</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f95d860e1-3"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">return</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d860e1-4"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3f95d860e1-5">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d860e1-6"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="t">int</span><span
class="sy">[</span><span
class="sy">]</span><span
class="h"> </span><span
class="v">result</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="r">new</span><span
class="h"> </span><span
class="t">int</span><span
class="sy">[</span><span
class="v">num</span><span
class="sy">.</span><span
class="i">length</span><span
class="h"> </span><span
class="o">-</span><span
class="h"> </span><span
class="i">w</span><span
class="h"> </span><span
class="o">+</span><span
class="h"> </span><span
class="cn">1</span><span
class="sy">]</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d860e1-7">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d860e1-8"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="t">int</span><span
class="h"> </span><span
class="v">max</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="t">Integer</span><span
class="sy">.</span><span
class="i">MIN_VALUE</span><span
class="sy">,</span><span
class="h"> </span><span
class="v">rightSecondMax</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">max</span><span
class="sy">,</span><span
class="h"> </span><span
class="v">maxIndex</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="o">-</span><span
class="cn">1</span><span
class="sy">,</span><span
class="h"> </span><span
class="v">rightSecondMaxIndex</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="o">-</span><span
class="cn">1</span><span
class="sy">;</span><span
class="h"> </span><span
class="c">//rightSecondMax is the second maximum value that on the right of the current max value</span></div><div
class="crayon-line" id="crayon-52a3f95d860e1-9">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d860e1-10"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">for</span><span
class="h"> </span><span
class="sy">(</span><span
class="t">int</span><span
class="h"> </span><span
class="v">i</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="cn">0</span><span
class="sy">;</span><span
class="h"> </span><span
class="v">i</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">max</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f95d860e1-11"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">max</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="v">num</span><span
class="sy">[</span><span
class="i">i</span><span
class="sy">]</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d860e1-12"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">maxIndex</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">i</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d860e1-13"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span><span
class="h"> </span><span
class="st">else</span><span
class="h"> </span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="v">num</span><span
class="sy">[</span><span
class="i">i</span><span
class="sy">]</span><span
class="h"> </span><span
class="o">&gt;=</span><span
class="h"> </span><span
class="i">rightSecondMax</span><span
class="h"> </span><span
class="o">&amp;&amp;</span><span
class="h"> </span><span
class="i">i</span><span
class="h"> </span><span
class="o">&gt;</span><span
class="h"> </span><span
class="i">maxIndex</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d860e1-14"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">rightSecondMax</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="v">num</span><span
class="sy">[</span><span
class="i">i</span><span
class="sy">]</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d860e1-15"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">rightSecondMaxIndex</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">i</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d860e1-16"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3f95d860e1-17"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d860e1-18">&nbsp;</div><div
class="crayon-line" id="crayon-52a3f95d860e1-19"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">result</span><span
class="sy">[</span><span
class="cn">0</span><span
class="sy">]</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">max</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d860e1-20">&nbsp;</div><div
class="crayon-line" id="crayon-52a3f95d860e1-21"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">for</span><span
class="h"> </span><span
class="sy">(</span><span
class="t">int</span><span
class="h"> </span><span
class="v">i</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="cn">0</span><span
class="sy">;</span><span
class="h"> </span><span
class="v">i</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">max</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span><span
class="h"> </span><span
class="c">// new one larger than max, swap max(we want to keep max on right side)</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d860e1-22"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">max</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="v">num</span><span
class="sy">[</span><span
class="i">i</span><span
class="h"> </span><span
class="o">+</span><span
class="h"> </span><span
class="i">w</span><span
class="h"> </span><span
class="o">-</span><span
class="h"> </span><span
class="cn">1</span><span
class="sy">]</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d860e1-23"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">maxIndex</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">i</span><span
class="h"> </span><span
class="o">+</span><span
class="h"> </span><span
class="i">w</span><span
class="h"> </span><span
class="o">-</span><span
class="h"> </span><span
class="cn">1</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d860e1-24"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">rightSecondMax</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="t">Integer</span><span
class="sy">.</span><span
class="i">MIN_VALUE</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d860e1-25"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span><span
class="h"> </span><span
class="st">else</span><span
class="h"> </span><span
class="sy">{</span><span
class="h"> </span><span
class="c">// new number smaller than current max</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d860e1-26"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="i">maxIndex</span><span
class="h"> </span><span
class="o">&lt;</span><span
class="i">i</span><span
class="o">&gt;=</span><span
class="h"> </span><span
class="i">rightSecondMax</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f95d860e1-27"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">rightSecondMax</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="v">num</span><span
class="sy">[</span><span
class="i">i</span><span
class="h"> </span><span
class="o">+</span><span
class="h"> </span><span
class="i">w</span><span
class="h"> </span><span
class="o">-</span><span
class="h"> </span><span
class="cn">1</span><span
class="sy">]</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d860e1-28"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">rightSecondMaxIndex</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">i</span><span
class="h"> </span><span
class="o">+</span><span
class="h"> </span><span
class="i">w</span><span
class="h"> </span><span
class="o">-</span><span
class="h"> </span><span
class="cn">1</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d860e1-29"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d860e1-30"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3f95d860e1-31"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">result</span><span
class="sy">[</span><span
class="i">i</span><span
class="sy">]</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">max</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d860e1-32"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3f95d860e1-33">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d860e1-34"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">for</span><span
class="h"> </span><span
class="sy">(</span><span
class="t">int</span><span
class="h"> </span><span
class="i">value</span><span
class="h"> </span><span
class="o">:</span><span
class="h"> </span><span
class="i">result</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f95d860e1-35"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">System</span><span
class="sy">.</span><span
class="v">out</span><span
class="sy">.</span><span
class="e">print</span><span
class="sy">(</span><span
class="i">value</span><span
class="h"> </span><span
class="o">+</span><span
class="h"> </span><span
class="s">" "</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d860e1-36"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3f95d860e1-37"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">System</span><span
class="sy">.</span><span
class="v">out</span><span
class="sy">.</span><span
class="e">println</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d860e1-38"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div></div></td></tr></table></div></div><p></p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_25988_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_25988_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX25988XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_25988_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_25988_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX25988XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_25988_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=25988#respond' onclick='return addComment.moveForm("comment-25988", "25988", "respond", "75")'>Reply</a></div></div></li><li
class="comment even thread-odd thread-alt depth-1" id="comment-25990"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/c522dc2624de692d75680a11e9fa8140?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">Chun</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-25990"><span
class="time-since">September 25, 2012</span></a></p></div><div
class="comment-entry"><p>sorry, in above code the second for-loop should start from 1</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_25990_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_25990_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX25990XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_25990_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_25990_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX25990XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_25990_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=25990#respond' onclick='return addComment.moveForm("comment-25990", "25990", "respond", "75")'>Reply</a></div></div></li><li
class="comment odd alt thread-even depth-1" id="comment-35675"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://1.gravatar.com/avatar/b7c629adc9063555c719e3e96060b331?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">sreenivasan</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-35675"><span
class="time-since">January 12, 2013</span></a></p></div><div
class="comment-entry"><p>@Chun :  i  think the above code DOES NOT works for numbers in descending order.<br
/> having only the curr_max and second_max NOT sufficient since max_numbers continuously keep going out of the window.</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_35675_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_35675_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX35675XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_35675_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_35675_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX35675XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_35675_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=35675#respond' onclick='return addComment.moveForm("comment-35675", "35675", "respond", "75")'>Reply</a></div></div></li><li
class="comment even thread-odd thread-alt depth-1" id="comment-36240"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/e3e7a7e4274e3c662b78b847ff0daeb8?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">zyfo2</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-36240"><span
class="time-since">January 17, 2013</span></a></p></div><div
class="comment-entry"><p>definitely brilliant idea! a brilliant idea is worth a thousand lines of code. the key is to get rid of the elements both backwards and after the present max element!</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_36240_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_36240_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX36240XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_36240_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_36240_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX36240XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_36240_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=36240#respond' onclick='return addComment.moveForm("comment-36240", "36240", "respond", "75")'>Reply</a></div></div></li><li
class="comment byuser comment-author-hector010 odd alt thread-even depth-1" id="comment-38959"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/hector010/" rel="nofollow"> <img
src="http://leetcode.com/wp-content/uploads/avatars/1225/b07badd735ae1ed09ee97b69f5f0d523-bpthumb.jpg" alt="Avatar Image" class="avatar user-1225-avatar" width="50" height="50" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/hector010/" rel="nofollow">Hector</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-38959"><span
class="time-since">February 1, 2013</span></a></p></div><div
class="comment-entry"><p>What if the input is a stream instead of an array of fixed size?</p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_38959_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_38959_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX38959XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_38959_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_38959_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX38959XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_38959_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=38959#respond' onclick='return addComment.moveForm("comment-38959", "38959", "respond", "75")'>Reply</a></div></div></li><li
class="comment even thread-odd thread-alt depth-1" id="comment-42040"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://1.gravatar.com/avatar/dc4f79f376bce23cb91104e06388d3fc?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">Owen</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-42040"><span
class="time-since">February 14, 2013</span></a></p></div><div
class="comment-entry"><p>Anyone knows what the B[n-w] = A[Q.front()] is for in the most original deque solution posted by 1337? Thanks a lot.</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_42040_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_42040_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX42040XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_42040_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_42040_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX42040XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_42040_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=42040#respond' onclick='return addComment.moveForm("comment-42040", "42040", "respond", "75")'>Reply</a></div></div></li><li
class="comment odd alt thread-even depth-1" id="comment-44512"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/cf955b0864c3029bb8178e75a95602a8?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">amit mall</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-44512"><span
class="time-since">February 27, 2013</span></a></p></div><div
class="comment-entry"><p>code without any queue</p><p>// Type your C++ code and click the &#8220;Run Code&#8221; button!<br
/> // Your code output will be shown on the left.<br
/> // Click on the &#8220;Show input&#8221; button to enter input data to be read (from stdin).</p><p>#include<br
/> using namespace std;</p><p>int main() {<br
/> int a[] = {1,3,4,2,7,3,1,0,7,4,2,1,7,-1,-3,5,3,6,7};</p><p> int aLen = 19;<br
/> int w = 2;<br
/> int lPtr = 0;</p><p> int tmp[19];<br
/> int j = 0;</p><p> tmp[0] = a[0];<br
/> int cntr = 0;<br
/> for (int i = 1; i = lPtr &amp;&amp; tmp[j] &lt; a[i]; ) {<br
/> j&#8211;;<br
/> }<br
/> tmp[++j] = a[i];<br
/> if (++cntr &lt; 2) {<br
/> continue;<br
/> }<br
/> cout &lt;&lt; tmp[lPtr];<br
/> if (tmp[lPtr] == a[i - w]) {<br
/> lPtr++;<br
/> }</p><p> }</p><p> return 0;<br
/> }</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_44512_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_44512_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX44512XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_44512_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_44512_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX44512XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_44512_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=44512#respond' onclick='return addComment.moveForm("comment-44512", "44512", "respond", "75")'>Reply</a></div></div></li><li
class="comment byuser comment-author-weidagang even thread-odd thread-alt depth-1" id="comment-58448"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/weidagang/" rel="nofollow"> <img
src="http://www.gravatar.com/avatar/6ff3f136c340de6931974e710bf30f89?d=identicon&amp;s=50&amp;r=G" alt="Avatar Image" class="avatar user-12365-avatar" width="50" height="50" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/weidagang/" rel="nofollow">weidagang</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-58448"><span
class="time-since">May 1, 2013</span></a></p></div><div
class="comment-entry"><p>I like this problem. It has practical value, and the dequeue based solution is really wonderful.</p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_58448_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_58448_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX58448XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_58448_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_58448_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX58448XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_58448_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=58448#respond' onclick='return addComment.moveForm("comment-58448", "58448", "respond", "75")'>Reply</a></div></div></li><li
class="comment byuser comment-author-greenhand odd alt thread-even depth-1" id="comment-59688"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/greenhand/" rel="nofollow"> <img
src="http://www.gravatar.com/avatar/f8cd6746341e8220f80680390344459d?d=identicon&amp;s=50&amp;r=G" alt="Avatar Image" class="avatar user-13076-avatar" width="50" height="50" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/greenhand/" rel="nofollow">frank</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-59688"><span
class="time-since">May 13, 2013</span></a></p></div><div
class="comment-entry"><p>I like this problem but don&#8217;t like the author&#8217;s answers. This problem needs to deal with insert/delete and sorted list simultaneously. I don&#8217;t believe heap or linked list is the right answer. I think the red black tree should be the most efficient way. I will provide the code in a later time.</p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_59688_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_59688_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX59688XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_59688_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_59688_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX59688XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_59688_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=59688#respond' onclick='return addComment.moveForm("comment-59688", "59688", "respond", "75")'>Reply</a></div></div></li><li
class="comment byuser comment-author-greenhand even thread-odd thread-alt depth-1" id="comment-59788"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/greenhand/" rel="nofollow"> <img
src="http://www.gravatar.com/avatar/f8cd6746341e8220f80680390344459d?d=identicon&amp;s=50&amp;r=G" alt="Avatar Image" class="avatar user-13076-avatar" width="50" height="50" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/greenhand/" rel="nofollow">frank</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-59788"><span
class="time-since">May 14, 2013</span></a></p></div><div
class="comment-entry"><p>here is the code using the red black tree. Apprently the time complexity is O(nlog(m)).</p><div
id="crayon-52a3f95d8590f" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-pc print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 16px !important;">
#include 
#include 
#include 

#define INDENT_STEP  4
enum rbtree_node_color {RED, BLACK};

typedef struct rbtree_node_t {
	int value;
	struct rbtree_node_t* left;
	struct rbtree_node_t* right;
	struct rbtree_node_t* parent;
	enum rbtree_node_color color;
} *rbtree_node;
typedef rbtree_node node;
typedef enum rbtree_node_color color;
typedef struct rbtree_t {
	rbtree_node root;
} *rbtree;
typedef int (*compare_func) (int left, int right);

static node grandparent(node n);
static node sibling(node n);
static node uncle(node n);
static void verify_properties(rbtree t);
static void verify_property_1(node root);
static void verify_property_2(node root);
static color node_color(node n);
static void verify_property_4(node root);
static void verify_property_5(node root);
static void verify_property_5_helper(node n, int black_count, int* black_count_path);
rbtree rbtree_create();
static node new_node(int value, color node_color, node left, node right);
static node lookup_node(rbtree t, int value, compare_func compare);
void* rbtree_lookup(rbtree t, int value, compare_func compare);
static void rotate_left(rbtree t, node n);
static void rotate_right(rbtree t, node n);
static void replace_node(rbtree t, node oldn, node newn);
void rbtree_insert(rbtree t, int value, compare_func compare);
static void insert_case1(rbtree t, node n);
static void insert_case2(rbtree t, node n);
static void insert_case3(rbtree t, node n);
static void insert_case4(rbtree t, node n);
static void insert_case5(rbtree t, node n);
void rbtree_delete(rbtree t, int value, compare_func compare);
static node maximum_node(node root);
static void delete_case1(rbtree t, node n);
static void delete_case2(rbtree t, node n);
static void delete_case3(rbtree t, node n);
static void delete_case4(rbtree t, node n);
static void delete_case5(rbtree t, node n);
static void delete_case6(rbtree t, node n);
static int compare_int(int left, int right);
static void print_tree(rbtree t);
static void print_tree_helper(rbtree_node n, int indent);

color node_color(node n){
	return n==NULL ? BLACK : n-&gt;color;
}

node grandparent(node n) {
    assert (n != NULL);
    assert (n-&gt;parent != NULL); /* Not the root node */
    assert (n-&gt;parent-&gt;parent != NULL); /* Not child of root */
    return n-&gt;parent-&gt;parent;
}

node sibling(node n) {
    assert (n != NULL);
    assert (n-&gt;parent != NULL); /* Root node has no sibling */
    if (n == n-&gt;parent-&gt;left)
        return n-&gt;parent-&gt;right;
    else
        return n-&gt;parent-&gt;left;
}

node uncle(node n) {
    assert (n != NULL);
    assert (n-&gt;parent != NULL); /* Root node has no uncle */
    assert (n-&gt;parent-&gt;parent != NULL); /* Children of root have no uncle */
    return sibling(n-&gt;parent);
}

void verify_property_1(node n){
	assert(node_color(n) == RED || node_color(n) == BLACK);
	if (n==NULL) return;
	verify_property_1(n-&gt;left);
	verify_property_1(n-&gt;right);
}

void verify_property_2(node root){
	assert(node_color(root) == BLACK);
}

void verify_property_4(node n){
	if(node_color(n) == RED) {
		assert(node_color(n-&gt;left) == BLACK);
		assert(node_color(n-&gt;right) == BLACK);
		assert(node_color(n-&gt;parent) == BLACK);
	}
	if(n==NULL) return;
	verify_property_4(n-&gt;left);
	verify_property_4(n-&gt;right);
}

void verify_property_5_helper(node n, int black_count, int* path_black_count){
	if(node_color(n) == BLACK) {
		black_count++;
	}
	if(n==NULL){
		if (*path_black_count == -1) {
			*path_black_count = black_count;
		}else{
			assert (black_count == *path_black_count);
		}
		return;
	}
	verify_property_5_helper(n-&gt;left, black_count, path_black_count);
	verify_property_5_helper(n-&gt;right, black_count, path_black_count);
}

void verify_property_5(node root){
	int black_count_path = -1;
	verify_property_5_helper(root, 0, &amp;black_count_path);
}

void verify_properties(rbtree t){
	verify_property_1(t-&gt;root);
	verify_property_2(t-&gt;root);
	//property 3 is implicit
	verify_property_4(t-&gt;root);
	verify_property_5(t-&gt;root);
}

rbtree rbtree_create(){
	rbtree t = malloc(sizeof(struct rbtree_t));
	t-&gt;root = NULL;
	verify_properties(t);
	return t;
}

node new_node(int value, color node_color, node left, node right){
	node result = malloc(sizeof(struct rbtree_node_t));
	result-&gt;value = value;
	result-&gt;color = node_color;
	result-&gt;left = left;
	result-&gt;right = right;
	if(left != NULL) left-&gt;parent = result;
	if(right != NULL) right-&gt;parent = result;
	result-&gt;parent = NULL;
	return result;
}

node lookup_node(rbtree t, int value, compare_func compare){
	node n = t-&gt;root;
	while (n!= NULL){
		int comp_result = compare(value, n-&gt;value);
		if(comp_result == 0) {
			return n;
		}else if(comp_resultleft;
		}else {
			assert(comp_result&gt;0);
			n=n-&gt;right;
		}
		return 0;
	}
}

void* rbtree_lookup(rbtree t, int value, compare_func compare){
	node n = lookup_node(t, value, compare);
	return n==NULL ? NULL : n-&gt;value;
}

void replace_node(rbtree t, node oldn, node newn) {
    if (oldn-&gt;parent == NULL) {
        t-&gt;root = newn;
    } else {
        if (oldn == oldn-&gt;parent-&gt;left)
            oldn-&gt;parent-&gt;left = newn;
        else
            oldn-&gt;parent-&gt;right = newn;
    }
    if (newn != NULL) {
        newn-&gt;parent = oldn-&gt;parent;
    }
}

void rotate_left(rbtree t, node n){
	node r = n-&gt;right;
	replace_node(t, n, r);
	n-&gt;right = r-&gt;left;
	if(r-&gt;left != NULL){
		r-&gt;left-&gt;parent = n;
	}
	r-&gt;left = n;
	n-&gt;parent = r;
}

void rotate_right(rbtree t, node n) {
    node L = n-&gt;left;
    replace_node(t, n, L);
    n-&gt;left = L-&gt;right;
    if (L-&gt;right != NULL) {
        L-&gt;right-&gt;parent = n;
    }
    L-&gt;right = n;
    n-&gt;parent = L;
}

void rbtree_insert(rbtree t, int value, compare_func compare) {
    node inserted_node = new_node(value, RED, NULL, NULL);
    if (t-&gt;root == NULL) {
        t-&gt;root = inserted_node;
    } else {
        node n = t-&gt;root;
        while (1) {
            int comp_result = compare(value, n-&gt;value);
            if (comp_result == 0) {
                free (inserted_node);
                return;
            } else if (comp_result left == NULL) {
                    n-&gt;left = inserted_node;
                    break;
                } else {
                    n = n-&gt;left;
                }
            } else {
                assert (comp_result &gt; 0);
                if (n-&gt;right == NULL) {
                    n-&gt;right = inserted_node;
                    break;
                } else {
                    n = n-&gt;right;
                }
            }
        }
        inserted_node-&gt;parent = n;
    }
    insert_case1(t, inserted_node);
    verify_properties(t);
}

void insert_case1(rbtree t, node n) {
    if (n-&gt;parent == NULL)
        n-&gt;color = BLACK;
    else
        insert_case2(t, n);
}

void insert_case2(rbtree t, node n) {
    if (node_color(n-&gt;parent) == BLACK)
        return; /* Tree is still valid */
    else
        insert_case3(t, n);
}

void insert_case3(rbtree t, node n) {
    if (node_color(uncle(n)) == RED) {
        n-&gt;parent-&gt;color = BLACK;
        uncle(n)-&gt;color = BLACK;
        grandparent(n)-&gt;color = RED;
        insert_case1(t, grandparent(n));
    } else {
        insert_case4(t, n);
    }
}

void insert_case4(rbtree t, node n) {
    if (n == n-&gt;parent-&gt;right &amp;&amp; n-&gt;parent == grandparent(n)-&gt;left) {
        rotate_left(t, n-&gt;parent);
        n = n-&gt;left;
    } else if (n == n-&gt;parent-&gt;left &amp;&amp; n-&gt;parent == grandparent(n)-&gt;right) {
        rotate_right(t, n-&gt;parent);
        n = n-&gt;right;
    }
    insert_case5(t, n);
}

void insert_case5(rbtree t, node n) {
    n-&gt;parent-&gt;color = BLACK;
    grandparent(n)-&gt;color = RED;
    if (n == n-&gt;parent-&gt;left &amp;&amp; n-&gt;parent == grandparent(n)-&gt;left) {
        rotate_right(t, grandparent(n));
    } else {
        assert (n == n-&gt;parent-&gt;right &amp;&amp; n-&gt;parent == grandparent(n)-&gt;right);
        rotate_left(t, grandparent(n));
    }
}

void rbtree_delete(rbtree t, int value, compare_func compare) {
    node child;
    node n = lookup_node(t, value, compare);
    if (n == NULL) return;  /* Key not found, do nothing */
    if (n-&gt;left != NULL &amp;&amp; n-&gt;right != NULL) {
        /* Copy value from predecessor and then delete it instead */
        node pred = maximum_node(n-&gt;left);
        n-&gt;value = pred-&gt;value;
        n = pred;
    }

    assert(n-&gt;left == NULL || n-&gt;right == NULL);
    child = n-&gt;right == NULL ? n-&gt;left  : n-&gt;right;
    if (node_color(n) == BLACK) {
        n-&gt;color = node_color(child);
        delete_case1(t, n);
    }
    replace_node(t, n, child);
    if (n-&gt;parent == NULL &amp;&amp; child != NULL)
        child-&gt;color = BLACK;
    free(n);

    verify_properties(t);
}

void delete_case1(rbtree t, node n) {
    if (n-&gt;parent == NULL)
        return;
    else
        delete_case2(t, n);
}


void delete_case2(rbtree t, node n) {
    if (node_color(sibling(n)) == RED) {
        n-&gt;parent-&gt;color = RED;
        sibling(n)-&gt;color = BLACK;
        if (n == n-&gt;parent-&gt;left)
            rotate_left(t, n-&gt;parent);
        else
            rotate_right(t, n-&gt;parent);
    }
    delete_case3(t, n);
}

void delete_case3(rbtree t, node n) {
    if (node_color(n-&gt;parent) == BLACK &amp;&amp;
        node_color(sibling(n)) == BLACK &amp;&amp;
        node_color(sibling(n)-&gt;left) == BLACK &amp;&amp;
        node_color(sibling(n)-&gt;right) == BLACK)
    {
        sibling(n)-&gt;color = RED;
        delete_case1(t, n-&gt;parent);
    }
    else
        delete_case4(t, n);
}

void delete_case4(rbtree t, node n) {
    if (node_color(n-&gt;parent) == RED &amp;&amp;
        node_color(sibling(n)) == BLACK &amp;&amp;
        node_color(sibling(n)-&gt;left) == BLACK &amp;&amp;
        node_color(sibling(n)-&gt;right) == BLACK)
    {
        sibling(n)-&gt;color = RED;
        n-&gt;parent-&gt;color = BLACK;
    }
    else
        delete_case5(t, n);
}

void delete_case5(rbtree t, node n) {
    if (n == n-&gt;parent-&gt;left &amp;&amp;
        node_color(sibling(n)) == BLACK &amp;&amp;
        node_color(sibling(n)-&gt;left) == RED &amp;&amp;
        node_color(sibling(n)-&gt;right) == BLACK)
    {
        sibling(n)-&gt;color = RED;
        sibling(n)-&gt;left-&gt;color = BLACK;
        rotate_right(t, sibling(n));
    }
    else if (n == n-&gt;parent-&gt;right &amp;&amp;
             node_color(sibling(n)) == BLACK &amp;&amp;
             node_color(sibling(n)-&gt;right) == RED &amp;&amp;
             node_color(sibling(n)-&gt;left) == BLACK)
    {
        sibling(n)-&gt;color = RED;
        sibling(n)-&gt;right-&gt;color = BLACK;
        rotate_left(t, sibling(n));
    }
    delete_case6(t, n);
}

void delete_case6(rbtree t, node n) {
    sibling(n)-&gt;color = node_color(n-&gt;parent);
    n-&gt;parent-&gt;color = BLACK;
    if (n == n-&gt;parent-&gt;left) {
        assert (node_color(sibling(n)-&gt;right) == RED);
        sibling(n)-&gt;right-&gt;color = BLACK;
        rotate_left(t, n-&gt;parent);
    }
    else
    {
        assert (node_color(sibling(n)-&gt;left) == RED);
        sibling(n)-&gt;left-&gt;color = BLACK;
        rotate_right(t, n-&gt;parent);
    }
}

static node maximum_node(node n) {
    assert (n != NULL);
    while (n-&gt;right != NULL) {
        n = n-&gt;right;
    }
    return n;
}

void print_tree_helper(rbtree_node n, int indent) {
    int i;
    if (n == NULL) {
        fputs("", stdout);
        return;
    }
    if (n-&gt;right != NULL) {
        print_tree_helper(n-&gt;right, indent + INDENT_STEP);
    }
    for(i=0; icolor == BLACK)
        printf("%d\n", n-&gt;value);
    else
        printf("\n", n-&gt;value);
    if (n-&gt;left != NULL) {
        print_tree_helper(n-&gt;left, indent + INDENT_STEP);
    }
}

void print_tree(rbtree t) {
    print_tree_helper(t-&gt;root, 0);
    puts("");
}

int compare_int(int left, int right) {
    if (left  right)
        return 1;
    else {
        assert (left == right);
        return 0;
    }
}

int main(){
	const int n = 8;
	const int w = 3;
	int A[]  = {1, 3, -1, -3, 5, 3, 6, 7};
	int i;
	rbtree r = rbtree_create();
	for(i=0; iroot)-&gt;value);
	for(i=w; iroot)-&gt;value);
	}
	return 0;
}</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="hide"><div
class="crayon-nums-content" style="font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-num" data-line="crayon-52a3f95d8590f-1">1</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-2">2</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-3">3</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-4">4</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-5">5</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-6">6</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-7">7</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-8">8</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-9">9</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-10">10</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-11">11</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-12">12</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-13">13</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-14">14</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-15">15</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-16">16</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-17">17</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-18">18</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-19">19</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-20">20</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-21">21</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-22">22</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-23">23</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-24">24</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-25">25</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-26">26</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-27">27</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-28">28</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-29">29</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-30">30</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-31">31</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-32">32</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-33">33</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-34">34</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-35">35</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-36">36</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-37">37</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-38">38</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-39">39</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-40">40</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-41">41</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-42">42</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-43">43</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-44">44</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-45">45</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-46">46</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-47">47</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-48">48</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-49">49</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-50">50</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-51">51</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-52">52</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-53">53</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-54">54</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-55">55</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-56">56</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-57">57</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-58">58</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-59">59</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-60">60</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-61">61</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-62">62</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-63">63</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-64">64</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-65">65</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-66">66</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-67">67</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-68">68</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-69">69</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-70">70</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-71">71</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-72">72</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-73">73</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-74">74</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-75">75</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-76">76</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-77">77</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-78">78</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-79">79</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-80">80</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-81">81</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-82">82</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-83">83</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-84">84</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-85">85</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-86">86</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-87">87</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-88">88</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-89">89</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-90">90</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-91">91</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-92">92</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-93">93</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-94">94</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-95">95</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-96">96</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-97">97</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-98">98</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-99">99</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-100">100</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-101">101</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-102">102</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-103">103</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-104">104</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-105">105</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-106">106</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-107">107</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-108">108</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-109">109</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-110">110</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-111">111</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-112">112</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-113">113</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-114">114</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-115">115</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-116">116</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-117">117</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-118">118</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-119">119</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-120">120</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-121">121</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-122">122</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-123">123</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-124">124</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-125">125</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-126">126</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-127">127</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-128">128</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-129">129</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-130">130</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-131">131</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-132">132</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-133">133</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-134">134</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-135">135</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-136">136</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-137">137</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-138">138</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-139">139</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-140">140</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-141">141</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-142">142</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-143">143</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-144">144</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-145">145</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-146">146</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-147">147</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-148">148</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-149">149</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-150">150</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-151">151</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-152">152</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-153">153</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-154">154</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-155">155</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-156">156</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-157">157</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-158">158</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-159">159</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-160">160</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-161">161</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-162">162</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-163">163</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-164">164</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-165">165</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-166">166</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-167">167</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-168">168</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-169">169</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-170">170</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-171">171</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-172">172</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-173">173</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-174">174</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-175">175</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-176">176</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-177">177</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-178">178</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-179">179</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-180">180</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-181">181</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-182">182</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-183">183</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-184">184</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-185">185</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-186">186</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-187">187</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-188">188</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-189">189</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-190">190</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-191">191</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-192">192</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-193">193</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-194">194</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-195">195</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-196">196</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-197">197</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-198">198</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-199">199</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-200">200</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-201">201</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-202">202</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-203">203</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-204">204</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-205">205</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-206">206</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-207">207</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-208">208</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-209">209</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-210">210</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-211">211</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-212">212</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-213">213</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-214">214</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-215">215</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-216">216</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-217">217</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-218">218</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-219">219</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-220">220</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-221">221</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-222">222</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-223">223</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-224">224</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-225">225</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-226">226</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-227">227</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-228">228</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-229">229</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-230">230</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-231">231</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-232">232</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-233">233</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-234">234</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-235">235</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-236">236</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-237">237</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-238">238</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-239">239</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-240">240</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-241">241</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-242">242</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-243">243</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-244">244</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-245">245</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-246">246</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-247">247</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-248">248</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-249">249</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-250">250</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-251">251</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-252">252</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-253">253</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-254">254</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-255">255</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-256">256</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-257">257</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-258">258</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-259">259</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-260">260</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-261">261</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-262">262</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-263">263</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-264">264</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-265">265</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-266">266</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-267">267</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-268">268</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-269">269</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-270">270</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-271">271</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-272">272</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-273">273</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-274">274</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-275">275</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-276">276</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-277">277</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-278">278</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-279">279</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-280">280</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-281">281</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-282">282</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-283">283</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-284">284</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-285">285</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-286">286</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-287">287</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-288">288</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-289">289</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-290">290</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-291">291</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-292">292</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-293">293</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-294">294</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-295">295</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-296">296</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-297">297</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-298">298</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-299">299</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-300">300</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-301">301</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-302">302</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-303">303</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-304">304</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-305">305</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-306">306</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-307">307</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-308">308</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-309">309</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-310">310</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-311">311</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-312">312</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-313">313</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-314">314</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-315">315</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-316">316</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-317">317</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-318">318</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-319">319</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-320">320</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-321">321</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-322">322</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-323">323</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-324">324</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-325">325</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-326">326</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-327">327</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-328">328</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-329">329</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-330">330</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-331">331</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-332">332</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-333">333</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-334">334</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-335">335</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-336">336</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-337">337</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-338">338</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-339">339</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-340">340</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-341">341</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-342">342</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-343">343</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-344">344</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-345">345</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-346">346</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-347">347</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-348">348</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-349">349</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-350">350</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-351">351</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-352">352</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-353">353</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-354">354</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-355">355</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-356">356</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-357">357</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-358">358</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-359">359</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-360">360</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-361">361</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-362">362</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-363">363</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-364">364</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-365">365</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-366">366</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-367">367</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-368">368</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-369">369</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-370">370</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-371">371</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-372">372</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-373">373</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-374">374</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-375">375</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-376">376</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-377">377</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-378">378</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-379">379</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-380">380</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-381">381</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-382">382</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-383">383</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-384">384</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-385">385</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-386">386</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-387">387</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-388">388</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-389">389</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-390">390</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-391">391</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-392">392</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-393">393</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-394">394</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-395">395</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-396">396</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-397">397</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-398">398</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-399">399</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-400">400</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-401">401</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-402">402</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-403">403</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-404">404</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-405">405</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-406">406</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-407">407</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-408">408</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-409">409</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-410">410</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-411">411</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-412">412</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-413">413</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-414">414</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-415">415</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-416">416</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-417">417</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-418">418</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-419">419</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-420">420</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-421">421</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-422">422</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-423">423</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-424">424</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-425">425</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-426">426</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-427">427</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-428">428</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-429">429</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-430">430</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-431">431</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-432">432</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-433">433</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-434">434</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-435">435</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-436">436</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-437">437</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-438">438</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-439">439</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-440">440</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-441">441</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-442">442</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-443">443</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-444">444</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-445">445</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-446">446</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-447">447</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f95d8590f-448">448</div><div
class="crayon-num" data-line="crayon-52a3f95d8590f-449">449</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-line" id="crayon-52a3f95d8590f-1"><span
class="p">#include </span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-2"><span
class="p">#include </span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-3"><span
class="p">#include </span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-4">&nbsp;</div><div
class="crayon-line" id="crayon-52a3f95d8590f-5"><span
class="p">#define INDENT_STEP&nbsp;&nbsp;4</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-6"><span
class="t">enum</span><span
class="h"> </span><span
class="e">rbtree_node_color</span><span
class="h"> </span><span
class="sy">{</span><span
class="i">RED</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">BLACK</span><span
class="sy">}</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-7">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-8"><span
class="r">typedef</span><span
class="h"> </span><span
class="t">struct</span><span
class="h"> </span><span
class="e">rbtree_node_t</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-9"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="t">int</span><span
class="h"> </span><span
class="i">value</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-10"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="t">struct</span><span
class="h"> </span><span
class="e ">rbtree_node_t*</span><span
class="h"> </span><span
class="i">left</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-11"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="t">struct</span><span
class="h"> </span><span
class="e ">rbtree_node_t*</span><span
class="h"> </span><span
class="i">right</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-12"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="t">struct</span><span
class="h"> </span><span
class="e ">rbtree_node_t*</span><span
class="h"> </span><span
class="r">parent</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-13"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="t">enum</span><span
class="h"> </span><span
class="e">rbtree_node_color </span><span
class="i">color</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-14"><span
class="sy">}</span><span
class="h"> </span><span
class="o">*</span><span
class="i">rbtree_node</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-15"><span
class="r">typedef</span><span
class="h"> </span><span
class="e">rbtree_node </span><span
class="i">node</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-16"><span
class="r">typedef</span><span
class="h"> </span><span
class="t">enum</span><span
class="h"> </span><span
class="e">rbtree_node_color </span><span
class="i">color</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-17"><span
class="r">typedef</span><span
class="h"> </span><span
class="t">struct</span><span
class="h"> </span><span
class="e">rbtree_t</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-18"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">rbtree_node </span><span
class="i">root</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-19"><span
class="sy">}</span><span
class="h"> </span><span
class="o">*</span><span
class="i">rbtree</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-20"><span
class="r">typedef</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="sy">(</span><span
class="o">*</span><span
class="i">compare_func</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">(</span><span
class="t">int</span><span
class="h"> </span><span
class="i">left</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="i">right</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-21">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-22"><span
class="m">static</span><span
class="h"> </span><span
class="e">node </span><span
class="e">grandparent</span><span
class="sy">(</span><span
class="i">node</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-23"><span
class="m">static</span><span
class="h"> </span><span
class="e">node </span><span
class="e">sibling</span><span
class="sy">(</span><span
class="i">node</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-24"><span
class="m">static</span><span
class="h"> </span><span
class="e">node </span><span
class="e">uncle</span><span
class="sy">(</span><span
class="i">node</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-25"><span
class="m">static</span><span
class="h"> </span><span
class="t">void</span><span
class="h"> </span><span
class="e">verify_properties</span><span
class="sy">(</span><span
class="i">rbtree</span><span
class="h"> </span><span
class="i">t</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-26"><span
class="m">static</span><span
class="h"> </span><span
class="t">void</span><span
class="h"> </span><span
class="e">verify_property_1</span><span
class="sy">(</span><span
class="e">node </span><span
class="i">root</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-27"><span
class="m">static</span><span
class="h"> </span><span
class="t">void</span><span
class="h"> </span><span
class="e">verify_property_2</span><span
class="sy">(</span><span
class="e">node </span><span
class="i">root</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-28"><span
class="m">static</span><span
class="h"> </span><span
class="e">color </span><span
class="e">node_color</span><span
class="sy">(</span><span
class="i">node</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-29"><span
class="m">static</span><span
class="h"> </span><span
class="t">void</span><span
class="h"> </span><span
class="e">verify_property_4</span><span
class="sy">(</span><span
class="e">node </span><span
class="i">root</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-30"><span
class="m">static</span><span
class="h"> </span><span
class="t">void</span><span
class="h"> </span><span
class="e">verify_property_5</span><span
class="sy">(</span><span
class="e">node </span><span
class="i">root</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-31"><span
class="m">static</span><span
class="h"> </span><span
class="t">void</span><span
class="h"> </span><span
class="e">verify_property_5_helper</span><span
class="sy">(</span><span
class="i">node</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="i">black_count</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="o">*</span><span
class="h"> </span><span
class="i">black_count_path</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-32"><span
class="e">rbtree </span><span
class="e">rbtree_create</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-33"><span
class="m">static</span><span
class="h"> </span><span
class="e">node </span><span
class="e">new_node</span><span
class="sy">(</span><span
class="t">int</span><span
class="h"> </span><span
class="i">value</span><span
class="sy">,</span><span
class="h"> </span><span
class="e">color </span><span
class="i">node_color</span><span
class="sy">,</span><span
class="h"> </span><span
class="e">node </span><span
class="i">left</span><span
class="sy">,</span><span
class="h"> </span><span
class="e">node </span><span
class="i">right</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-34"><span
class="m">static</span><span
class="h"> </span><span
class="e">node </span><span
class="e">lookup_node</span><span
class="sy">(</span><span
class="i">rbtree</span><span
class="h"> </span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="i">value</span><span
class="sy">,</span><span
class="h"> </span><span
class="e">compare_func </span><span
class="i">compare</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-35"><span
class="t">void</span><span
class="o">*</span><span
class="h"> </span><span
class="e">rbtree_lookup</span><span
class="sy">(</span><span
class="i">rbtree</span><span
class="h"> </span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="i">value</span><span
class="sy">,</span><span
class="h"> </span><span
class="e">compare_func </span><span
class="i">compare</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-36"><span
class="m">static</span><span
class="h"> </span><span
class="t">void</span><span
class="h"> </span><span
class="e">rotate_left</span><span
class="sy">(</span><span
class="i">rbtree</span><span
class="h"> </span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">node</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-37"><span
class="m">static</span><span
class="h"> </span><span
class="t">void</span><span
class="h"> </span><span
class="e">rotate_right</span><span
class="sy">(</span><span
class="i">rbtree</span><span
class="h"> </span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">node</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-38"><span
class="m">static</span><span
class="h"> </span><span
class="t">void</span><span
class="h"> </span><span
class="e">replace_node</span><span
class="sy">(</span><span
class="i">rbtree</span><span
class="h"> </span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="e">node </span><span
class="i">oldn</span><span
class="sy">,</span><span
class="h"> </span><span
class="e">node </span><span
class="i">newn</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-39"><span
class="t">void</span><span
class="h"> </span><span
class="e">rbtree_insert</span><span
class="sy">(</span><span
class="i">rbtree</span><span
class="h"> </span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="i">value</span><span
class="sy">,</span><span
class="h"> </span><span
class="e">compare_func </span><span
class="i">compare</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-40"><span
class="m">static</span><span
class="h"> </span><span
class="t">void</span><span
class="h"> </span><span
class="e">insert_case1</span><span
class="sy">(</span><span
class="i">rbtree</span><span
class="h"> </span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">node</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-41"><span
class="m">static</span><span
class="h"> </span><span
class="t">void</span><span
class="h"> </span><span
class="e">insert_case2</span><span
class="sy">(</span><span
class="i">rbtree</span><span
class="h"> </span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">node</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-42"><span
class="m">static</span><span
class="h"> </span><span
class="t">void</span><span
class="h"> </span><span
class="e">insert_case3</span><span
class="sy">(</span><span
class="i">rbtree</span><span
class="h"> </span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">node</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-43"><span
class="m">static</span><span
class="h"> </span><span
class="t">void</span><span
class="h"> </span><span
class="e">insert_case4</span><span
class="sy">(</span><span
class="i">rbtree</span><span
class="h"> </span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">node</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-44"><span
class="m">static</span><span
class="h"> </span><span
class="t">void</span><span
class="h"> </span><span
class="e">insert_case5</span><span
class="sy">(</span><span
class="i">rbtree</span><span
class="h"> </span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">node</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-45"><span
class="t">void</span><span
class="h"> </span><span
class="e">rbtree_delete</span><span
class="sy">(</span><span
class="i">rbtree</span><span
class="h"> </span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="i">value</span><span
class="sy">,</span><span
class="h"> </span><span
class="e">compare_func </span><span
class="i">compare</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-46"><span
class="m">static</span><span
class="h"> </span><span
class="e">node </span><span
class="e">maximum_node</span><span
class="sy">(</span><span
class="e">node </span><span
class="i">root</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-47"><span
class="m">static</span><span
class="h"> </span><span
class="t">void</span><span
class="h"> </span><span
class="e">delete_case1</span><span
class="sy">(</span><span
class="i">rbtree</span><span
class="h"> </span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">node</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-48"><span
class="m">static</span><span
class="h"> </span><span
class="t">void</span><span
class="h"> </span><span
class="e">delete_case2</span><span
class="sy">(</span><span
class="i">rbtree</span><span
class="h"> </span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">node</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-49"><span
class="m">static</span><span
class="h"> </span><span
class="t">void</span><span
class="h"> </span><span
class="e">delete_case3</span><span
class="sy">(</span><span
class="i">rbtree</span><span
class="h"> </span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">node</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-50"><span
class="m">static</span><span
class="h"> </span><span
class="t">void</span><span
class="h"> </span><span
class="e">delete_case4</span><span
class="sy">(</span><span
class="i">rbtree</span><span
class="h"> </span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">node</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-51"><span
class="m">static</span><span
class="h"> </span><span
class="t">void</span><span
class="h"> </span><span
class="e">delete_case5</span><span
class="sy">(</span><span
class="i">rbtree</span><span
class="h"> </span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">node</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-52"><span
class="m">static</span><span
class="h"> </span><span
class="t">void</span><span
class="h"> </span><span
class="e">delete_case6</span><span
class="sy">(</span><span
class="i">rbtree</span><span
class="h"> </span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">node</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-53"><span
class="m">static</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="e">compare_int</span><span
class="sy">(</span><span
class="t">int</span><span
class="h"> </span><span
class="i">left</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="i">right</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-54"><span
class="m">static</span><span
class="h"> </span><span
class="t">void</span><span
class="h"> </span><span
class="e">print_tree</span><span
class="sy">(</span><span
class="i">rbtree</span><span
class="h"> </span><span
class="i">t</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-55"><span
class="m">static</span><span
class="h"> </span><span
class="t">void</span><span
class="h"> </span><span
class="e">print_tree_helper</span><span
class="sy">(</span><span
class="i">rbtree_node</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="i">indent</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-56">&nbsp;</div><div
class="crayon-line" id="crayon-52a3f95d8590f-57"><span
class="e">color </span><span
class="e">node_color</span><span
class="sy">(</span><span
class="i">node</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">)</span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-58"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">return</span><span
class="h"> </span><span
class="v">n</span><span
class="o">==</span><span
class="t">NULL</span><span
class="h"> </span><span
class="sy">?</span><span
class="h"> </span><span
class="i">BLACK</span><span
class="h"> </span><span
class="o">:</span><span
class="h"> </span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="i">color</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-59"><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-60">&nbsp;</div><div
class="crayon-line" id="crayon-52a3f95d8590f-61"><span
class="e">node </span><span
class="e">grandparent</span><span
class="sy">(</span><span
class="i">node</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-62"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">assert</span><span
class="h"> </span><span
class="sy">(</span><span
class="i">n</span><span
class="h"> </span><span
class="o">!=</span><span
class="h"> </span><span
class="t">NULL</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-63"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">assert</span><span
class="h"> </span><span
class="sy">(</span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="h"> </span><span
class="o">!=</span><span
class="h"> </span><span
class="t">NULL</span><span
class="sy">)</span><span
class="sy">;</span><span
class="h"> </span><span
class="c">/* Not the root node */</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-64"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">assert</span><span
class="h"> </span><span
class="sy">(</span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="h"> </span><span
class="o">!=</span><span
class="h"> </span><span
class="t">NULL</span><span
class="sy">)</span><span
class="sy">;</span><span
class="h"> </span><span
class="c">/* Not child of root */</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-65"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">return</span><span
class="h"> </span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-66"><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-67">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-68"><span
class="e">node </span><span
class="e">sibling</span><span
class="sy">(</span><span
class="i">node</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-69"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">assert</span><span
class="h"> </span><span
class="sy">(</span><span
class="i">n</span><span
class="h"> </span><span
class="o">!=</span><span
class="h"> </span><span
class="t">NULL</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-70"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">assert</span><span
class="h"> </span><span
class="sy">(</span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="h"> </span><span
class="o">!=</span><span
class="h"> </span><span
class="t">NULL</span><span
class="sy">)</span><span
class="sy">;</span><span
class="h"> </span><span
class="c">/* Root node has no sibling */</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-71"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="v">n</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="o">-&gt;</span><span
class="i">left</span><span
class="sy">)</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-72"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">return</span><span
class="h"> </span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="o">-&gt;</span><span
class="i">right</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-73"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">else</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-74"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">return</span><span
class="h"> </span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="o">-&gt;</span><span
class="i">left</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-75"><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-76">&nbsp;</div><div
class="crayon-line" id="crayon-52a3f95d8590f-77"><span
class="e">node </span><span
class="e">uncle</span><span
class="sy">(</span><span
class="i">node</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-78"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">assert</span><span
class="h"> </span><span
class="sy">(</span><span
class="i">n</span><span
class="h"> </span><span
class="o">!=</span><span
class="h"> </span><span
class="t">NULL</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-79"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">assert</span><span
class="h"> </span><span
class="sy">(</span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="h"> </span><span
class="o">!=</span><span
class="h"> </span><span
class="t">NULL</span><span
class="sy">)</span><span
class="sy">;</span><span
class="h"> </span><span
class="c">/* Root node has no uncle */</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-80"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">assert</span><span
class="h"> </span><span
class="sy">(</span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="h"> </span><span
class="o">!=</span><span
class="h"> </span><span
class="t">NULL</span><span
class="sy">)</span><span
class="sy">;</span><span
class="h"> </span><span
class="c">/* Children of root have no uncle */</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-81"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">return</span><span
class="h"> </span><span
class="e">sibling</span><span
class="sy">(</span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-82"><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-83">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-84"><span
class="t">void</span><span
class="h"> </span><span
class="e">verify_property_1</span><span
class="sy">(</span><span
class="i">node</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">)</span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-85"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">assert</span><span
class="sy">(</span><span
class="e">node_color</span><span
class="sy">(</span><span
class="i">n</span><span
class="sy">)</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="i">RED</span><span
class="h"> </span><span
class="o">||</span><span
class="h"> </span><span
class="e">node_color</span><span
class="sy">(</span><span
class="i">n</span><span
class="sy">)</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="i">BLACK</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-86"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="v">n</span><span
class="o">==</span><span
class="t">NULL</span><span
class="sy">)</span><span
class="h"> </span><span
class="st">return</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-87"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">verify_property_1</span><span
class="sy">(</span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="i">left</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-88"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">verify_property_1</span><span
class="sy">(</span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="i">right</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-89"><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-90">&nbsp;</div><div
class="crayon-line" id="crayon-52a3f95d8590f-91"><span
class="t">void</span><span
class="h"> </span><span
class="e">verify_property_2</span><span
class="sy">(</span><span
class="e">node </span><span
class="i">root</span><span
class="sy">)</span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-92"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">assert</span><span
class="sy">(</span><span
class="e">node_color</span><span
class="sy">(</span><span
class="i">root</span><span
class="sy">)</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="i">BLACK</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-93"><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-94">&nbsp;</div><div
class="crayon-line" id="crayon-52a3f95d8590f-95"><span
class="t">void</span><span
class="h"> </span><span
class="e">verify_property_4</span><span
class="sy">(</span><span
class="i">node</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">)</span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-96"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="sy">(</span><span
class="e">node_color</span><span
class="sy">(</span><span
class="i">n</span><span
class="sy">)</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="i">RED</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-97"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">assert</span><span
class="sy">(</span><span
class="e">node_color</span><span
class="sy">(</span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="i">left</span><span
class="sy">)</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="i">BLACK</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-98"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">assert</span><span
class="sy">(</span><span
class="e">node_color</span><span
class="sy">(</span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="i">right</span><span
class="sy">)</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="i">BLACK</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-99"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">assert</span><span
class="sy">(</span><span
class="e">node_color</span><span
class="sy">(</span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="sy">)</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="i">BLACK</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-100"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-101"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="sy">(</span><span
class="v">n</span><span
class="o">==</span><span
class="t">NULL</span><span
class="sy">)</span><span
class="h"> </span><span
class="st">return</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-102"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">verify_property_4</span><span
class="sy">(</span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="i">left</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-103"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">verify_property_4</span><span
class="sy">(</span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="i">right</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-104"><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-105">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-106"><span
class="t">void</span><span
class="h"> </span><span
class="e">verify_property_5_helper</span><span
class="sy">(</span><span
class="i">node</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="i">black_count</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="o">*</span><span
class="h"> </span><span
class="i">path_black_count</span><span
class="sy">)</span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-107"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="sy">(</span><span
class="e">node_color</span><span
class="sy">(</span><span
class="i">n</span><span
class="sy">)</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="i">BLACK</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-108"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">black_count</span><span
class="o">++</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-109"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-110"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="sy">(</span><span
class="v">n</span><span
class="o">==</span><span
class="t">NULL</span><span
class="sy">)</span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-111"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="o">*</span><span
class="v">path_black_count</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="o">-</span><span
class="cn">1</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-112"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="o">*</span><span
class="v">path_black_count</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">black_count</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-113"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span><span
class="st">else</span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-114"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">assert</span><span
class="h"> </span><span
class="sy">(</span><span
class="v">black_count</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="o">*</span><span
class="i">path_black_count</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-115"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-116"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">return</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-117"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-118"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">verify_property_5_helper</span><span
class="sy">(</span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="i">left</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">black_count</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">path_black_count</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-119"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">verify_property_5_helper</span><span
class="sy">(</span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="i">right</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">black_count</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">path_black_count</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-120"><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-121">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-122"><span
class="t">void</span><span
class="h"> </span><span
class="e">verify_property_5</span><span
class="sy">(</span><span
class="e">node </span><span
class="i">root</span><span
class="sy">)</span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-123"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="t">int</span><span
class="h"> </span><span
class="v">black_count_path</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="o">-</span><span
class="cn">1</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-124"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">verify_property_5_helper</span><span
class="sy">(</span><span
class="i">root</span><span
class="sy">,</span><span
class="h"> </span><span
class="cn">0</span><span
class="sy">,</span><span
class="h"> </span><span
class="o">&amp;</span><span
class="i">black_count_path</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-125"><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-126">&nbsp;</div><div
class="crayon-line" id="crayon-52a3f95d8590f-127"><span
class="t">void</span><span
class="h"> </span><span
class="e">verify_properties</span><span
class="sy">(</span><span
class="i">rbtree</span><span
class="h"> </span><span
class="i">t</span><span
class="sy">)</span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-128"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">verify_property_1</span><span
class="sy">(</span><span
class="i">t</span><span
class="o">-&gt;</span><span
class="i">root</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-129"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">verify_property_2</span><span
class="sy">(</span><span
class="i">t</span><span
class="o">-&gt;</span><span
class="i">root</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-130"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="c">//property 3 is implicit</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-131"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">verify_property_4</span><span
class="sy">(</span><span
class="i">t</span><span
class="o">-&gt;</span><span
class="i">root</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-132"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">verify_property_5</span><span
class="sy">(</span><span
class="i">t</span><span
class="o">-&gt;</span><span
class="i">root</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-133"><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-134">&nbsp;</div><div
class="crayon-line" id="crayon-52a3f95d8590f-135"><span
class="e">rbtree </span><span
class="e">rbtree_create</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-136"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">rbtree</span><span
class="h"> </span><span
class="v">t</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="e">malloc</span><span
class="sy">(</span><span
class="e">sizeof</span><span
class="sy">(</span><span
class="t">struct</span><span
class="h"> </span><span
class="i">rbtree_t</span><span
class="sy">)</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-137"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">t</span><span
class="o">-&gt;</span><span
class="v">root</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="t">NULL</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-138"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">verify_properties</span><span
class="sy">(</span><span
class="i">t</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-139"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">return</span><span
class="h"> </span><span
class="i">t</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-140"><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-141">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-142"><span
class="e">node </span><span
class="e">new_node</span><span
class="sy">(</span><span
class="t">int</span><span
class="h"> </span><span
class="i">value</span><span
class="sy">,</span><span
class="h"> </span><span
class="e">color </span><span
class="i">node_color</span><span
class="sy">,</span><span
class="h"> </span><span
class="e">node </span><span
class="i">left</span><span
class="sy">,</span><span
class="h"> </span><span
class="e">node </span><span
class="i">right</span><span
class="sy">)</span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-143"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">node </span><span
class="v">result</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="e">malloc</span><span
class="sy">(</span><span
class="e">sizeof</span><span
class="sy">(</span><span
class="t">struct</span><span
class="h"> </span><span
class="i">rbtree_node_t</span><span
class="sy">)</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-144"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">result</span><span
class="o">-&gt;</span><span
class="v">value</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">value</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-145"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">result</span><span
class="o">-&gt;</span><span
class="v">color</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">node_color</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-146"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">result</span><span
class="o">-&gt;</span><span
class="v">left</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">left</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-147"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">result</span><span
class="o">-&gt;</span><span
class="v">right</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">right</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-148"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="sy">(</span><span
class="i">left</span><span
class="h"> </span><span
class="o">!=</span><span
class="h"> </span><span
class="t">NULL</span><span
class="sy">)</span><span
class="h"> </span><span
class="i">left</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">result</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-149"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="sy">(</span><span
class="i">right</span><span
class="h"> </span><span
class="o">!=</span><span
class="h"> </span><span
class="t">NULL</span><span
class="sy">)</span><span
class="h"> </span><span
class="i">right</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">result</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-150"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">result</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="t">NULL</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-151"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">return</span><span
class="h"> </span><span
class="i">result</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-152"><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-153">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-154"><span
class="e">node </span><span
class="e">lookup_node</span><span
class="sy">(</span><span
class="i">rbtree</span><span
class="h"> </span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="i">value</span><span
class="sy">,</span><span
class="h"> </span><span
class="e">compare_func </span><span
class="i">compare</span><span
class="sy">)</span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-155"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">node</span><span
class="h"> </span><span
class="v">n</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">t</span><span
class="o">-&gt;</span><span
class="i">root</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-156"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">while</span><span
class="h"> </span><span
class="sy">(</span><span
class="i">n</span><span
class="o">!=</span><span
class="h"> </span><span
class="t">NULL</span><span
class="sy">)</span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-157"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="t">int</span><span
class="h"> </span><span
class="v">comp_result</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="e">compare</span><span
class="sy">(</span><span
class="i">value</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="i">value</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-158"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="sy">(</span><span
class="v">comp_result</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="cn">0</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-159"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">return</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-160"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span><span
class="st">else</span><span
class="h"> </span><span
class="st">if</span><span
class="sy">(</span><span
class="i">comp_resultleft</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-161"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span><span
class="st">else</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-162"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">assert</span><span
class="sy">(</span><span
class="i">comp_result</span><span
class="o">&gt;</span><span
class="cn">0</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-163"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">n</span><span
class="o">=</span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="i">right</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-164"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-165"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">return</span><span
class="h"> </span><span
class="cn">0</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-166"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-167"><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-168">&nbsp;</div><div
class="crayon-line" id="crayon-52a3f95d8590f-169"><span
class="t">void</span><span
class="o">*</span><span
class="h"> </span><span
class="e">rbtree_lookup</span><span
class="sy">(</span><span
class="i">rbtree</span><span
class="h"> </span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="i">value</span><span
class="sy">,</span><span
class="h"> </span><span
class="e">compare_func </span><span
class="i">compare</span><span
class="sy">)</span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-170"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">node</span><span
class="h"> </span><span
class="v">n</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="e">lookup_node</span><span
class="sy">(</span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">value</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">compare</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-171"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">return</span><span
class="h"> </span><span
class="v">n</span><span
class="o">==</span><span
class="t">NULL</span><span
class="h"> </span><span
class="sy">?</span><span
class="h"> </span><span
class="t">NULL</span><span
class="h"> </span><span
class="o">:</span><span
class="h"> </span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="i">value</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-172"><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-173">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-174"><span
class="t">void</span><span
class="h"> </span><span
class="e">replace_node</span><span
class="sy">(</span><span
class="i">rbtree</span><span
class="h"> </span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="e">node </span><span
class="i">oldn</span><span
class="sy">,</span><span
class="h"> </span><span
class="e">node </span><span
class="i">newn</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-175"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="i">oldn</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="t">NULL</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-176"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">t</span><span
class="o">-&gt;</span><span
class="v">root</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">newn</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-177"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span><span
class="h"> </span><span
class="st">else</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-178"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="v">oldn</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="i">oldn</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="o">-&gt;</span><span
class="i">left</span><span
class="sy">)</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-179"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">oldn</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="o">-&gt;</span><span
class="v">left</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">newn</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-180"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">else</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-181"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">oldn</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="o">-&gt;</span><span
class="v">right</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">newn</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-182"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-183"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="i">newn</span><span
class="h"> </span><span
class="o">!=</span><span
class="h"> </span><span
class="t">NULL</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-184"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">newn</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">oldn</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-185"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-186"><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-187">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-188"><span
class="t">void</span><span
class="h"> </span><span
class="e">rotate_left</span><span
class="sy">(</span><span
class="i">rbtree</span><span
class="h"> </span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">node</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">)</span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-189"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">node</span><span
class="h"> </span><span
class="v">r</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="i">right</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-190"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">replace_node</span><span
class="sy">(</span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">r</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-191"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="v">right</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">r</span><span
class="o">-&gt;</span><span
class="i">left</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-192"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="sy">(</span><span
class="i">r</span><span
class="o">-&gt;</span><span
class="i">left</span><span
class="h"> </span><span
class="o">!=</span><span
class="h"> </span><span
class="t">NULL</span><span
class="sy">)</span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-193"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">r</span><span
class="o">-&gt;</span><span
class="i">left</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-194"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-195"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">r</span><span
class="o">-&gt;</span><span
class="v">left</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-196"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">r</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-197"><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-198">&nbsp;</div><div
class="crayon-line" id="crayon-52a3f95d8590f-199"><span
class="t">void</span><span
class="h"> </span><span
class="e">rotate_right</span><span
class="sy">(</span><span
class="i">rbtree</span><span
class="h"> </span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">node</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-200"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">node</span><span
class="h"> </span><span
class="v">L</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="i">left</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-201"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">replace_node</span><span
class="sy">(</span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">L</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-202"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="v">left</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">L</span><span
class="o">-&gt;</span><span
class="i">right</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-203"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="i">L</span><span
class="o">-&gt;</span><span
class="i">right</span><span
class="h"> </span><span
class="o">!=</span><span
class="h"> </span><span
class="t">NULL</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-204"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">L</span><span
class="o">-&gt;</span><span
class="i">right</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-205"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-206"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">L</span><span
class="o">-&gt;</span><span
class="v">right</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-207"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">L</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-208"><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-209">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-210"><span
class="t">void</span><span
class="h"> </span><span
class="e">rbtree_insert</span><span
class="sy">(</span><span
class="i">rbtree</span><span
class="h"> </span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="i">value</span><span
class="sy">,</span><span
class="h"> </span><span
class="e">compare_func </span><span
class="i">compare</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-211"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">node </span><span
class="v">inserted_node</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="e">new_node</span><span
class="sy">(</span><span
class="i">value</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">RED</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">NULL</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">NULL</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-212"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="i">t</span><span
class="o">-&gt;</span><span
class="v">root</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="t">NULL</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-213"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">t</span><span
class="o">-&gt;</span><span
class="v">root</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">inserted_node</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-214"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span><span
class="h"> </span><span
class="st">else</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-215"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">node</span><span
class="h"> </span><span
class="v">n</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">t</span><span
class="o">-&gt;</span><span
class="i">root</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-216"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">while</span><span
class="h"> </span><span
class="sy">(</span><span
class="cn">1</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-217"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="t">int</span><span
class="h"> </span><span
class="v">comp_result</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="e">compare</span><span
class="sy">(</span><span
class="i">value</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="i">value</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-218"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="v">comp_result</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="cn">0</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-219"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">free</span><span
class="h"> </span><span
class="sy">(</span><span
class="i">inserted_node</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-220"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">return</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-221"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span><span
class="h"> </span><span
class="st">else</span><span
class="h"> </span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="e">comp_result </span><span
class="v">left</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="t">NULL</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-222"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="v">left</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">inserted_node</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-223"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">break</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-224"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span><span
class="h"> </span><span
class="st">else</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-225"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">n</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="i">left</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-226"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-227"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span><span
class="h"> </span><span
class="st">else</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-228"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">assert</span><span
class="h"> </span><span
class="sy">(</span><span
class="i">comp_result</span><span
class="h"> </span><span
class="o">&gt;</span><span
class="h"> </span><span
class="cn">0</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-229"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="v">right</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="t">NULL</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-230"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="v">right</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">inserted_node</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-231"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">break</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-232"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span><span
class="h"> </span><span
class="st">else</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-233"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">n</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="i">right</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-234"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-235"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-236"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-237"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">inserted_node</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-238"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-239"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">insert_case1</span><span
class="sy">(</span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">inserted_node</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-240"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">verify_properties</span><span
class="sy">(</span><span
class="i">t</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-241"><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-242">&nbsp;</div><div
class="crayon-line" id="crayon-52a3f95d8590f-243"><span
class="t">void</span><span
class="h"> </span><span
class="e">insert_case1</span><span
class="sy">(</span><span
class="i">rbtree</span><span
class="h"> </span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">node</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-244"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="t">NULL</span><span
class="sy">)</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-245"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="v">color</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">BLACK</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-246"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">else</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-247"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">insert_case2</span><span
class="sy">(</span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-248"><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-249">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-250"><span
class="t">void</span><span
class="h"> </span><span
class="e">insert_case2</span><span
class="sy">(</span><span
class="i">rbtree</span><span
class="h"> </span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">node</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-251"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="e">node_color</span><span
class="sy">(</span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="sy">)</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="i">BLACK</span><span
class="sy">)</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-252"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">return</span><span
class="sy">;</span><span
class="h"> </span><span
class="c">/* Tree is still valid */</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-253"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">else</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-254"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">insert_case3</span><span
class="sy">(</span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-255"><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-256">&nbsp;</div><div
class="crayon-line" id="crayon-52a3f95d8590f-257"><span
class="t">void</span><span
class="h"> </span><span
class="e">insert_case3</span><span
class="sy">(</span><span
class="i">rbtree</span><span
class="h"> </span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">node</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-258"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="e">node_color</span><span
class="sy">(</span><span
class="e">uncle</span><span
class="sy">(</span><span
class="i">n</span><span
class="sy">)</span><span
class="sy">)</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="i">RED</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-259"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="o">-&gt;</span><span
class="v">color</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">BLACK</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-260"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">uncle</span><span
class="sy">(</span><span
class="i">n</span><span
class="sy">)</span><span
class="o">-&gt;</span><span
class="v">color</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">BLACK</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-261"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">grandparent</span><span
class="sy">(</span><span
class="i">n</span><span
class="sy">)</span><span
class="o">-&gt;</span><span
class="v">color</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">RED</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-262"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">insert_case1</span><span
class="sy">(</span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="e">grandparent</span><span
class="sy">(</span><span
class="i">n</span><span
class="sy">)</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-263"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span><span
class="h"> </span><span
class="st">else</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-264"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">insert_case4</span><span
class="sy">(</span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-265"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-266"><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-267">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-268"><span
class="t">void</span><span
class="h"> </span><span
class="e">insert_case4</span><span
class="sy">(</span><span
class="i">rbtree</span><span
class="h"> </span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">node</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-269"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="v">n</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="o">-&gt;</span><span
class="i">right</span><span
class="h"> </span><span
class="o">&amp;&amp;</span><span
class="h"> </span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="e">grandparent</span><span
class="sy">(</span><span
class="i">n</span><span
class="sy">)</span><span
class="o">-&gt;</span><span
class="i">left</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-270"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">rotate_left</span><span
class="sy">(</span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-271"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">n</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="i">left</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-272"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span><span
class="h"> </span><span
class="st">else</span><span
class="h"> </span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="v">n</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="o">-&gt;</span><span
class="i">left</span><span
class="h"> </span><span
class="o">&amp;&amp;</span><span
class="h"> </span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="e">grandparent</span><span
class="sy">(</span><span
class="i">n</span><span
class="sy">)</span><span
class="o">-&gt;</span><span
class="i">right</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-273"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">rotate_right</span><span
class="sy">(</span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-274"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">n</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="i">right</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-275"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-276"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">insert_case5</span><span
class="sy">(</span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-277"><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-278">&nbsp;</div><div
class="crayon-line" id="crayon-52a3f95d8590f-279"><span
class="t">void</span><span
class="h"> </span><span
class="e">insert_case5</span><span
class="sy">(</span><span
class="i">rbtree</span><span
class="h"> </span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">node</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-280"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="o">-&gt;</span><span
class="v">color</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">BLACK</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-281"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">grandparent</span><span
class="sy">(</span><span
class="i">n</span><span
class="sy">)</span><span
class="o">-&gt;</span><span
class="v">color</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">RED</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-282"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="v">n</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="o">-&gt;</span><span
class="i">left</span><span
class="h"> </span><span
class="o">&amp;&amp;</span><span
class="h"> </span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="e">grandparent</span><span
class="sy">(</span><span
class="i">n</span><span
class="sy">)</span><span
class="o">-&gt;</span><span
class="i">left</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-283"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">rotate_right</span><span
class="sy">(</span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="e">grandparent</span><span
class="sy">(</span><span
class="i">n</span><span
class="sy">)</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-284"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span><span
class="h"> </span><span
class="st">else</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-285"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">assert</span><span
class="h"> </span><span
class="sy">(</span><span
class="v">n</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="o">-&gt;</span><span
class="i">right</span><span
class="h"> </span><span
class="o">&amp;&amp;</span><span
class="h"> </span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="e">grandparent</span><span
class="sy">(</span><span
class="i">n</span><span
class="sy">)</span><span
class="o">-&gt;</span><span
class="i">right</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-286"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">rotate_left</span><span
class="sy">(</span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="e">grandparent</span><span
class="sy">(</span><span
class="i">n</span><span
class="sy">)</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-287"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-288"><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-289">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-290"><span
class="t">void</span><span
class="h"> </span><span
class="e">rbtree_delete</span><span
class="sy">(</span><span
class="i">rbtree</span><span
class="h"> </span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="i">value</span><span
class="sy">,</span><span
class="h"> </span><span
class="e">compare_func </span><span
class="i">compare</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-291"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">node </span><span
class="r">child</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-292"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">node</span><span
class="h"> </span><span
class="v">n</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="e">lookup_node</span><span
class="sy">(</span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">value</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">compare</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-293"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="v">n</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="t">NULL</span><span
class="sy">)</span><span
class="h"> </span><span
class="st">return</span><span
class="sy">;</span><span
class="h">&nbsp;&nbsp;</span><span
class="c">/* Key not found, do nothing */</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-294"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="i">left</span><span
class="h"> </span><span
class="o">!=</span><span
class="h"> </span><span
class="t">NULL</span><span
class="h"> </span><span
class="o">&amp;&amp;</span><span
class="h"> </span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="i">right</span><span
class="h"> </span><span
class="o">!=</span><span
class="h"> </span><span
class="t">NULL</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-295"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="c">/* Copy value from predecessor and then delete it instead */</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-296"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">node </span><span
class="v">pred</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="e">maximum_node</span><span
class="sy">(</span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="i">left</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-297"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="v">value</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">pred</span><span
class="o">-&gt;</span><span
class="i">value</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-298"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">n</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">pred</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-299"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-300">&nbsp;</div><div
class="crayon-line" id="crayon-52a3f95d8590f-301"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">assert</span><span
class="sy">(</span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="v">left</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="t">NULL</span><span
class="h"> </span><span
class="o">||</span><span
class="h"> </span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="v">right</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="t">NULL</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-302"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="r">child</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="v">right</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="t">NULL</span><span
class="h"> </span><span
class="sy">?</span><span
class="h"> </span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="i">left</span><span
class="h">&nbsp;&nbsp;</span><span
class="o">:</span><span
class="h"> </span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="i">right</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-303"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="e">node_color</span><span
class="sy">(</span><span
class="i">n</span><span
class="sy">)</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="i">BLACK</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-304"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="v">color</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="e">node_color</span><span
class="sy">(</span><span
class="r">child</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-305"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">delete_case1</span><span
class="sy">(</span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-306"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-307"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">replace_node</span><span
class="sy">(</span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">,</span><span
class="h"> </span><span
class="r">child</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-308"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="t">NULL</span><span
class="h"> </span><span
class="o">&amp;&amp;</span><span
class="h"> </span><span
class="r">child</span><span
class="h"> </span><span
class="o">!=</span><span
class="h"> </span><span
class="t">NULL</span><span
class="sy">)</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-309"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="r">child</span><span
class="o">-&gt;</span><span
class="v">color</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">BLACK</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-310"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">free</span><span
class="sy">(</span><span
class="i">n</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-311">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-312"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">verify_properties</span><span
class="sy">(</span><span
class="i">t</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-313"><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-314">&nbsp;</div><div
class="crayon-line" id="crayon-52a3f95d8590f-315"><span
class="t">void</span><span
class="h"> </span><span
class="e">delete_case1</span><span
class="sy">(</span><span
class="i">rbtree</span><span
class="h"> </span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">node</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-316"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="t">NULL</span><span
class="sy">)</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-317"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">return</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-318"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">else</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-319"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">delete_case2</span><span
class="sy">(</span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-320"><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-321">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-322">&nbsp;</div><div
class="crayon-line" id="crayon-52a3f95d8590f-323"><span
class="t">void</span><span
class="h"> </span><span
class="e">delete_case2</span><span
class="sy">(</span><span
class="i">rbtree</span><span
class="h"> </span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">node</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-324"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="e">node_color</span><span
class="sy">(</span><span
class="e">sibling</span><span
class="sy">(</span><span
class="i">n</span><span
class="sy">)</span><span
class="sy">)</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="i">RED</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-325"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="o">-&gt;</span><span
class="v">color</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">RED</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-326"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">sibling</span><span
class="sy">(</span><span
class="i">n</span><span
class="sy">)</span><span
class="o">-&gt;</span><span
class="v">color</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">BLACK</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-327"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="v">n</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="o">-&gt;</span><span
class="i">left</span><span
class="sy">)</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-328"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">rotate_left</span><span
class="sy">(</span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-329"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">else</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-330"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">rotate_right</span><span
class="sy">(</span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-331"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-332"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">delete_case3</span><span
class="sy">(</span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-333"><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-334">&nbsp;</div><div
class="crayon-line" id="crayon-52a3f95d8590f-335"><span
class="t">void</span><span
class="h"> </span><span
class="e">delete_case3</span><span
class="sy">(</span><span
class="i">rbtree</span><span
class="h"> </span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">node</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-336"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="e">node_color</span><span
class="sy">(</span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="sy">)</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="i">BLACK</span><span
class="h"> </span><span
class="o">&amp;&amp;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-337"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">node_color</span><span
class="sy">(</span><span
class="e">sibling</span><span
class="sy">(</span><span
class="i">n</span><span
class="sy">)</span><span
class="sy">)</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="i">BLACK</span><span
class="h"> </span><span
class="o">&amp;&amp;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-338"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">node_color</span><span
class="sy">(</span><span
class="e">sibling</span><span
class="sy">(</span><span
class="i">n</span><span
class="sy">)</span><span
class="o">-&gt;</span><span
class="i">left</span><span
class="sy">)</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="i">BLACK</span><span
class="h"> </span><span
class="o">&amp;&amp;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-339"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">node_color</span><span
class="sy">(</span><span
class="e">sibling</span><span
class="sy">(</span><span
class="i">n</span><span
class="sy">)</span><span
class="o">-&gt;</span><span
class="i">right</span><span
class="sy">)</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="i">BLACK</span><span
class="sy">)</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-340"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-341"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">sibling</span><span
class="sy">(</span><span
class="i">n</span><span
class="sy">)</span><span
class="o">-&gt;</span><span
class="v">color</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">RED</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-342"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">delete_case1</span><span
class="sy">(</span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-343"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-344"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">else</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-345"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">delete_case4</span><span
class="sy">(</span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-346"><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-347">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-348"><span
class="t">void</span><span
class="h"> </span><span
class="e">delete_case4</span><span
class="sy">(</span><span
class="i">rbtree</span><span
class="h"> </span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">node</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-349"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="e">node_color</span><span
class="sy">(</span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="sy">)</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="i">RED</span><span
class="h"> </span><span
class="o">&amp;&amp;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-350"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">node_color</span><span
class="sy">(</span><span
class="e">sibling</span><span
class="sy">(</span><span
class="i">n</span><span
class="sy">)</span><span
class="sy">)</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="i">BLACK</span><span
class="h"> </span><span
class="o">&amp;&amp;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-351"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">node_color</span><span
class="sy">(</span><span
class="e">sibling</span><span
class="sy">(</span><span
class="i">n</span><span
class="sy">)</span><span
class="o">-&gt;</span><span
class="i">left</span><span
class="sy">)</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="i">BLACK</span><span
class="h"> </span><span
class="o">&amp;&amp;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-352"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">node_color</span><span
class="sy">(</span><span
class="e">sibling</span><span
class="sy">(</span><span
class="i">n</span><span
class="sy">)</span><span
class="o">-&gt;</span><span
class="i">right</span><span
class="sy">)</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="i">BLACK</span><span
class="sy">)</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-353"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-354"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">sibling</span><span
class="sy">(</span><span
class="i">n</span><span
class="sy">)</span><span
class="o">-&gt;</span><span
class="v">color</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">RED</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-355"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="o">-&gt;</span><span
class="v">color</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">BLACK</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-356"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-357"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">else</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-358"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">delete_case5</span><span
class="sy">(</span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-359"><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-360">&nbsp;</div><div
class="crayon-line" id="crayon-52a3f95d8590f-361"><span
class="t">void</span><span
class="h"> </span><span
class="e">delete_case5</span><span
class="sy">(</span><span
class="i">rbtree</span><span
class="h"> </span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">node</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-362"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="v">n</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="o">-&gt;</span><span
class="i">left</span><span
class="h"> </span><span
class="o">&amp;&amp;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-363"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">node_color</span><span
class="sy">(</span><span
class="e">sibling</span><span
class="sy">(</span><span
class="i">n</span><span
class="sy">)</span><span
class="sy">)</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="i">BLACK</span><span
class="h"> </span><span
class="o">&amp;&amp;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-364"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">node_color</span><span
class="sy">(</span><span
class="e">sibling</span><span
class="sy">(</span><span
class="i">n</span><span
class="sy">)</span><span
class="o">-&gt;</span><span
class="i">left</span><span
class="sy">)</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="i">RED</span><span
class="h"> </span><span
class="o">&amp;&amp;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-365"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">node_color</span><span
class="sy">(</span><span
class="e">sibling</span><span
class="sy">(</span><span
class="i">n</span><span
class="sy">)</span><span
class="o">-&gt;</span><span
class="i">right</span><span
class="sy">)</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="i">BLACK</span><span
class="sy">)</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-366"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-367"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">sibling</span><span
class="sy">(</span><span
class="i">n</span><span
class="sy">)</span><span
class="o">-&gt;</span><span
class="v">color</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">RED</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-368"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">sibling</span><span
class="sy">(</span><span
class="i">n</span><span
class="sy">)</span><span
class="o">-&gt;</span><span
class="i">left</span><span
class="o">-&gt;</span><span
class="v">color</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">BLACK</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-369"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">rotate_right</span><span
class="sy">(</span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="e">sibling</span><span
class="sy">(</span><span
class="i">n</span><span
class="sy">)</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-370"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-371"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">else</span><span
class="h"> </span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="v">n</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="o">-&gt;</span><span
class="i">right</span><span
class="h"> </span><span
class="o">&amp;&amp;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-372"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class="e">node_color</span><span
class="sy">(</span><span
class="e">sibling</span><span
class="sy">(</span><span
class="i">n</span><span
class="sy">)</span><span
class="sy">)</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="i">BLACK</span><span
class="h"> </span><span
class="o">&amp;&amp;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-373"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class="e">node_color</span><span
class="sy">(</span><span
class="e">sibling</span><span
class="sy">(</span><span
class="i">n</span><span
class="sy">)</span><span
class="o">-&gt;</span><span
class="i">right</span><span
class="sy">)</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="i">RED</span><span
class="h"> </span><span
class="o">&amp;&amp;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-374"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class="e">node_color</span><span
class="sy">(</span><span
class="e">sibling</span><span
class="sy">(</span><span
class="i">n</span><span
class="sy">)</span><span
class="o">-&gt;</span><span
class="i">left</span><span
class="sy">)</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="i">BLACK</span><span
class="sy">)</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-375"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-376"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">sibling</span><span
class="sy">(</span><span
class="i">n</span><span
class="sy">)</span><span
class="o">-&gt;</span><span
class="v">color</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">RED</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-377"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">sibling</span><span
class="sy">(</span><span
class="i">n</span><span
class="sy">)</span><span
class="o">-&gt;</span><span
class="i">right</span><span
class="o">-&gt;</span><span
class="v">color</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">BLACK</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-378"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">rotate_left</span><span
class="sy">(</span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="e">sibling</span><span
class="sy">(</span><span
class="i">n</span><span
class="sy">)</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-379"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-380"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">delete_case6</span><span
class="sy">(</span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-381"><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-382">&nbsp;</div><div
class="crayon-line" id="crayon-52a3f95d8590f-383"><span
class="t">void</span><span
class="h"> </span><span
class="e">delete_case6</span><span
class="sy">(</span><span
class="i">rbtree</span><span
class="h"> </span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">node</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-384"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">sibling</span><span
class="sy">(</span><span
class="i">n</span><span
class="sy">)</span><span
class="o">-&gt;</span><span
class="v">color</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="e">node_color</span><span
class="sy">(</span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-385"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="o">-&gt;</span><span
class="v">color</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">BLACK</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-386"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="v">n</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="o">-&gt;</span><span
class="i">left</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-387"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">assert</span><span
class="h"> </span><span
class="sy">(</span><span
class="e">node_color</span><span
class="sy">(</span><span
class="e">sibling</span><span
class="sy">(</span><span
class="i">n</span><span
class="sy">)</span><span
class="o">-&gt;</span><span
class="i">right</span><span
class="sy">)</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="i">RED</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-388"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">sibling</span><span
class="sy">(</span><span
class="i">n</span><span
class="sy">)</span><span
class="o">-&gt;</span><span
class="i">right</span><span
class="o">-&gt;</span><span
class="v">color</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">BLACK</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-389"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">rotate_left</span><span
class="sy">(</span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-390"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-391"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">else</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-392"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-393"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">assert</span><span
class="h"> </span><span
class="sy">(</span><span
class="e">node_color</span><span
class="sy">(</span><span
class="e">sibling</span><span
class="sy">(</span><span
class="i">n</span><span
class="sy">)</span><span
class="o">-&gt;</span><span
class="i">left</span><span
class="sy">)</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="i">RED</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-394"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">sibling</span><span
class="sy">(</span><span
class="i">n</span><span
class="sy">)</span><span
class="o">-&gt;</span><span
class="i">left</span><span
class="o">-&gt;</span><span
class="v">color</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">BLACK</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-395"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">rotate_right</span><span
class="sy">(</span><span
class="i">t</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="r">parent</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-396"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-397"><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-398">&nbsp;</div><div
class="crayon-line" id="crayon-52a3f95d8590f-399"><span
class="m">static</span><span
class="h"> </span><span
class="e">node </span><span
class="e">maximum_node</span><span
class="sy">(</span><span
class="i">node</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-400"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">assert</span><span
class="h"> </span><span
class="sy">(</span><span
class="i">n</span><span
class="h"> </span><span
class="o">!=</span><span
class="h"> </span><span
class="t">NULL</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-401"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">while</span><span
class="h"> </span><span
class="sy">(</span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="i">right</span><span
class="h"> </span><span
class="o">!=</span><span
class="h"> </span><span
class="t">NULL</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-402"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">n</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="i">right</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-403"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-404"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">return</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-405"><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-406">&nbsp;</div><div
class="crayon-line" id="crayon-52a3f95d8590f-407"><span
class="t">void</span><span
class="h"> </span><span
class="e">print_tree_helper</span><span
class="sy">(</span><span
class="i">rbtree_node</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="i">indent</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-408"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="t">int</span><span
class="h"> </span><span
class="i">i</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-409"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="v">n</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="t">NULL</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-410"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">fputs</span><span
class="sy">(</span><span
class="s">""</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">stdout</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-411"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">return</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-412"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-413"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="i">right</span><span
class="h"> </span><span
class="o">!=</span><span
class="h"> </span><span
class="t">NULL</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-414"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">print_tree_helper</span><span
class="sy">(</span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="i">right</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">indent</span><span
class="h"> </span><span
class="o">+</span><span
class="h"> </span><span
class="i">INDENT_STEP</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-415"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-416"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">for</span><span
class="sy">(</span><span
class="v">i</span><span
class="o">=</span><span
class="cn">0</span><span
class="sy">;</span><span
class="h"> </span><span
class="v">icolor</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="i">BLACK</span><span
class="sy">)</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-417"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">printf</span><span
class="sy">(</span><span
class="s">"%d\n"</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="i">value</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-418"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">else</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-419"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">printf</span><span
class="sy">(</span><span
class="s">"\n"</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="i">value</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-420"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="i">left</span><span
class="h"> </span><span
class="o">!=</span><span
class="h"> </span><span
class="t">NULL</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-421"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">print_tree_helper</span><span
class="sy">(</span><span
class="i">n</span><span
class="o">-&gt;</span><span
class="i">left</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">indent</span><span
class="h"> </span><span
class="o">+</span><span
class="h"> </span><span
class="i">INDENT_STEP</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-422"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-423"><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-424">&nbsp;</div><div
class="crayon-line" id="crayon-52a3f95d8590f-425"><span
class="t">void</span><span
class="h"> </span><span
class="e">print_tree</span><span
class="sy">(</span><span
class="i">rbtree</span><span
class="h"> </span><span
class="i">t</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-426"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">print_tree_helper</span><span
class="sy">(</span><span
class="i">t</span><span
class="o">-&gt;</span><span
class="i">root</span><span
class="sy">,</span><span
class="h"> </span><span
class="cn">0</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-427"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">puts</span><span
class="sy">(</span><span
class="s">""</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-428"><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-429">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-430"><span
class="t">int</span><span
class="h"> </span><span
class="e">compare_int</span><span
class="sy">(</span><span
class="t">int</span><span
class="h"> </span><span
class="i">left</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="i">right</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-431"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="e">left&nbsp;&nbsp;</span><span
class="i">right</span><span
class="sy">)</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-432"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">return</span><span
class="h"> </span><span
class="cn">1</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-433"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">else</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-434"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">assert</span><span
class="h"> </span><span
class="sy">(</span><span
class="v">left</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="i">right</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-435"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">return</span><span
class="h"> </span><span
class="cn">0</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-436"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-437"><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-438">&nbsp;</div><div
class="crayon-line" id="crayon-52a3f95d8590f-439"><span
class="t">int</span><span
class="h"> </span><span
class="e">main</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-440"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="m">const</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="v">n</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="cn">8</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-441"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="m">const</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="v">w</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="cn">3</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-442"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="t">int</span><span
class="h"> </span><span
class="v">A</span><span
class="sy">[</span><span
class="sy">]</span><span
class="h">&nbsp;&nbsp;</span><span
class="o">=</span><span
class="h"> </span><span
class="sy">{</span><span
class="cn">1</span><span
class="sy">,</span><span
class="h"> </span><span
class="cn">3</span><span
class="sy">,</span><span
class="h"> </span><span
class="o">-</span><span
class="cn">1</span><span
class="sy">,</span><span
class="h"> </span><span
class="o">-</span><span
class="cn">3</span><span
class="sy">,</span><span
class="h"> </span><span
class="cn">5</span><span
class="sy">,</span><span
class="h"> </span><span
class="cn">3</span><span
class="sy">,</span><span
class="h"> </span><span
class="cn">6</span><span
class="sy">,</span><span
class="h"> </span><span
class="cn">7</span><span
class="sy">}</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-443"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="t">int</span><span
class="h"> </span><span
class="i">i</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-444"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">rbtree</span><span
class="h"> </span><span
class="v">r</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="e">rbtree_create</span><span
class="sy">(</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-445"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">for</span><span
class="sy">(</span><span
class="v">i</span><span
class="o">=</span><span
class="cn">0</span><span
class="sy">;</span><span
class="h"> </span><span
class="i">iroot</span><span
class="sy">)</span><span
class="o">-&gt;</span><span
class="i">value</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-446"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">for</span><span
class="sy">(</span><span
class="v">i</span><span
class="o">=</span><span
class="i">w</span><span
class="sy">;</span><span
class="h"> </span><span
class="i">iroot</span><span
class="sy">)</span><span
class="o">-&gt;</span><span
class="i">value</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-447"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f95d8590f-448"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">return</span><span
class="h"> </span><span
class="cn">0</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f95d8590f-449"><span
class="sy">}</span></div></div></td></tr></table></div></div><p></p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_59788_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_59788_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX59788XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_59788_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_59788_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX59788XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_59788_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=59788#respond' onclick='return addComment.moveForm("comment-59788", "59788", "respond", "75")'>Reply</a></div></div></li><li
class="comment byuser comment-author-greenhand odd alt thread-even depth-1" id="comment-59790"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/greenhand/" rel="nofollow"> <img
src="http://www.gravatar.com/avatar/f8cd6746341e8220f80680390344459d?d=identicon&amp;s=50&amp;r=G" alt="Avatar Image" class="avatar user-13076-avatar" width="50" height="50" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/greenhand/" rel="nofollow">frank</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-59790"><span
class="time-since">May 14, 2013</span></a></p></div><div
class="comment-entry"><p>strange. some code omitted.</p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_59790_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_59790_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX59790XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_59790_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_59790_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX59790XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_59790_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=59790#respond' onclick='return addComment.moveForm("comment-59790", "59790", "respond", "75")'>Reply</a></div></div></li><li
class="comment byuser comment-author-greenhand even thread-odd thread-alt depth-1" id="comment-59980"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/greenhand/" rel="nofollow"> <img
src="http://www.gravatar.com/avatar/f8cd6746341e8220f80680390344459d?d=identicon&amp;s=50&amp;r=G" alt="Avatar Image" class="avatar user-13076-avatar" width="50" height="50" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/greenhand/" rel="nofollow">frank</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-59980"><span
class="time-since">May 16, 2013</span></a></p></div><div
class="comment-entry"><p>#include<br
/> #include<br
/> #include</p><p>#define INDENT_STEP  4<br
/> enum rbtree_node_color {RED, BLACK};</p><p>typedef struct rbtree_node_t {<br
/> int value;<br
/> struct rbtree_node_t* left;<br
/> struct rbtree_node_t* right;<br
/> struct rbtree_node_t* parent;<br
/> enum rbtree_node_color color;<br
/> } *rbtree_node;<br
/> typedef rbtree_node node;<br
/> typedef enum rbtree_node_color color;<br
/> typedef struct rbtree_t {<br
/> rbtree_node root;<br
/> } *rbtree;<br
/> typedef int (*compare_func) (int left, int right);</p><p>static node grandparent(node n);<br
/> static node sibling(node n);<br
/> static node uncle(node n);<br
/> static void verify_properties(rbtree t);<br
/> static void verify_property_1(node root);<br
/> static void verify_property_2(node root);<br
/> static color node_color(node n);<br
/> static void verify_property_4(node root);<br
/> static void verify_property_5(node root);<br
/> static void verify_property_5_helper(node n, int black_count, int* black_count_path);<br
/> rbtree rbtree_create();<br
/> static node new_node(int value, color node_color, node left, node right);<br
/> static node lookup_node(rbtree t, int value, compare_func compare);<br
/> static void rotate_left(rbtree t, node n);<br
/> static void rotate_right(rbtree t, node n);<br
/> static void replace_node(rbtree t, node oldn, node newn);<br
/> void rbtree_insert(rbtree t, int value, compare_func compare);<br
/> static void insert_case1(rbtree t, node n);<br
/> static void insert_case2(rbtree t, node n);<br
/> static void insert_case3(rbtree t, node n);<br
/> static void insert_case4(rbtree t, node n);<br
/> static void insert_case5(rbtree t, node n);<br
/> void rbtree_delete(rbtree t, int value, compare_func compare);<br
/> static node maximum_node(node root);<br
/> static void delete_case1(rbtree t, node n);<br
/> static void delete_case2(rbtree t, node n);<br
/> static void delete_case3(rbtree t, node n);<br
/> static void delete_case4(rbtree t, node n);<br
/> static void delete_case5(rbtree t, node n);<br
/> static void delete_case6(rbtree t, node n);<br
/> static int compare_int(int left, int right);<br
/> static void print_tree(rbtree t);<br
/> static void print_tree_helper(rbtree_node n, int indent);</p><p>color node_color(node n){<br
/> return n==NULL ? BLACK : n-&gt;color;<br
/> }</p><p>node grandparent(node n) {<br
/> assert (n != NULL);<br
/> assert (n-&gt;parent != NULL); /* Not the root node */<br
/> assert (n-&gt;parent-&gt;parent != NULL); /* Not child of root */<br
/> return n-&gt;parent-&gt;parent;<br
/> }</p><p>node sibling(node n) {<br
/> assert (n != NULL);<br
/> assert (n-&gt;parent != NULL); /* Root node has no sibling */<br
/> if (n == n-&gt;parent-&gt;left)<br
/> return n-&gt;parent-&gt;right;<br
/> else<br
/> return n-&gt;parent-&gt;left;<br
/> }</p><p>node uncle(node n) {<br
/> assert (n != NULL);<br
/> assert (n-&gt;parent != NULL); /* Root node has no uncle */<br
/> assert (n-&gt;parent-&gt;parent != NULL); /* Children of root have no uncle */<br
/> return sibling(n-&gt;parent);<br
/> }</p><p>void verify_property_1(node n){<br
/> assert(node_color(n) == RED || node_color(n) == BLACK);<br
/> if (n==NULL) return;<br
/> verify_property_1(n-&gt;left);<br
/> verify_property_1(n-&gt;right);<br
/> }</p><p>void verify_property_2(node root){<br
/> assert(node_color(root) == BLACK);<br
/> }</p><p>void verify_property_4(node n){<br
/> if(node_color(n) == RED) {<br
/> assert(node_color(n-&gt;left) == BLACK);<br
/> assert(node_color(n-&gt;right) == BLACK);<br
/> assert(node_color(n-&gt;parent) == BLACK);<br
/> }<br
/> if(n==NULL) return;<br
/> verify_property_4(n-&gt;left);<br
/> verify_property_4(n-&gt;right);<br
/> }</p><p>void verify_property_5_helper(node n, int black_count, int* path_black_count){<br
/> if(node_color(n) == BLACK) {<br
/> black_count++;<br
/> }<br
/> if(n==NULL){<br
/> if (*path_black_count == -1) {<br
/> *path_black_count = black_count;<br
/> }else{<br
/> assert (black_count == *path_black_count);<br
/> }<br
/> return;<br
/> }<br
/> verify_property_5_helper(n-&gt;left, black_count, path_black_count);<br
/> verify_property_5_helper(n-&gt;right, black_count, path_black_count);<br
/> }</p><p>void verify_property_5(node root){<br
/> int black_count_path = -1;<br
/> verify_property_5_helper(root, 0, &amp;black_count_path);<br
/> }</p><p>void verify_properties(rbtree t){<br
/> verify_property_1(t-&gt;root);<br
/> verify_property_2(t-&gt;root);<br
/> //property 3 is implicit<br
/> verify_property_4(t-&gt;root);<br
/> verify_property_5(t-&gt;root);<br
/> }</p><p>rbtree rbtree_create(){<br
/> rbtree t = (rbtree)malloc(sizeof(struct rbtree_t));<br
/> t-&gt;root = NULL;<br
/> verify_properties(t);<br
/> return t;<br
/> }</p><p>node new_node(int value, color node_color, node left, node right){<br
/> node result = (node)malloc(sizeof(struct rbtree_node_t));<br
/> result-&gt;value = value;<br
/> result-&gt;color = node_color;<br
/> result-&gt;left = left;<br
/> result-&gt;right = right;<br
/> if(left != NULL) left-&gt;parent = result;<br
/> if(right != NULL) right-&gt;parent = result;<br
/> result-&gt;parent = NULL;<br
/> return result;<br
/> }</p><p>node lookup_node(rbtree t, int value, compare_func compare){<br
/> node n = t-&gt;root;<br
/> while (n!= NULL){<br
/> int comp_result = compare(value, n-&gt;value);<br
/> if(comp_result == 0) {<br
/> return n;<br
/> }else if(comp_resultleft;<br
/> }else {<br
/> assert(comp_result&gt;0);<br
/> n=n-&gt;right;<br
/> }<br
/> return 0;<br
/> }<br
/> }</p><p>void replace_node(rbtree t, node oldn, node newn) {<br
/> if (oldn-&gt;parent == NULL) {<br
/> t-&gt;root = newn;<br
/> } else {<br
/> if (oldn == oldn-&gt;parent-&gt;left)<br
/> oldn-&gt;parent-&gt;left = newn;<br
/> else<br
/> oldn-&gt;parent-&gt;right = newn;<br
/> }<br
/> if (newn != NULL) {<br
/> newn-&gt;parent = oldn-&gt;parent;<br
/> }<br
/> }</p><p>void rotate_left(rbtree t, node n){<br
/> node r = n-&gt;right;<br
/> replace_node(t, n, r);<br
/> n-&gt;right = r-&gt;left;<br
/> if(r-&gt;left != NULL){<br
/> r-&gt;left-&gt;parent = n;<br
/> }<br
/> r-&gt;left = n;<br
/> n-&gt;parent = r;<br
/> }</p><p>void rotate_right(rbtree t, node n) {<br
/> node L = n-&gt;left;<br
/> replace_node(t, n, L);<br
/> n-&gt;left = L-&gt;right;<br
/> if (L-&gt;right != NULL) {<br
/> L-&gt;right-&gt;parent = n;<br
/> }<br
/> L-&gt;right = n;<br
/> n-&gt;parent = L;<br
/> }</p><p>void rbtree_insert(rbtree t, int value, compare_func compare) {<br
/> node inserted_node = new_node(value, RED, NULL, NULL);<br
/> if (t-&gt;root == NULL) {<br
/> t-&gt;root = inserted_node;<br
/> } else {<br
/> node n = t-&gt;root;<br
/> while (1) {<br
/> int comp_result = compare(value, n-&gt;value);<br
/> if (comp_result == 0) {<br
/> free (inserted_node);<br
/> return;<br
/> } else if (comp_result left == NULL) {<br
/> n-&gt;left = inserted_node;<br
/> break;<br
/> } else {<br
/> n = n-&gt;left;<br
/> }<br
/> } else {<br
/> assert (comp_result &gt; 0);<br
/> if (n-&gt;right == NULL) {<br
/> n-&gt;right = inserted_node;<br
/> break;<br
/> } else {<br
/> n = n-&gt;right;<br
/> }<br
/> }<br
/> }<br
/> inserted_node-&gt;parent = n;<br
/> }<br
/> insert_case1(t, inserted_node);<br
/> verify_properties(t);<br
/> }</p><p>void insert_case1(rbtree t, node n) {<br
/> if (n-&gt;parent == NULL)<br
/> n-&gt;color = BLACK;<br
/> else<br
/> insert_case2(t, n);<br
/> }</p><p>void insert_case2(rbtree t, node n) {<br
/> if (node_color(n-&gt;parent) == BLACK)<br
/> return; /* Tree is still valid */<br
/> else<br
/> insert_case3(t, n);<br
/> }</p><p>void insert_case3(rbtree t, node n) {<br
/> if (node_color(uncle(n)) == RED) {<br
/> n-&gt;parent-&gt;color = BLACK;<br
/> uncle(n)-&gt;color = BLACK;<br
/> grandparent(n)-&gt;color = RED;<br
/> insert_case1(t, grandparent(n));<br
/> } else {<br
/> insert_case4(t, n);<br
/> }<br
/> }</p><p>void insert_case4(rbtree t, node n) {<br
/> if (n == n-&gt;parent-&gt;right &amp;&amp; n-&gt;parent == grandparent(n)-&gt;left) {<br
/> rotate_left(t, n-&gt;parent);<br
/> n = n-&gt;left;<br
/> } else if (n == n-&gt;parent-&gt;left &amp;&amp; n-&gt;parent == grandparent(n)-&gt;right) {<br
/> rotate_right(t, n-&gt;parent);<br
/> n = n-&gt;right;<br
/> }<br
/> insert_case5(t, n);<br
/> }</p><p>void insert_case5(rbtree t, node n) {<br
/> n-&gt;parent-&gt;color = BLACK;<br
/> grandparent(n)-&gt;color = RED;<br
/> if (n == n-&gt;parent-&gt;left &amp;&amp; n-&gt;parent == grandparent(n)-&gt;left) {<br
/> rotate_right(t, grandparent(n));<br
/> } else {<br
/> assert (n == n-&gt;parent-&gt;right &amp;&amp; n-&gt;parent == grandparent(n)-&gt;right);<br
/> rotate_left(t, grandparent(n));<br
/> }<br
/> }</p><p>void rbtree_delete(rbtree t, int value, compare_func compare) {<br
/> node child;<br
/> node n = lookup_node(t, value, compare);<br
/> if (n == NULL) return;  /* Key not found, do nothing */<br
/> if (n-&gt;left != NULL &amp;&amp; n-&gt;right != NULL) {<br
/> /* Copy value from predecessor and then delete it instead */<br
/> node pred = maximum_node(n-&gt;left);<br
/> n-&gt;value = pred-&gt;value;<br
/> n = pred;<br
/> }</p><p> assert(n-&gt;left == NULL || n-&gt;right == NULL);<br
/> child = n-&gt;right == NULL ? n-&gt;left  : n-&gt;right;<br
/> if (node_color(n) == BLACK) {<br
/> n-&gt;color = node_color(child);<br
/> delete_case1(t, n);<br
/> }<br
/> replace_node(t, n, child);<br
/> if (n-&gt;parent == NULL &amp;&amp; child != NULL)<br
/> child-&gt;color = BLACK;<br
/> free(n);</p><p> verify_properties(t);<br
/> }</p><p>void delete_case1(rbtree t, node n) {<br
/> if (n-&gt;parent == NULL)<br
/> return;<br
/> else<br
/> delete_case2(t, n);<br
/> }</p><p>void delete_case2(rbtree t, node n) {<br
/> if (node_color(sibling(n)) == RED) {<br
/> n-&gt;parent-&gt;color = RED;<br
/> sibling(n)-&gt;color = BLACK;<br
/> if (n == n-&gt;parent-&gt;left)<br
/> rotate_left(t, n-&gt;parent);<br
/> else<br
/> rotate_right(t, n-&gt;parent);<br
/> }<br
/> delete_case3(t, n);<br
/> }</p><p>void delete_case3(rbtree t, node n) {<br
/> if (node_color(n-&gt;parent) == BLACK &amp;&amp;<br
/> node_color(sibling(n)) == BLACK &amp;&amp;<br
/> node_color(sibling(n)-&gt;left) == BLACK &amp;&amp;<br
/> node_color(sibling(n)-&gt;right) == BLACK)<br
/> {<br
/> sibling(n)-&gt;color = RED;<br
/> delete_case1(t, n-&gt;parent);<br
/> }<br
/> else<br
/> delete_case4(t, n);<br
/> }</p><p>void delete_case4(rbtree t, node n) {<br
/> if (node_color(n-&gt;parent) == RED &amp;&amp;<br
/> node_color(sibling(n)) == BLACK &amp;&amp;<br
/> node_color(sibling(n)-&gt;left) == BLACK &amp;&amp;<br
/> node_color(sibling(n)-&gt;right) == BLACK)<br
/> {<br
/> sibling(n)-&gt;color = RED;<br
/> n-&gt;parent-&gt;color = BLACK;<br
/> }<br
/> else<br
/> delete_case5(t, n);<br
/> }</p><p>void delete_case5(rbtree t, node n) {<br
/> if (n == n-&gt;parent-&gt;left &amp;&amp;<br
/> node_color(sibling(n)) == BLACK &amp;&amp;<br
/> node_color(sibling(n)-&gt;left) == RED &amp;&amp;<br
/> node_color(sibling(n)-&gt;right) == BLACK)<br
/> {<br
/> sibling(n)-&gt;color = RED;<br
/> sibling(n)-&gt;left-&gt;color = BLACK;<br
/> rotate_right(t, sibling(n));<br
/> }<br
/> else if (n == n-&gt;parent-&gt;right &amp;&amp;<br
/> node_color(sibling(n)) == BLACK &amp;&amp;<br
/> node_color(sibling(n)-&gt;right) == RED &amp;&amp;<br
/> node_color(sibling(n)-&gt;left) == BLACK)<br
/> {<br
/> sibling(n)-&gt;color = RED;<br
/> sibling(n)-&gt;right-&gt;color = BLACK;<br
/> rotate_left(t, sibling(n));<br
/> }<br
/> delete_case6(t, n);<br
/> }</p><p>void delete_case6(rbtree t, node n) {<br
/> sibling(n)-&gt;color = node_color(n-&gt;parent);<br
/> n-&gt;parent-&gt;color = BLACK;<br
/> if (n == n-&gt;parent-&gt;left) {<br
/> assert (node_color(sibling(n)-&gt;right) == RED);<br
/> sibling(n)-&gt;right-&gt;color = BLACK;<br
/> rotate_left(t, n-&gt;parent);<br
/> }<br
/> else<br
/> {<br
/> assert (node_color(sibling(n)-&gt;left) == RED);<br
/> sibling(n)-&gt;left-&gt;color = BLACK;<br
/> rotate_right(t, n-&gt;parent);<br
/> }<br
/> }</p><p>static node maximum_node(node n) {<br
/> assert (n != NULL);<br
/> while (n-&gt;right != NULL) {<br
/> n = n-&gt;right;<br
/> }<br
/> return n;<br
/> }</p><p>void print_tree_helper(rbtree_node n, int indent) {<br
/> int i;<br
/> if (n == NULL) {<br
/> fputs(&#8220;&#8221;, stdout);<br
/> return;<br
/> }<br
/> if (n-&gt;right != NULL) {<br
/> print_tree_helper(n-&gt;right, indent + INDENT_STEP);<br
/> }<br
/> for(i=0; icolor == BLACK)<br
/> printf(&#8220;%d\n&#8221;, n-&gt;value);<br
/> else<br
/> printf(&#8220;\n&#8221;, n-&gt;value);<br
/> if (n-&gt;left != NULL) {<br
/> print_tree_helper(n-&gt;left, indent + INDENT_STEP);<br
/> }<br
/> }</p><p>void print_tree(rbtree t) {<br
/> print_tree_helper(t-&gt;root, 0);<br
/> puts(&#8220;&#8221;);<br
/> }</p><p>int compare_int(int left, int right) {<br
/> if (left  right)<br
/> return 1;<br
/> else {<br
/> assert (left == right);<br
/> return 0;<br
/> }<br
/> }</p><p>int main(){<br
/> const int w = 3;<br
/> int A[]  = {1, 3, -1, -3, 5, 3, 6, 7};<br
/> int n = sizeof(A)/sizeof(A[0]);<br
/> int i;<br
/> rbtree r = rbtree_create();<br
/> for(i=0; iroot)-&gt;value);<br
/> for(i=w; iroot)-&gt;value);<br
/> }<br
/> return 0;<br
/> }</p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_59980_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_59980_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX59980XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_59980_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_59980_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX59980XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_59980_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=59980#respond' onclick='return addComment.moveForm("comment-59980", "59980", "respond", "75")'>Reply</a></div></div></li><li
class="comment odd alt thread-even depth-1" id="comment-63192"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/a9a2af3b060029b1a6db49c69057dd2e?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">Arnab Dutta</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-63192"><span
class="time-since">June 13, 2013</span></a></p></div><div
class="comment-entry"><p>Hi got so many solutions on this page!&#8230;Wondering which ones are best???<br
/> @1337c0d3r &#8211; Can you please comment about the best ones in the following manner:<br
/> 1.  /   /<br
/> 2.  /   /<br
/> &#8230;.</p><p>Thanks,<br
/> Arnab.</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_63192_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_63192_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX63192XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_63192_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_63192_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX63192XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_63192_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=63192#respond' onclick='return addComment.moveForm("comment-63192", "63192", "respond", "75")'>Reply</a></div></div><ul
class='children'><li
class="comment even depth-2" id="comment-63314"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/a9a2af3b060029b1a6db49c69057dd2e?s=25&amp;d=identicon&amp;r=G' class='avatar avatar-25 photo' height='25' width='25' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">Arnab Dutta</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-63314"><span
class="time-since">June 14, 2013</span></a></p></div><div
class="comment-entry"><p>Hi got so many solutions on this page!Wondering which ones are best???<br
/> @1337c0d3r  Can you please comment about the best ones in the following manner:<br
/> 1. DStruct used? / Procedure used? / Complexity? / User? / Dated?<br
/> 2.  &#8212; same format &#8212;<br
/> .</p><p>Thanks,<br
/> Arnab.</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_63314_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_63314_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX63314XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_63314_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_63314_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX63314XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_63314_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=63314#respond' onclick='return addComment.moveForm("comment-63314", "63314", "respond", "75")'>Reply</a></div></div></li></ul></li><li
class="comment odd alt thread-odd thread-alt depth-1" id="comment-63315"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/a9a2af3b060029b1a6db49c69057dd2e?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">Arnab Dutta</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-63315"><span
class="time-since">June 14, 2013</span></a></p></div><div
class="comment-entry"><p>Hi got so many solutions on this page!Wondering which ones are best???<br
/> @1337c0d3r  Can you please comment about the best ones in the following manner:<br
/> 1. DStruct used? / Procedure used? / Complexity? / User? / Dated?<br
/> 2.  same format <br
/> .</p><p>Thanks,<br
/> Arnab.</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_63315_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_63315_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX63315XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_63315_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_63315_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX63315XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_63315_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=63315#respond' onclick='return addComment.moveForm("comment-63315", "63315", "respond", "75")'>Reply</a></div></div><ul
class='children'><li
class="comment byuser comment-author-lowiq even depth-2" id="comment-76555"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/lowiq/" rel="nofollow"> <img
src="http://www.gravatar.com/avatar/728fdccb31f7d98990ef06b019e552cf?d=identicon&amp;s=25&amp;r=G" alt="Avatar Image" class="avatar user-1085-avatar" width="25" height="25" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/lowiq/" rel="nofollow">JQueue</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-76555"><span
class="time-since">October 3, 2013</span></a></p></div><div
class="comment-entry"><p>The second method in original post is brilliant, it is O(n) by using a deque. Const time of fetching the max is trivial, const time removing is hard. Using a deque and following the rule of inserting (each insertion try to push the element to the leftmost as possible), this guarantees in each iteration, at most one element will be removed.</p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_76555_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_76555_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX76555XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_76555_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_76555_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX76555XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_76555_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=76555#respond' onclick='return addComment.moveForm("comment-76555", "76555", "respond", "75")'>Reply</a></div></div></li></ul></li><li
class="comment byuser comment-author-lowiq odd alt thread-even depth-1" id="comment-76557"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/lowiq/" rel="nofollow"> <img
src="http://www.gravatar.com/avatar/728fdccb31f7d98990ef06b019e552cf?d=identicon&amp;s=50&amp;r=G" alt="Avatar Image" class="avatar user-1085-avatar" width="50" height="50" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/lowiq/" rel="nofollow">JQueue</a> said on <a
href="http://leetcode.com/2011/01/sliding-window-maximum.html#comment-76557"><span
class="time-since">October 3, 2013</span></a></p></div><div
class="comment-entry"><p>One of the best example of saving runtime complexity by choosing appropriate data structure.</p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_76557_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_76557_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX76557XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_76557_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_76557_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX76557XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_76557_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/01/sliding-window-maximum.html?replytocom=76557#respond' onclick='return addComment.moveForm("comment-76557", "76557", "respond", "75")'>Reply</a></div></div></li></ol></div><div
id="respond"><h3 id="reply-title">Leave a reply <small><a
rel="nofollow" id="cancel-comment-reply-link" href="/2011/01/sliding-window-maximum.html#respond" style="display:none;">Cancel reply</a></small></h3><form
action="http://leetcode.com/wp-comments-post.php" method="post" id="commentform"><div
class="comment-avatar-box"><div
class="avb"> <img
alt='' src='http://0.gravatar.com/avatar/?d=identicon&amp;s=50' class='avatar avatar-50 photo avatar-default' height='50' width='50' /></div></div><div
class="comment-content standard-form"><p
class="comment-notes">Your email address will not be published. Required fields are marked <span
class="required">*</span></p><p
class="comment-form-author"><label
for="author">Name<span
class="required"> *</span></label> <input
id="author" name="author" type="text" value="" size="30" aria-required='true' /></p><p
class="comment-form-email"><label
for="email">Email<span
class="required"> *</span></label> <input
id="email" name="email" type="text" value="" size="30" aria-required='true' /></p><p
class="comment-form-url"><label
for="url">Website</label><input
id="url" name="url" type="text" value="" size="30" /></p><p
class="form-textarea"><textarea name="comment" id="comment" cols="60" rows="10" aria-required="true"></textarea></p><p
class="form-allowed-tags">You may use the <code>&lt;code&gt;</code> tag to embed your code.</p><p
class="form-submit"> <input
name="submit" type="submit" id="submit" value="Post Comment" /> <input
type='hidden' name='comment_post_ID' value='75' id='comment_post_ID' /> <input
type='hidden' name='comment_parent' id='comment_parent' value='0' /></p><p
style="display: none;"><input
type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="50b1d24bb0" /></p></div></form></div><div
id="trackbacks"><h3>1 trackback</h3><ul
id="trackbacklist"><li><h5><a
href='http://www.mashengjun.info/?p=279' rel='external nofollow' class='url'>Multiplication of numbers |  Blog</a></h5> <em>on July 28, 2011</em></li></ul></div></div></div></div><div
id="post-dir-search" class="dir-search"><form
role="search" method="get" id="searchform" action="http://leetcode.com/"> <input
type="text" value="" name="s" id="s" /> <input
type="submit" id="searchsubmit" value="Search" /></form></div><div
id="sidebar"><div
class="padder"></div></div></div><div
id="push"></div></div><div
id="footer"><div
id="colophon"><div
class="footer-widget"></div><div
class="footer-widget"></div><div
class="footer-widget"></div><div
class="footer-widget last"></div><div
class="clear"></div><div
id="footer-links"><ul
class="footer-menu"><li
class="page_item page-item-2"><a
href="http://leetcode.com/about">About</a></li><li
class="page_item page-item-908"><a
href="http://leetcode.com/activity">Activity</a></li><li
class="page_item page-item-1466"><a
href="http://leetcode.com/discuss">Discuss</a></li><li
class="page_item page-item-1658"><a
href="http://leetcode.com/donate">Donate</a></li><li
class="page_item page-item-907"><a
href="http://leetcode.com/members">Members</a></li><li
class="page_item page-item-370"><a
href="http://leetcode.com/onlinejudge">Online Judge</a></li></ul></div><div
id="credits"><p>Copyright &copy; 2013 LeetCode &nbsp;&middot;&nbsp; <a
href="http://leetcode.com/wp-login.php">Log in</a></p></div></div></div><div
id="wpadminbar" class="nojq nojs" role="navigation"> <a
class="screen-reader-shortcut" href="#wp-toolbar" tabindex="1">Skip to toolbar</a><div
class="quicklinks" id="wp-toolbar" role="navigation" aria-label="Top navigation toolbar." tabindex="0"><ul
id="wp-admin-bar-root-default" class="ab-top-menu"><li
id="wp-admin-bar-bp-login"><a
class="ab-item"  href="http://leetcode.com/wp-login.php">Log in</a></li><li
id="wp-admin-bar-bp-register"><a
class="ab-item"  href="http://leetcode.com/register/">Register</a></li><li
id="wp-admin-bar-my-account"><div
class="ab-item ab-empty-item" ></div></li></ul></div> <a
class="screen-reader-shortcut" href="http://leetcode.com/wp-login.php?action=logout&#038;_wpnonce=d79c4035be">Log Out</a></div><div
class="buddyboss_log"></div> <script type="text/javascript">

    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-6849839-3']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

  </script><style type="text/css">
    .defaultCommentText { color: #a1a1a1; font-style: italic; }
  </style><script type="text/javascript">
    jQuery("textarea#comment, textarea#reply_text").focus(function(srcc) {
      if (jQuery(this).val() == jQuery(this)[0].title) {
        jQuery(this).val("");
        jQuery(this).removeClass("defaultCommentText");
      }
    });
    jQuery("textarea#comment, textarea#reply_text").blur(function() {
      if (jQuery(this).val() == "") {
        jQuery(this).val(jQuery(this)[0].title);
        jQuery(this).addClass("defaultCommentText");
      }
    });
    jQuery("textarea#comment, textarea#reply_text").attr('title', 'To embed your code, please use <code>your code here</code>.');
    jQuery("textarea#comment, textarea#reply_text").blur();
  </script></body></html>
<!-- Performance optimized by W3 Total Cache. Learn more: http://www.w3-edge.com/wordpress-plugins/

Minified using disk: basic
Page Caching using disk: enhanced

 Served from: leetcode.com @ 2013-12-07 20:45:18 by W3 Total Cache -->