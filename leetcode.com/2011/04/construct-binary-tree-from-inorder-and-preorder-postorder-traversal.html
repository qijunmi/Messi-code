<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html
xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head
profile="http://gmpg.org/xfn/11"><link
rel="stylesheet" type="text/css" href="http://leetcode.com/wp-content/cache/minify/000000/fY7BDgIhDER_aBE9-EEFKpAssGm7Ufx6uyzxpodmmubNdK6Wpa-43C2EkqtxQBfV5WbdHkLfCJmt24xvhNbr_sUU8TtLK_mNwRB6rKJYKao80DP5eZir6NXGYFiADIHkGgdzrkcWQW_VcK8CL5NyTKuOIA1Mf05itvuNS8KCbGOWtLspfw2PNgq3ym0F_gA.css" media="all" /><link
rel="stylesheet" type="text/css" href="http://leetcode.com/wp-content/cache/minify/000000/M9Qvzy9KKShKLS7WLcgvKM1JLALSxSXF-sUllTmp-uUFBQA.css" media="all" /><script type="text/javascript" src="http://leetcode.com/wp-content/cache/minify/000000/LYtrDsMgDIMvRBZN632m8BBQQeiSVBu3H532w3LsfH7g_jqTTHfHHEGNBISscsZdV6OyHkFoDgadbPSBUnNpS5bkYnrlP3Bbp3sfEAZbYkMrqSdFf8Y4_VDFZ-WAuQ1PzW0YRu8LA0lHm7_thhSXgye58hc.js"></script><meta
http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta
name="viewport" content="width=device-width, initial-scale=1.0" /><title>Construct Binary Tree From Inorder and Preorder/Postorder Traversal | LeetCode</title><link
rel="pingback" href="http://leetcode.com/xmlrpc.php" /><link
rel="shortcut icon" href="http://leetcode.com/wp-content/themes/buddyboss-child/_inc/images/favicon.ico" type="image/x-icon"><link
rel="alternate" type="application/rss+xml" title="LeetCode &raquo; Feed" href="http://leetcode.com/feed" /><link
rel="alternate" type="application/rss+xml" title="LeetCode &raquo; Comments Feed" href="http://leetcode.com/comments/feed" /><link
rel="alternate" type="application/rss+xml" title="LeetCode &raquo; Construct Binary Tree From Inorder and Preorder/Postorder Traversal Comments Feed" href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html/feed" /><link
rel='stylesheet' id='gdsr_style_main-css'  href='http://leetcode.com/wp-content/plugins/gd-star-rating/css/gdsr.css.php?t=1366376824&#038;s=a05i05m20k20c05r05%23121620243046%23121620243240%23s1pchristmas%23s1pcrystal%23s1pdarkness%23s1poxygen%23s1goxygen_gif%23s1pplain%23s1ppumpkin%23s1psoft%23s1pstarrating%23s1pstarscape%23t1pclassical%23t1pstarrating%23t1gstarrating_gif%23lsgflower%23lsgradar&#038;o=off&#038;ver=1.9.22' type='text/css' media='all' /><script type='text/javascript'>
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"2.2.0","is_admin":"0","ajaxurl":"http:\/\/leetcode.com\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script><script type='text/javascript'>
/* <![CDATA[ */
var BP_DTheme = {"my_favs":"My Likes","accepted":"Accepted","rejected":"Rejected","show_all_comments":"Show all comments for this thread","show_all":"Show all","comments":"comments","close":"Close","view":"View","mark_as_fav":"Like","remove_fav":"Unlike","add_photo":"Add Photo","cancel":"Cancel","failed":"Failed","person":"person","people":"people","like":"like","likes":"likes","this_1":"this"};
/* ]]> */
</script><link
rel='prev' title='The Painter&#8217;s Partition Problem Part II' href='http://leetcode.com/2011/04/the-painters-partition-problem-part-ii.html' /><link
rel='next' title='Determine If Two Rectangles Overlap' href='http://leetcode.com/2011/05/determine-if-two-rectangles-overlap.html' /><link
rel='canonical' href='http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html' /><link
rel='shortlink' href='http://leetcode.com/?p=612' /><script type="text/javascript">var ajaxurl = 'http://leetcode.com/wp-admin/admin-ajax.php';</script><style type='text/css'>#sidebar span.collapsing.archives {
        border:0;
        padding:0; 
        margin:0; 
        cursor:pointer;
} 

#sidebar span.monthCount, span.yearCount {text-decoration:none; color:#333}
#sidebar li.collapsing.archives a.self {font-weight:bold}
#sidebar ul.collapsing.archives.list ul.collapsing.archives.list:before {content:\'\';} 
#sidebar ul.collapsing.archives.list li.collapsing.archives:before {content:\'\';} 
#sidebar ul.collapsing.archives.list li.collapsing.archives {list-style-type:none}
#sidebar ul.collapsing.archives.list li {
       margin:0 0 0 .8em;
       text-indent:-1em}
#sidebar ul.collapsing.archives.list li.collapsing.archives.item:before {content: \'\\00BB \\00A0\' !important;} 
#sidebar ul.collapsing.archives.list li.collapsing.archives .sym {
   font-size:1.2em;
   font-family:Monaco, \'Andale Mono\', \'FreeMono\', \'Courier new\', \'Courier\', monospace;
   cursor:pointer;
    padding-right:15px;}
#sidebar ul.collapsing.archives.list span.collapsing.archives.collapse .sym {
    background-image: url(/wp-content/plugins/collapsing-archives/img/list-collapse.gif);
}
#sidebar ul.collapsing.archives.list span.collapsing.archives.expand .sym {
    background-image: url(/wp-content/plugins/collapsing-archives/img/list-expand.gif);
}</style><script type="text/javascript">
//<![CDATA[
var gdsr_cnst_nonce = "344a153a23";
var gdsr_cnst_ajax = "http://leetcode.com/wp-content/plugins/gd-star-rating/ajax.php";
var gdsr_cnst_button = 1;
var gdsr_cnst_cache = 0;
// ]]>
</script><!--[if IE]><style type="text/css">.ratemulti .starsbar .gdcurrent { -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=70)"; filter: alpha(opacity=70); }</style><![endif]--> <script type="text/javascript">
    /* <![CDATA[ */				
	jQuery.post('http://leetcode.com/wp-admin/admin-ajax.php', {action: 'wpp_update', token: '6117d36efc', id: 612}, function(data){/*alert(data);*/});
    /* ]]> */
</script><style type="text/css" media="print">#wpadminbar { display:none; }</style><style type="text/css" media="screen">
	html { margin-top: 28px !important; }
	* html body { margin-top: 28px !important; }
</style><script type="text/javascript"> jQuery(document).ready( function() { jQuery("a.confirm").click( function() { if ( confirm( 'Are you sure?' ) ) return true; else return false; }); });</script></head><body
class="single single-post postid-612 single-format-standard admin-bar no-customize-support no-js buddyboss-active-pics buddyboss-active-wall admin-bar" id="bp-default"> <!--[if lte IE 6]><script src="http://leetcode.com/wp-content/themes/buddyboss/_inc/js/ie6/warning.js"></script><script>window.onload=function(){e("http://leetcode.com/wp-content/themes/buddyboss-child/_inc/js/ie6/")}</script><![endif]--><script type="text/javascript">//<![CDATA[
(function(){var c=document.body.className;c=c.replace(/no-js/,'js');document.body.className=c;})();
//]]></script><div
id="top-hdr-bg"></div><div
class="menu-bg"></div><div
id="wrapper"><div
id="header"><div
class="padder"><div
id="logo"> <a
href="http://leetcode.com" title="Home"><img
src="http://leetcode.com/wp-content/uploads/2012/12/leetcodelogo.png"/></a></div><div
class="menu-bg"></div><ul
class="sf-menu"><li
class="page_item page-item-2"><a
href="http://leetcode.com/about">About</a></li><li
class="page_item page-item-908"><a
href="http://leetcode.com/activity">Activity</a></li><li
class="page_item page-item-1466"><a
href="http://leetcode.com/discuss">Discuss</a></li><li
class="page_item page-item-1658"><a
href="http://leetcode.com/donate">Donate</a></li><li
class="page_item page-item-907"><a
href="http://leetcode.com/members">Members</a></li><li
class="page_item page-item-370"><a
href="http://leetcode.com/onlinejudge">Online Judge</a></li></ul></div></div><div
id="container"><div
id="content" class="two_column"><div
class="padder"><div
class="page" id="blog-single" role="main"><div
id="post-612" class="post-612 post type-post status-publish format-standard hentry category-binary-tree"><div
class="author-box"> <img
src="http://leetcode.com/wp-content/uploads/avatars/8268/2ffa5b26dd039dec008aa06ddae07ec0-bpthumb.jpg" alt="Avatar of 1337c0d3r" class="avatar user-8268-avatar" width="50" height="50" /><p>by <a
rel="author" href="http://leetcode.com/members/admin/" title="1337c0d3r">1337c0d3r</a></p></div><div
class="post-content"><h2 class="posttitle">Construct Binary Tree From Inorder and Preorder/Postorder Traversal</h2><p
class="date"> April 20, 2011 <span>in <a
href="http://leetcode.com/category/binary-tree" title="View all posts in binary tree" rel="category tag">binary tree</a></span> <span
class="post-utility alignright"></span></p><div
class="entry"><blockquote><p>Given preorder and inorder traversal of a tree, construct the binary tree.</p></blockquote><p><span
id="more-612"></span><br
/> <strong>Hint:</strong><br
/> A good way to attempt this question is to work backwards. Approach this question by drawing a binary tree, then list down its preorder and inorder traversal. As most binary tree problems, you want to solve this recursively.</p><p><strong>About Duplicates:</strong><br
/> In this solution, we will assume that duplicates are not allowed in the binary tree. Why?</p><p>Consider the following case:</p><pre>preorder = {<span style="color: maroon">7</span>, <span style="color: maroon">7</span>}
inorder = {<span style="color: maroon">7</span>, <span style="color: maroon">7</span>}</pre><p>We can construct the following trees which are both perfectly valid solutions.</p><pre>  <span style="color: maroon">7</span>                     <span style="color: maroon">7</span>
 /           <strong>or</strong>          \
<span style="color: maroon">7</span>                         <span style="color: maroon">7</span></pre><p>Clearly, there would be ambiguity in constructing the tree if duplicates were allowed.</p><p><strong>Solution:</strong><br
/> Let us look at this example tree.</p><pre>        _______<span style="color: maroon">7</span>______
       /              \
    __<span style="color: maroon">10</span>__          ___<span style="color: maroon">2</span>
   /      \        /
   <span style="color: maroon">4</span>       <span style="color: maroon">3</span>      _<span style="color: maroon">8</span>
            \    /
             <span style="color: maroon">1</span>  <span style="color: maroon">11</span></pre><p>The preorder and inorder traversals for the binary tree above is:</p><pre>preorder = {<span style="color: maroon">7</span>,<span style="color: maroon">10</span>,<span style="color: maroon">4</span>,<span style="color: maroon">3</span>,<span style="color: maroon">1</span>,<span style="color: maroon">2</span>,<span style="color: maroon">8</span>,<span style="color: maroon">11</span>}
inorder = {<span style="color: maroon">4</span>,<span style="color: maroon">10</span>,<span style="color: maroon">3</span>,<span style="color: maroon">1</span>,<span style="color: maroon">7</span>,<span style="color: maroon">11</span>,<span style="color: maroon">8</span>,<span style="color: maroon">2</span>}</pre><p>The crucial observation to this problem is <em>the tree&#8217;s root always coincides with the first element in preorder traversal</em>. This must be true because in preorder traversal you always traverse the root node before its children. The root node&#8217;s value appear to be <strong><span
style="color: maroon">7</span></strong> from the binary tree above.</p><p>We easily find that <strong><span
style="color: maroon">7</span></strong> appears as the 4<sup>th</sup> index in the inorder sequence. (Notice that earlier we assumed that duplicates are not allowed in the tree, so there would be no ambiguity). For inorder traversal, we visit the left subtree first, then root node, and followed by the right subtree. Therefore, all elements left of <strong><span
style="color: maroon">7</span></strong> must be in the left subtree and all elements to the right must be in the right subtree.</p><p>We see a clear recursive pattern from the above observation. After creating the root node (<strong><span
style="color: maroon">7</span></strong>), we construct its left and right subtree from inorder traversal of {<span
style="color: maroon">4</span>, <span
style="color: maroon">10</span>, <span
style="color: maroon">3</span>, <span
style="color: maroon">1</span>} and {<span
style="color: maroon">11</span>, <span
style="color: maroon">8</span>, <span
style="color: maroon">2</span>} respectively. We also need its corresponding preorder traversal which could be found in a similar fashion. If you remember, preorder traversal follows the sequence of root node, left subtree and followed by right subtree. Therefore, the left and right subtree&#8217;s postorder traversal must be {<span
style="color: maroon">10</span>, <span
style="color: maroon">4</span>, <span
style="color: maroon">3</span>, <span
style="color: maroon">1</span>} and {<span
style="color: maroon">2</span>, <span
style="color: maroon">8</span>, <span
style="color: maroon">11</span>} respectively. Since the left and right subtree are binary trees in their own right, we can solve recursively!</p><p>We left out some details on how we search the root value&#8217;s index in the inorder sequence. How about a simple <em>linear search</em>? If we assume that the constructed binary tree is always balanced, then we can guarantee the run time complexity to be O(<em>N</em> log <em>N</em>), where <em>N</em> is the number of nodes. However, this is not necessarily the case and the constructed binary tree can be skewed to the left/right, which has the worst complexity of O(<em>N</em><sup>2</sup>).</p><p>A more efficient way is to eliminate the search by using an efficient look-up mechanism such as <em>hash table</em>. By hashing an element&#8217;s value to its corresponding index in the inorder sequence, we can do look-ups in constant time. Now, we need only O(<em>N</em>) time to construct the tree, which theoretically is the most efficient way.</p><p>For illustration purpose, the below code uses a simple array for table look-up, which is restricted to elements of 0 to 255 only. You should be able to extend it easily to use a hash table.</p><div
id="crayon-52a3f555c7d09" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-mac print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 16px !important;">
const int MAX = 256;
// a fast lookup for inorder's element -&gt; index
// binary tree's element must be in the range of [0, MAX-1]
int mapIndex[MAX];
void mapToIndices(int inorder[], int n) {
  for (int i = 0; i &lt; n; i++) {
    assert(0 &lt;= inorder[i] &amp;&amp; inorder[i] &lt;= MAX-1);
    mapIndex[inorder[i]] = i;
  }
}

// precondition: mapToIndices must be called before entry
Node *buildInorderPreorder(int in[], int pre[], int n, int offset) {
  assert(n &gt;= 0);
  if (n == 0) return NULL;
  int rootVal = pre[0];
  int i = mapIndex[rootVal]-offset;  // the divider's index
  Node *root = new Node(rootVal);
  root-&gt;left = buildInorderPreorder(in, pre+1, i, offset);
  root-&gt;right = buildInorderPreorder(in+i+1, pre+i+1, n-i-1, offset+i+1);
  return root;
}</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="hide"><div
class="crayon-nums-content" style="font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-num" data-line="crayon-52a3f555c7d09-1">1</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555c7d09-2">2</div><div
class="crayon-num" data-line="crayon-52a3f555c7d09-3">3</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555c7d09-4">4</div><div
class="crayon-num" data-line="crayon-52a3f555c7d09-5">5</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555c7d09-6">6</div><div
class="crayon-num" data-line="crayon-52a3f555c7d09-7">7</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555c7d09-8">8</div><div
class="crayon-num" data-line="crayon-52a3f555c7d09-9">9</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555c7d09-10">10</div><div
class="crayon-num" data-line="crayon-52a3f555c7d09-11">11</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555c7d09-12">12</div><div
class="crayon-num" data-line="crayon-52a3f555c7d09-13">13</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555c7d09-14">14</div><div
class="crayon-num" data-line="crayon-52a3f555c7d09-15">15</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555c7d09-16">16</div><div
class="crayon-num" data-line="crayon-52a3f555c7d09-17">17</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555c7d09-18">18</div><div
class="crayon-num" data-line="crayon-52a3f555c7d09-19">19</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555c7d09-20">20</div><div
class="crayon-num" data-line="crayon-52a3f555c7d09-21">21</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555c7d09-22">22</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-line" id="crayon-52a3f555c7d09-1"><span
class="m">const</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="v">MAX</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="cn">256</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555c7d09-2"><span
class="c">// a fast lookup for inorder's element -&gt; index</span></div><div
class="crayon-line" id="crayon-52a3f555c7d09-3"><span
class="c">// binary tree's element must be in the range of [0, MAX-1]</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555c7d09-4"><span
class="t">int</span><span
class="h"> </span><span
class="v">mapIndex</span><span
class="sy">[</span><span
class="i">MAX</span><span
class="sy">]</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f555c7d09-5"><span
class="t">void</span><span
class="h"> </span><span
class="e">mapToIndices</span><span
class="sy">(</span><span
class="t">int</span><span
class="h"> </span><span
class="v">inorder</span><span
class="sy">[</span><span
class="sy">]</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555c7d09-6"><span
class="h">&nbsp;&nbsp;</span><span
class="st">for</span><span
class="h"> </span><span
class="sy">(</span><span
class="t">int</span><span
class="h"> </span><span
class="v">i</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="cn">0</span><span
class="sy">;</span><span
class="h"> </span><span
class="i">i</span><span
class="h"> </span><span
class="o">&lt;</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">;</span><span
class="h"> </span><span
class="i">i</span><span
class="o">++</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f555c7d09-7"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">assert</span><span
class="sy">(</span><span
class="cn">0</span><span
class="h"> </span><span
class="o">&lt;=</span><span
class="h"> </span><span
class="v">inorder</span><span
class="sy">[</span><span
class="i">i</span><span
class="sy">]</span><span
class="h"> </span><span
class="o">&amp;&amp;</span><span
class="h"> </span><span
class="v">inorder</span><span
class="sy">[</span><span
class="i">i</span><span
class="sy">]</span><span
class="h"> </span><span
class="o">&lt;=</span><span
class="h"> </span><span
class="i">MAX</span><span
class="o">-</span><span
class="cn">1</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555c7d09-8"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">mapIndex</span><span
class="sy">[</span><span
class="v">inorder</span><span
class="sy">[</span><span
class="i">i</span><span
class="sy">]</span><span
class="sy">]</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">i</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f555c7d09-9"><span
class="h">&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555c7d09-10"><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3f555c7d09-11">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555c7d09-12"><span
class="c">// precondition: mapToIndices must be called before entry</span></div><div
class="crayon-line" id="crayon-52a3f555c7d09-13"><span
class="e ">Node *</span><span
class="e">buildInorderPreorder</span><span
class="sy">(</span><span
class="t">int</span><span
class="h"> </span><span
class="st">in</span><span
class="sy">[</span><span
class="sy">]</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="v">pre</span><span
class="sy">[</span><span
class="sy">]</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="i">offset</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555c7d09-14"><span
class="h">&nbsp;&nbsp;</span><span
class="st">assert</span><span
class="sy">(</span><span
class="i">n</span><span
class="h"> </span><span
class="o">&gt;=</span><span
class="h"> </span><span
class="cn">0</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f555c7d09-15"><span
class="h">&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="v">n</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="cn">0</span><span
class="sy">)</span><span
class="h"> </span><span
class="st">return</span><span
class="h"> </span><span
class="t">NULL</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555c7d09-16"><span
class="h">&nbsp;&nbsp;</span><span
class="t">int</span><span
class="h"> </span><span
class="v">rootVal</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="v">pre</span><span
class="sy">[</span><span
class="cn">0</span><span
class="sy">]</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f555c7d09-17"><span
class="h">&nbsp;&nbsp;</span><span
class="t">int</span><span
class="h"> </span><span
class="v">i</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="v">mapIndex</span><span
class="sy">[</span><span
class="i">rootVal</span><span
class="sy">]</span><span
class="o">-</span><span
class="i">offset</span><span
class="sy">;</span><span
class="h">&nbsp;&nbsp;</span><span
class="c">// the divider's index</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555c7d09-18"><span
class="h">&nbsp;&nbsp;</span><span
class="e ">Node *</span><span
class="v">root</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="r">new</span><span
class="h"> </span><span
class="e">Node</span><span
class="sy">(</span><span
class="i">rootVal</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f555c7d09-19"><span
class="h">&nbsp;&nbsp;</span><span
class="i">root</span><span
class="o">-&gt;</span><span
class="v">left</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="e">buildInorderPreorder</span><span
class="sy">(</span><span
class="st">in</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">pre</span><span
class="o">+</span><span
class="cn">1</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">i</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">offset</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555c7d09-20"><span
class="h">&nbsp;&nbsp;</span><span
class="i">root</span><span
class="o">-&gt;</span><span
class="v">right</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="e">buildInorderPreorder</span><span
class="sy">(</span><span
class="st">in</span><span
class="o">+</span><span
class="i">i</span><span
class="o">+</span><span
class="cn">1</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">pre</span><span
class="o">+</span><span
class="i">i</span><span
class="o">+</span><span
class="cn">1</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">n</span><span
class="o">-</span><span
class="i">i</span><span
class="o">-</span><span
class="cn">1</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">offset</span><span
class="o">+</span><span
class="i">i</span><span
class="o">+</span><span
class="cn">1</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f555c7d09-21"><span
class="h">&nbsp;&nbsp;</span><span
class="st">return</span><span
class="h"> </span><span
class="i">root</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555c7d09-22"><span
class="sy">}</span></div></div></td></tr></table></div></div><p>Now, if we are given<em> inorder and postorder</em> traversal, can we construct the binary tree?</p><p>The answer is yes, using very similar approach as above. Below is the code:</p><div
id="crayon-52a3f555c7dbf" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-mac print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 16px !important;">
// precondition: mapToIndices must be called before entry
Node *buildInorderPostorder(int in[], int post[], int n, int offset) {
  assert(n &gt;= 0);
  if (n == 0) return NULL;
  int rootVal = post[n-1];
  int i = mapIndex[rootVal]-offset;  // the divider's index
  Node *root = new Node(rootVal);
  root-&gt;left = buildInorderPostorder(in, post, i, offset);
  root-&gt;right = buildInorderPostorder(in+i+1, post+i, n-i-1, offset+i+1);
  return root;
}</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="hide"><div
class="crayon-nums-content" style="font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-num" data-line="crayon-52a3f555c7dbf-1">1</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555c7dbf-2">2</div><div
class="crayon-num" data-line="crayon-52a3f555c7dbf-3">3</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555c7dbf-4">4</div><div
class="crayon-num" data-line="crayon-52a3f555c7dbf-5">5</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555c7dbf-6">6</div><div
class="crayon-num" data-line="crayon-52a3f555c7dbf-7">7</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555c7dbf-8">8</div><div
class="crayon-num" data-line="crayon-52a3f555c7dbf-9">9</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555c7dbf-10">10</div><div
class="crayon-num" data-line="crayon-52a3f555c7dbf-11">11</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-line" id="crayon-52a3f555c7dbf-1"><span
class="c">// precondition: mapToIndices must be called before entry</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555c7dbf-2"><span
class="e ">Node *</span><span
class="e">buildInorderPostorder</span><span
class="sy">(</span><span
class="t">int</span><span
class="h"> </span><span
class="st">in</span><span
class="sy">[</span><span
class="sy">]</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="v">post</span><span
class="sy">[</span><span
class="sy">]</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="i">offset</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f555c7dbf-3"><span
class="h">&nbsp;&nbsp;</span><span
class="st">assert</span><span
class="sy">(</span><span
class="i">n</span><span
class="h"> </span><span
class="o">&gt;=</span><span
class="h"> </span><span
class="cn">0</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555c7dbf-4"><span
class="h">&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="v">n</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="cn">0</span><span
class="sy">)</span><span
class="h"> </span><span
class="st">return</span><span
class="h"> </span><span
class="t">NULL</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f555c7dbf-5"><span
class="h">&nbsp;&nbsp;</span><span
class="t">int</span><span
class="h"> </span><span
class="v">rootVal</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="v">post</span><span
class="sy">[</span><span
class="i">n</span><span
class="o">-</span><span
class="cn">1</span><span
class="sy">]</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555c7dbf-6"><span
class="h">&nbsp;&nbsp;</span><span
class="t">int</span><span
class="h"> </span><span
class="v">i</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="v">mapIndex</span><span
class="sy">[</span><span
class="i">rootVal</span><span
class="sy">]</span><span
class="o">-</span><span
class="i">offset</span><span
class="sy">;</span><span
class="h">&nbsp;&nbsp;</span><span
class="c">// the divider's index</span></div><div
class="crayon-line" id="crayon-52a3f555c7dbf-7"><span
class="h">&nbsp;&nbsp;</span><span
class="e ">Node *</span><span
class="v">root</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="r">new</span><span
class="h"> </span><span
class="e">Node</span><span
class="sy">(</span><span
class="i">rootVal</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555c7dbf-8"><span
class="h">&nbsp;&nbsp;</span><span
class="i">root</span><span
class="o">-&gt;</span><span
class="v">left</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="e">buildInorderPostorder</span><span
class="sy">(</span><span
class="st">in</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">post</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">i</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">offset</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f555c7dbf-9"><span
class="h">&nbsp;&nbsp;</span><span
class="i">root</span><span
class="o">-&gt;</span><span
class="v">right</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="e">buildInorderPostorder</span><span
class="sy">(</span><span
class="st">in</span><span
class="o">+</span><span
class="i">i</span><span
class="o">+</span><span
class="cn">1</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">post</span><span
class="o">+</span><span
class="i">i</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">n</span><span
class="o">-</span><span
class="i">i</span><span
class="o">-</span><span
class="cn">1</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">offset</span><span
class="o">+</span><span
class="i">i</span><span
class="o">+</span><span
class="cn">1</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555c7dbf-10"><span
class="h">&nbsp;&nbsp;</span><span
class="st">return</span><span
class="h"> </span><span
class="i">root</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f555c7dbf-11"><span
class="sy">}</span></div></div></td></tr></table></div></div><p><strong><span
style="color: red">Further Thoughts:</span></strong></p><ol><li>If we are given <em>preorder and postorder</em> traversal, can we construct the binary tree? Why or why not?</li><li>Given<em> preorder, inorder, and postorder</em> traversal, how can you verify if these traversals are referring to the <em>exact same</em> binary tree?</li><li>Remember from my earlier post: <a
href="http://www.leetcode.com/2010/09/serializationdeserialization-of-binary.html">Serialization/Deserialization of a Binary Tree</a>? It is trivial to see this as an alternative method to serialize/deserialize a binary tree. <img
src='http://leetcode.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /></li></ol><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="ratingblock "><div
class="ratingheader "></div><div
class="ratingstars "><div
id="article_rater_612" class="ratepost gdsr-oxygen gdsr-size-24"><div
class="starsbar gdsr-size-24"><div
class="gdouter gdheight"><div
id="gdr_vote_a612" style="width: 111.42857142857px;" class="gdinner gdheight"></div><div
id="gdr_stars_a612" class="gdsr_rating_as"><a
id="gdsrX612X5X0XaXarticle_rater_612Xarticle_loader_612X10X24" title="5 / 5" class="s5" rel="nofollow"></a><a
id="gdsrX612X4X0XaXarticle_rater_612Xarticle_loader_612X10X24" title="4 / 5" class="s4" rel="nofollow"></a><a
id="gdsrX612X3X0XaXarticle_rater_612Xarticle_loader_612X10X24" title="3 / 5" class="s3" rel="nofollow"></a><a
id="gdsrX612X2X0XaXarticle_rater_612Xarticle_loader_612X10X24" title="2 / 5" class="s2" rel="nofollow"></a><a
id="gdsrX612X1X0XaXarticle_rater_612Xarticle_loader_612X10X24" title="1 / 5" class="s1" rel="nofollow"></a></div></div></div></div><div
id="article_loader_612" style="display: none; width: 120px " class="ratingloaderarticle"><div
class="loader radar " style="height: 24px"><div
class="loaderinner" style="padding-top: 2px">please wait...</div></div></div></div><div
class="ratingtext "><div
id="gdr_text_a612">Rating: 4.6/<strong>5</strong> (14 votes cast)</div></div></div><span
class="hreview-aggregate"><span
class="item"><span
class="fn">Construct Binary Tree From Inorder and Preorder/Postorder Traversal</span></span>, <span
class="rating"><span
class="average">4.6</span> out of <span
class="best">5</span> based on <span
class="votes">14</span> ratings <span
class="summary"></span></span></span></div><p
class="postmetadata">&nbsp;</p><div
class="alignleft"><a
href="http://leetcode.com/2011/04/the-painters-partition-problem-part-ii.html" rel="prev"><span
class="meta-nav">&larr;</span> The Painter&#8217;s Partition Problem Part II</a></div><div
class="alignright"><a
href="http://leetcode.com/2011/05/determine-if-two-rectangles-overlap.html" rel="next">Determine If Two Rectangles Overlap <span
class="meta-nav">&rarr;</span></a></div></div></div><div
id="comments"><h3> 53 responses to <em>Construct Binary Tree From Inorder and Preorder/Postorder Traversal</em></h3><ol
class="commentlist"><li
class="comment even thread-even depth-1" id="comment-861"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/eec4f5e47c59ecf670da4e7d08df33df?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">speeddy</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-861"><span
class="time-since">April 20, 2011</span></a></p></div><div
class="comment-entry"><p>The post order could already recover the whole tree. While need inorder and post order together?</p><p>In your Serialization/Deserialization of a Binary Tree, you also just use post order to recover. .</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_861_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_861_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX861XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_861_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_861_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX861XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_861_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=861#respond' onclick='return addComment.moveForm("comment-861", "861", "respond", "612")'>Reply</a></div></div><ul
class='children'><li
class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="comment-865"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/admin/" rel="nofollow"> <img
src="http://leetcode.com/wp-content/uploads/avatars/8268/2ffa5b26dd039dec008aa06ddae07ec0-bpthumb.jpg" alt="Avatar Image" class="avatar user-8268-avatar" width="25" height="25" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/admin/" rel="nofollow">1337c0d3r</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-865"><span
class="time-since">April 20, 2011</span></a></p></div><div
class="comment-entry"><p>Postorder alone could not construct the binary tree, unless it is a sorted binary tree (BST). My example above purposely used an unordered binary tree to avoid assumption that the binary tree is sorted. To serialize/deserialize using preorder/postorder alone you have to store extra sentinels along with the nodes&#8217; value.</p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_865_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_865_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX865XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_865_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_865_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX865XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_865_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=865#respond' onclick='return addComment.moveForm("comment-865", "865", "respond", "612")'>Reply</a></div></div></li></ul></li><li
class="comment even thread-odd thread-alt depth-1" id="comment-864"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/cef6a6a012219e79b913ee34b0e1337b?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">Kyle</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-864"><span
class="time-since">April 20, 2011</span></a></p></div><div
class="comment-entry"><p>Can you clarify what exactly the offset and divider&#8217;s index are and their importance to the algorithm?</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_864_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_864_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX864XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_864_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_864_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX864XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_864_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=864#respond' onclick='return addComment.moveForm("comment-864", "864", "respond", "612")'>Reply</a></div></div><ul
class='children'><li
class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="comment-866"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/admin/" rel="nofollow"> <img
src="http://leetcode.com/wp-content/uploads/avatars/8268/2ffa5b26dd039dec008aa06ddae07ec0-bpthumb.jpg" alt="Avatar Image" class="avatar user-8268-avatar" width="25" height="25" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/admin/" rel="nofollow">1337c0d3r</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-866"><span
class="time-since">April 20, 2011</span></a></p></div><div
class="comment-entry"><p>The divider&#8217;s index is just the index of the root value in the inorder sequence.</p><p>The offset is used for the mapIndex[] array only. mapIndex[] array maps a value to index in the inorder array. However, when we separate the tree into its right subtree, the corresponding inorder subarray is passed in as in+i+1. This alters the original index of the array and it won&#8217;t work if we use mapIndex[] directly. Therefore, we need to record the offset from the original array.</p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_866_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_866_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX866XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_866_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_866_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX866XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_866_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=866#respond' onclick='return addComment.moveForm("comment-866", "866", "respond", "612")'>Reply</a></div></div></li></ul></li><li
class="comment even thread-even depth-1" id="comment-1145"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/ebd9b015fcc2f5513871249234d63ead?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">Sudhanshu</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-1145"><span
class="time-since">May 25, 2011</span></a></p></div><div
class="comment-entry"><p>What is the offset initially be called with. Can you pls provide the call method parameters.<br
/> Thanks</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_1145_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_1145_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX1145XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_1145_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_1145_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX1145XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_1145_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=1145#respond' onclick='return addComment.moveForm("comment-1145", "1145", "respond", "612")'>Reply</a></div></div><ul
class='children'><li
class="comment odd alt depth-2" id="comment-1146"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://analgorithmaday.blogspot.com/" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/4dedf0fb77150a732265d94868889137?s=25&amp;d=identicon&amp;r=G' class='avatar avatar-25 photo' height='25' width='25' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://analgorithmaday.blogspot.com/" rel="nofollow">Pushparajan</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-1146"><span
class="time-since">May 26, 2011</span></a></p></div><div
class="comment-entry"><p>the initial offset should be zero.. the offset+i+1 is done since in+i+1 is done. Since we start with in+i+1, our indexes should be -(i+1).</p><p>For implementation without offset and mapIndex <a
href="http://analgorithmaday.blogspot.com/2011/05/construct-binary-tree-from-pre-order.html" rel="nofollow"> check here</a></p><p>But obviously, its slower than map version. <img
src='http://leetcode.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /></p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_1146_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 1 down">-1</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_1146_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX1146XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_1146_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_1146_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX1146XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_1146_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=1146#respond' onclick='return addComment.moveForm("comment-1146", "1146", "respond", "612")'>Reply</a></div></div></li></ul></li><li
class="comment even thread-odd thread-alt depth-1" id="comment-1245"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://1.gravatar.com/avatar/154859edca32a7331a3701ecc0498117?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">raullen</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-1245"><span
class="time-since">June 9, 2011</span></a></p></div><div
class="comment-entry"><p>Contribute my code :</p><p>#include<br
/> #include</p><p>using namespace std;</p><p>struct node{<br
/> node* left;<br
/> node* right;<br
/> int   data;<br
/> };</p><p>node* root;</p><p>void buildtree(node *b, int left_selected ,int* preorder, int* inorder){</p><p> int preorder_1[8] = {-1,-1,-1,-1,-1,-1,-1,-1};<br
/> int preorder_2[8] = {-1,-1,-1,-1,-1,-1,-1,-1};<br
/> int inorder_1[8]  = {-1,-1,-1,-1,-1,-1,-1,-1};<br
/> int inorder_2[8]  = {-1,-1,-1,-1,-1,-1,-1,-1};<br
/> int i, j, k1, k2;</p><p> //insert preorder[0];<br
/> if(b==NULL){<br
/> root = b = new node;<br
/> b-&gt;data = preorder[0];<br
/> b-&gt;left = b-&gt;right = NULL;<br
/> }<br
/> else{<br
/> node* tmp = new node;<br
/> tmp-&gt;data = preorder[0];<br
/> tmp-&gt;left = tmp-&gt;right = NULL;<br
/> if(left_selected)<br
/> b-&gt;left = tmp;<br
/> else<br
/> b-&gt;right = tmp;<br
/> b = tmp;<br
/> }</p><p> i = 0;<br
/> while(inorder[i] != preorder[0]){<br
/> inorder_1[i] = inorder[i];<br
/> i++;<br
/> }</p><p> i++;<br
/> j = 0;<br
/> while(inorder[i] != -1 ){<br
/> inorder_2[j] = inorder[i];<br
/> j++;<br
/> i++;<br
/> }</p><p> i = j = k1 = k2 = 0;<br
/> while(preorder[i] != -1 ){</p><p> i++;<br
/> int flag = false;<br
/> j = 0;<br
/> while(inorder_1[j] != -1 ){<br
/> if (inorder_1[j] == preorder[i]){<br
/> flag = true;<br
/> break;<br
/> }<br
/> j++;<br
/> }</p><p> if(flag){<br
/> preorder_1[k1] = preorder[i];<br
/> k1++;<br
/> }<br
/> else{<br
/> preorder_2[k2] = preorder[i];<br
/> k2++;<br
/> }</p><p> }</p><p> if(preorder_1[0] != -1)<br
/> buildtree(b, 1, preorder_1, inorder_1);<br
/> if(preorder_2[0] != -1)<br
/> buildtree(b, 0, preorder_2, inorder_2);</p><p>}</p><p>int main()<br
/> {<br
/> root = NULL;<br
/> int preorder[] = {7,10,4,3,1,2,8,11,-1};<br
/> int inorder[] = {4,10,3,1,7,11,8,2,-1};<br
/> buildtree(root, 1 ,preorder, inorder);</p><p> return 1;<br
/> }</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_1245_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_1245_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX1245XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_1245_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_1245_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX1245XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_1245_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=1245#respond' onclick='return addComment.moveForm("comment-1245", "1245", "respond", "612")'>Reply</a></div></div></li><li
class="comment odd alt thread-even depth-1" id="comment-1277"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/cf9f0f8bfaadded476fe933a4b6e9cd2?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">Henian</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-1277"><span
class="time-since">June 15, 2011</span></a></p></div><div
class="comment-entry"><p>Following is my codes. The same algorithm as introduced here.</p><p>template<br
/> void binaryTree::constructTreeFromPreorderInorderSets()<br
/> {<br
/> vector preorderSet;<br
/> vector inorderSet;<br
/> cout &lt;&gt; numberNodes;<br
/> cout &lt;&lt; &quot;Input preorder set one by one:&quot; &lt;&lt; endl;<br
/> T tmp;<br
/> for( int i = 0 ; i &gt; tmp;<br
/> preorderSet.push_back( tmp );<br
/> }<br
/> cout &lt;&lt; &quot;Input inorder set one by one:&quot; &lt;&lt; endl;<br
/> for( int i = 0 ; i &gt; tmp;<br
/> inorderSet.push_back( tmp );<br
/> }<br
/> int p = 0;<br
/> bool * nodeAdded = new bool[ numberNodes ];<br
/> for( int i = 0 ; i &lt; numberNodes; i ++ ) nodeAdded[i] = false;<br
/> constructTreeRecurselyInorderPreorder( 0, numberNodes-1, p, root, preorderSet, inorderSet, nodeAdded, numberNodes );<br
/> }</p><p>template<br
/> void binaryTree::constructTreeRecurselyInorderPreorder( int begin, int end, int &amp; p, treeNode * &amp; subroot, const vector &amp; preorderSet, const vector &amp; inorderSet, bool * nodeAdded, const int &amp; numberNodes )<br
/> {<br
/> if( begin &gt; end ) return;<br
/> subroot = new treeNode( preorderSet[p], NULL, NULL );<br
/> int i,j;  //position of A[p] at set B (suppose A is preorder set, B is inorder set)<br
/> //we must compare in each small segment: begin-end<br
/> for( i = begin ; i = numberNodes )<br
/> {<br
/> cerr &lt;&lt; &quot;Error:&quot; &lt;&lt; &quot;preorderSet[&quot;&lt;&lt;p&lt;&lt;&quot;]=&quot; &lt;&lt; preorderSet[p]&lt;leftChild, preorderSet, inorderSet, nodeAdded, numberNodes );<br
/> constructTreeRecurselyInorderPreorder( j+1, end, p, subroot-&gt;rightChild, preorderSet, inorderSet, nodeAdded, numberNodes );<br
/> }</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_1277_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 1 down">-1</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_1277_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX1277XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_1277_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_1277_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX1277XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_1277_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=1277#respond' onclick='return addComment.moveForm("comment-1277", "1277", "respond", "612")'>Reply</a></div></div><ul
class='children'><li
class="comment even depth-2" id="comment-16312"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/a70d1f6dbcb63c52e5f9753db5d3b556?s=25&amp;d=identicon&amp;r=G' class='avatar avatar-25 photo' height='25' width='25' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">Pratik</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-16312"><span
class="time-since">March 15, 2012</span></a></p></div><div
class="comment-entry"><p>thanks mate <img
src='http://leetcode.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /></p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_16312_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_16312_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX16312XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_16312_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_16312_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX16312XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_16312_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=16312#respond' onclick='return addComment.moveForm("comment-16312", "16312", "respond", "612")'>Reply</a></div></div></li></ul></li><li
class="comment odd alt thread-odd thread-alt depth-1" id="comment-1278"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/cf9f0f8bfaadded476fe933a4b6e9cd2?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">Henian</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-1278"><span
class="time-since">June 15, 2011</span></a></p></div><div
class="comment-entry"><p>For problem 1 &#8220;If we are given preorder and postorder traversal, can we construct the binary tree? Why or why not?&#8221;, I think the answer is no, right? I think there will be problem with leaves whose parent has only 1 child because in such case such leaf can be either left or right child.</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_1278_c" class="gdt-size-20 gdthumbtext"> <strong
title="2 up, 0 down">+2</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_1278_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX1278XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_1278_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_1278_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX1278XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_1278_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=1278#respond' onclick='return addComment.moveForm("comment-1278", "1278", "respond", "612")'>Reply</a></div></div><ul
class='children'><li
class="comment even depth-2" id="comment-1961"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://1.gravatar.com/avatar/52c9c1ad5a4721d50297cf984896ead7?s=25&amp;d=identicon&amp;r=G' class='avatar avatar-25 photo' height='25' width='25' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">lipingwu</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-1961"><span
class="time-since">August 6, 2011</span></a></p></div><div
class="comment-entry"><p>Hi,</p><p>I have different answer however. Following is my explanation. How do you think?<br
/> 1. Given preorder and postorder traversal, we can still construct the binary tree. For the preorder, the first is root node, followed by nodes of the left subtree, followed by nodes of the right subtree. For the postorder, the last is root node, in front of which they are the nodes of the right subtree, in front of which they are the nodes of the left subtree. So, the second last element in the postorder will be the root node of the right subtree. Finding the position of the root node of the right subtree in the preorder, then the preorder can be partitioned into three parts: root node,  followed by the nodes of the left subtree, followed by the nodes of the right subtree. The later two parts can be constructed into left subtree and right subtree respectively and recursively. For the post order, it can also be partitioned into three parts by coounting the number of nodes in each part. In fact, in recursion function, we always reconstruct the right subtree first and then left subtree, and decrease the index for postorder by one in each recursion. Then the index for the postorder will always point to the right element.<br
/> //Then, Therefore, we can see that we can still construct the binary tree given the preorder and postorder<br
/> //traversal.</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_1961_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_1961_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX1961XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_1961_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_1961_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX1961XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_1961_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=1961#respond' onclick='return addComment.moveForm("comment-1961", "1961", "respond", "612")'>Reply</a></div></div></li><li
class="comment odd alt depth-2" id="comment-1986"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://1.gravatar.com/avatar/52c9c1ad5a4721d50297cf984896ead7?s=25&amp;d=identicon&amp;r=G' class='avatar avatar-25 photo' height='25' width='25' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">lipingwu</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-1986"><span
class="time-since">August 8, 2011</span></a></p></div><div
class="comment-entry"><p>Henian, forget my previous post. You are right. I agree with you now.</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_1986_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_1986_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX1986XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_1986_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_1986_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX1986XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_1986_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=1986#respond' onclick='return addComment.moveForm("comment-1986", "1986", "respond", "612")'>Reply</a></div></div><ul
class='children'><li
class="comment even depth-3" id="comment-22649"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/e3ecb5e0e2dfb947a4911951483e4709?s=25&amp;d=identicon&amp;r=G' class='avatar avatar-25 photo' height='25' width='25' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">alekya</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-22649"><span
class="time-since">July 21, 2012</span></a></p></div><div
class="comment-entry"><p>i want to represent in an array and it should perform the operations of inorder ,preorder,postorder with out using linked list and with out traversal it should be in an level wise.how can i ?</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_22649_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_22649_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX22649XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_22649_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_22649_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX22649XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_22649_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=22649#respond' onclick='return addComment.moveForm("comment-22649", "22649", "respond", "612")'>Reply</a></div></div></li></ul></li></ul></li><li
class="comment odd alt thread-even depth-1" id="comment-1279"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/cf9f0f8bfaadded476fe933a4b6e9cd2?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">Henian</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-1279"><span
class="time-since">June 15, 2011</span></a></p></div><div
class="comment-entry"><p>How to answer the second question please: Given preorder, inorder, and postorder traversal, how can you verify if these traversals are referring to the exact same binary tree?</p><p>Thanks!</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_1279_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_1279_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX1279XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_1279_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_1279_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX1279XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_1279_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=1279#respond' onclick='return addComment.moveForm("comment-1279", "1279", "respond", "612")'>Reply</a></div></div><ul
class='children'><li
class="comment even depth-2" id="comment-1962"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://1.gravatar.com/avatar/52c9c1ad5a4721d50297cf984896ead7?s=25&amp;d=identicon&amp;r=G' class='avatar avatar-25 photo' height='25' width='25' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">lipingwu</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-1962"><span
class="time-since">August 6, 2011</span></a></p></div><div
class="comment-entry"><p>A preorder, inorder or postorder traversal can come from more than two different binary trees. For example, given an inorder traversal {4, 2, 5, 1, 6, 3, 7}, any element can be viewed as the root node of the binary tree, generating different binary trees. So I don&#8217;t think we can verify if these traversals are referring to the exact same binary tree.</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_1962_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_1962_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX1962XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_1962_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_1962_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX1962XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_1962_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=1962#respond' onclick='return addComment.moveForm("comment-1962", "1962", "respond", "612")'>Reply</a></div></div></li></ul></li><li
class="comment odd alt thread-odd thread-alt depth-1" id="comment-1297"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/490be0d695130ec52882134dbd4bb1a5?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">Spring Coder</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-1297"><span
class="time-since">June 17, 2011</span></a></p></div><div
class="comment-entry"><p>A little pythonic.</p><p><code><br
/> def maketree(preorder, inorder):<br
/> global tree<br
/> if len(preorder) == 0:<br
/> return None</p><p> root = preorder[0]<br
/> ind = inorder.index(root)<br
/> linorder = filter(lambda x: inorder.index(x)  ind, inorder)<br
/> lpreorder = filter(lambda x: x in linorder, preorder)<br
/> rpreorder = filter(lambda x: x in rinorder, preorder)<br
/> tree[root] = [maketree(lpreorder, linorder), maketree(rpreorder, rinorder)]<br
/> return root</p><p>tree = {}<br
/> pO = [7,10,4,3,1,2,8,11]<br
/> iO = [4,10,3,1,7,11,8,2]<br
/> maketree(pO, iO)<br
/> print tree<br
/> &lt;/code</code></p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_1297_c" class="gdt-size-20 gdthumbtext"> <strong
title="2 up, 0 down">+2</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_1297_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX1297XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_1297_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_1297_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX1297XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_1297_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=1297#respond' onclick='return addComment.moveForm("comment-1297", "1297", "respond", "612")'>Reply</a></div></div></li><li
class="comment even thread-even depth-1" id="comment-1298"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://1.gravatar.com/avatar/f745f58990e148390c8081f46270ad4c?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">Abby</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-1298"><span
class="time-since">June 17, 2011</span></a></p></div><div
class="comment-entry"><p>Can you give a logic answer for the second question?<br
/> <i>If we are given preorder and postorder traversal, can we construct the binary tree? Why or why not?</i></p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_1298_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_1298_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX1298XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_1298_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_1298_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX1298XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_1298_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=1298#respond' onclick='return addComment.moveForm("comment-1298", "1298", "respond", "612")'>Reply</a></div></div></li><li
class="comment odd alt thread-odd thread-alt depth-1" id="comment-1299"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://1.gravatar.com/avatar/f745f58990e148390c8081f46270ad4c?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">Abby</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-1299"><span
class="time-since">June 17, 2011</span></a></p></div><div
class="comment-entry"><p>Sorry, I mean *first question!</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_1299_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_1299_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX1299XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_1299_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_1299_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX1299XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_1299_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=1299#respond' onclick='return addComment.moveForm("comment-1299", "1299", "respond", "612")'>Reply</a></div></div></li><li
class="comment even thread-even depth-1" id="comment-1309"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://1.gravatar.com/avatar/facc2fad6301ceedc758a014fed3d2c3?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">Anand</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-1309"><span
class="time-since">June 17, 2011</span></a></p></div><div
class="comment-entry"><p><a
href="http://anandtechblog.blogspot.com/2011/06/construct-given-tree-from-pre-order-and.html" rel="nofollow">http://anandtechblog.blogspot.com/2011/06/construct-given-tree-from-pre-order-and.html</a></p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_1309_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_1309_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX1309XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_1309_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_1309_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX1309XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_1309_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=1309#respond' onclick='return addComment.moveForm("comment-1309", "1309", "respond", "612")'>Reply</a></div></div></li><li
class="comment odd alt thread-odd thread-alt depth-1" id="comment-1917"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://tryingout101.blogspot.com" rel="nofollow"> <img
alt='' src='http://1.gravatar.com/avatar/b1e048340627a52245285fa99047e06d?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://tryingout101.blogspot.com" rel="nofollow">tryingout</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-1917"><span
class="time-since">August 3, 2011</span></a></p></div><div
class="comment-entry"><p>I have C# variant of this code available at<br
/> <a
href="http://tryingout101.blogspot.com/2011/08/deserializing-binary-tree-from-inorder.html" rel="nofollow">http://tryingout101.blogspot.com/2011/08/deserializing-binary-tree-from-inorder.html</a></p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_1917_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_1917_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX1917XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_1917_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_1917_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX1917XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_1917_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=1917#respond' onclick='return addComment.moveForm("comment-1917", "1917", "respond", "612")'>Reply</a></div></div></li><li
class="comment even thread-even depth-1" id="comment-1970"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://1.gravatar.com/avatar/52c9c1ad5a4721d50297cf984896ead7?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">lipingwu</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-1970"><span
class="time-since">August 7, 2011</span></a></p></div><div
class="comment-entry"><p>Hi 1337,</p><p>For the second problem in further thought, I don&#8217;t think we can verify if these traversals are referring to the exact same binary tree.</p><p>A preorder, inorder or postorder traversal can come from more than two different binary trees.<br
/> For example, given an inorder traversal {4, 2, 5, 1, 6, 3, 7}, any element can be viewed as the root node of the binary tree, generating different binary trees.</p><p>How do you think?</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_1970_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_1970_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX1970XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_1970_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_1970_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX1970XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_1970_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=1970#respond' onclick='return addComment.moveForm("comment-1970", "1970", "respond", "612")'>Reply</a></div></div><ul
class='children'><li
class="comment odd alt depth-2" id="comment-2511"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://1.gravatar.com/avatar/f860f06d76728a52dce45259c5831553?s=25&amp;d=identicon&amp;r=G' class='avatar avatar-25 photo' height='25' width='25' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">moonus</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-2511"><span
class="time-since">September 5, 2011</span></a></p></div><div
class="comment-entry"><p>With preorder and inorder, we first construct a tree. Then we use postorder to print this tree, and compare the printout with our given postorder array. This way, we can verify the answer.</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_2511_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_2511_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX2511XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_2511_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_2511_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX2511XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_2511_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=2511#respond' onclick='return addComment.moveForm("comment-2511", "2511", "respond", "612")'>Reply</a></div></div></li></ul></li><li
class="comment even thread-odd thread-alt depth-1" id="comment-2512"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://1.gravatar.com/avatar/f860f06d76728a52dce45259c5831553?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">moonus</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-2512"><span
class="time-since">September 5, 2011</span></a></p></div><div
class="comment-entry"><p>The code is a little hard to understand. I have tried to copy it and run the given code myself to get a better understanding. I am not sure how many of you have done this, but after my analyse, the code to build tree from inorder and preorder will give us the tree differently, which the last node 11 is the right node of 8. Can anyone verify this?</p><p>const int TREE_SIZE = 8;<br
/> int in_order[TREE_SIZE] = {4, 10, 3, 1, 7, 8, 11, 2};<br
/> int pre_order[TREE_SIZE] = {7, 10, 4, 3, 1, 2, 8, 11};<br
/> const int MAX = 256;<br
/> int mapIndex[MAX];<br
/> for (int i = 0; i &lt; TREE_SIZE; i++)<br
/> {<br
/> mapIndex[in_order[i]] = i;<br
/> }<br
/> buildInorderPreorder( in_order, pre_order, TREE_SIZE, 0, mapIndex);</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_2512_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_2512_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX2512XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_2512_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_2512_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX2512XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_2512_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=2512#respond' onclick='return addComment.moveForm("comment-2512", "2512", "respond", "612")'>Reply</a></div></div><ul
class='children'><li
class="comment odd alt depth-2" id="comment-2513"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://1.gravatar.com/avatar/f860f06d76728a52dce45259c5831553?s=25&amp;d=identicon&amp;r=G' class='avatar avatar-25 photo' height='25' width='25' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">moonus</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-2513"><span
class="time-since">September 5, 2011</span></a></p></div><div
class="comment-entry"><p>Sorry, my bad, I apparently have used the wrong array of inorder.</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_2513_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_2513_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX2513XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_2513_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_2513_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX2513XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_2513_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=2513#respond' onclick='return addComment.moveForm("comment-2513", "2513", "respond", "612")'>Reply</a></div></div></li></ul></li><li
class="comment byuser comment-author-glacierwn even thread-even depth-1" id="comment-6685"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/glacierwn/" rel="nofollow"> <img
src="http://www.gravatar.com/avatar/8f5d546e3e57e63a9833d546c2880e84?d=identicon&amp;s=50&amp;r=G" alt="Avatar Image" class="avatar user-242-avatar" width="50" height="50" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/glacierwn/" rel="nofollow">Aaron</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-6685"><span
class="time-since">November 17, 2011</span></a></p></div><div
class="comment-entry"><p>Minor bug: The method cannot deal with duplicate bcs the mapping will only record the last occurrence of number, the latter 2 in your example tree.</p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_6685_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_6685_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX6685XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_6685_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_6685_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX6685XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_6685_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=6685#respond' onclick='return addComment.moveForm("comment-6685", "6685", "respond", "612")'>Reply</a></div></div><ul
class='children'><li
class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="comment-6686"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/admin/" rel="nofollow"> <img
src="http://leetcode.com/wp-content/uploads/avatars/8268/2ffa5b26dd039dec008aa06ddae07ec0-bpthumb.jpg" alt="Avatar Image" class="avatar user-8268-avatar" width="25" height="25" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/admin/" rel="nofollow">1337c0d3r</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-6686"><span
class="time-since">November 17, 2011</span></a></p></div><div
class="comment-entry"><p>In my post, I already mentioned: &#8220;In this solution, we will assume that duplicates are not allowed in the binary tree.&#8221;</p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_6686_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_6686_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX6686XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_6686_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_6686_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX6686XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_6686_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=6686#respond' onclick='return addComment.moveForm("comment-6686", "6686", "respond", "612")'>Reply</a></div></div></li></ul></li><li
class="comment even thread-odd thread-alt depth-1" id="comment-9776"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://www.technicalypo.com" rel="nofollow"> <img
alt='' src='http://1.gravatar.com/avatar/75fb2eaa7117adfd439f4791ba235d36?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://www.technicalypo.com" rel="nofollow">Braga</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-9776"><span
class="time-since">December 21, 2011</span></a></p></div><div
class="comment-entry"><p>Here is a Java Version of the same problem</p><p><a
href="http://www.technicalypto.com/2011/12/reconstruct-binary-tree-given-its.html" rel="nofollow">http://www.technicalypto.com/2011/12/reconstruct-binary-tree-given-its.html</a></p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_9776_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_9776_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX9776XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_9776_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_9776_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX9776XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_9776_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=9776#respond' onclick='return addComment.moveForm("comment-9776", "9776", "respond", "612")'>Reply</a></div></div></li><li
class="comment odd alt thread-even depth-1" id="comment-12827"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://1.gravatar.com/avatar/5e5fb9dd8007e44396ba8e586ddb3c88?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">SHawn</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-12827"><span
class="time-since">January 18, 2012</span></a></p></div><div
class="comment-entry"><p>Actually you can simplify it by remove argument in[ ]. Since you never actually use it in function.</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_12827_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_12827_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX12827XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_12827_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_12827_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX12827XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_12827_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=12827#respond' onclick='return addComment.moveForm("comment-12827", "12827", "respond", "612")'>Reply</a></div></div></li><li
class="comment even thread-odd thread-alt depth-1" id="comment-13640"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/4f3f313d1764e21f5dffbd5e352bb510?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">krishna priya</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-13640"><span
class="time-since">January 27, 2012</span></a></p></div><div
class="comment-entry"><p>it is too much complex!!!!</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_13640_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_13640_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX13640XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_13640_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_13640_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX13640XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_13640_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=13640#respond' onclick='return addComment.moveForm("comment-13640", "13640", "respond", "612")'>Reply</a></div></div></li><li
class="comment odd alt thread-even depth-1" id="comment-13660"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://1.gravatar.com/avatar/39dcf162e690e20bfa9b62e61a19997b?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">Attila</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-13660"><span
class="time-since">January 28, 2012</span></a></p></div><div
class="comment-entry"><p>here is a slightly simpler to understand version of your solution:</p><p>Node *buildInorderPreorder(int mapIndex[], int pre[], int lo, int hi) {<br
/> if (hi left = buildInorderPreorder(mapIndex, pre+1, lo, i);<br
/> root-&gt;right = buildInorderPreorder(mapIndex, pre+i-lo+1, i+1, hi);<br
/> return root;<br
/> }</p><p>You dont really need the array in, because the only role of in is to determine the dividers index i, but i is more efficiently determined with the hash table mapIndex.<br
/> Instead of n and offset, I think the algorithm is simpler to understand in terms of indices lo and hi. In each recursion step, the range (lo, hi) is divided into (lo,i) and (i+1,hi). The recursion ends when the range is empty.</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_13660_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_13660_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX13660XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_13660_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_13660_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX13660XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_13660_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=13660#respond' onclick='return addComment.moveForm("comment-13660", "13660", "respond", "612")'>Reply</a></div></div></li><li
class="comment even thread-odd thread-alt depth-1" id="comment-13661"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://1.gravatar.com/avatar/39dcf162e690e20bfa9b62e61a19997b?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">Attila</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-13661"><span
class="time-since">January 28, 2012</span></a></p></div><div
class="comment-entry"><p></p><div
id="crayon-52a3f555cded5" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-mac print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 16px !important;">
Node *buildInorderPreorder(int mapIndex[], int pre[], int lo, int hi) {
  if (hi left = buildInorderPreorder(mapIndex, pre+1, lo, i);
  root-&gt;right = buildInorderPreorder(mapIndex, pre+i-lo+1, i+1, hi);
  return root;
}</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="hide"><div
class="crayon-nums-content" style="font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-num" data-line="crayon-52a3f555cded5-1">1</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cded5-2">2</div><div
class="crayon-num" data-line="crayon-52a3f555cded5-3">3</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cded5-4">4</div><div
class="crayon-num" data-line="crayon-52a3f555cded5-5">5</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-line" id="crayon-52a3f555cded5-1"><span
class="e ">Node *</span><span
class="e">buildInorderPreorder</span><span
class="sy">(</span><span
class="t">int</span><span
class="h"> </span><span
class="v">mapIndex</span><span
class="sy">[</span><span
class="sy">]</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="v">pre</span><span
class="sy">[</span><span
class="sy">]</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="i">lo</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="i">hi</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cded5-2"><span
class="h">&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="e">hi </span><span
class="v">left</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="e">buildInorderPreorder</span><span
class="sy">(</span><span
class="i">mapIndex</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">pre</span><span
class="o">+</span><span
class="cn">1</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">lo</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">i</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f555cded5-3"><span
class="h">&nbsp;&nbsp;</span><span
class="i">root</span><span
class="o">-&gt;</span><span
class="v">right</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="e">buildInorderPreorder</span><span
class="sy">(</span><span
class="i">mapIndex</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">pre</span><span
class="o">+</span><span
class="i">i</span><span
class="o">-</span><span
class="i">lo</span><span
class="o">+</span><span
class="cn">1</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">i</span><span
class="o">+</span><span
class="cn">1</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">hi</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cded5-4"><span
class="h">&nbsp;&nbsp;</span><span
class="st">return</span><span
class="h"> </span><span
class="i">root</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f555cded5-5"><span
class="sy">}</span></div></div></td></tr></table></div></div><p></p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_13661_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_13661_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX13661XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_13661_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_13661_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX13661XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_13661_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=13661#respond' onclick='return addComment.moveForm("comment-13661", "13661", "respond", "612")'>Reply</a></div></div></li><li
class="comment odd alt thread-even depth-1" id="comment-15347"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/4d4c5200e64564047976e390fa9ed1cc?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">reader</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-15347"><span
class="time-since">February 27, 2012</span></a></p></div><div
class="comment-entry"><p>Has this question been <b>really</b> asked in an interview. It seems way too complicated. Am I the only one here thinking it is too much?</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_15347_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_15347_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX15347XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_15347_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_15347_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX15347XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_15347_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=15347#respond' onclick='return addComment.moveForm("comment-15347", "15347", "respond", "612")'>Reply</a></div></div></li><li
class="comment even thread-odd thread-alt depth-1" id="comment-15348"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/4d4c5200e64564047976e390fa9ed1cc?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">reader</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-15348"><span
class="time-since">February 27, 2012</span></a></p></div><div
class="comment-entry"><p>I mean even your code is not perfect.You use</p><div
id="crayon-52a3f555cdcf0" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-mac print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 16px !important;">
in</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="hide"><div
class="crayon-nums-content" style="font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-num" data-line="crayon-52a3f555cdcf0-1">1</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-line" id="crayon-52a3f555cdcf0-1"><span
class="st">in</span></div></div></td></tr></table></div></div><p> as a parameter in the methods and do pointer arithmetic passing it as argument in subsequent calls but this parameter is actually redudant and not used in the code.This makes the code not readable which IMO it is something important in an interview.</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_15348_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_15348_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX15348XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_15348_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_15348_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX15348XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_15348_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=15348#respond' onclick='return addComment.moveForm("comment-15348", "15348", "respond", "612")'>Reply</a></div></div></li><li
class="comment byuser comment-author-undermonkey odd alt thread-even depth-1" id="comment-18206"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/undermonkey/" rel="nofollow"> <img
src="http://leetcode.com/wp-content/uploads/avatars/543/9202cd7792372e2cb29fc8094ef7768a-bpthumb.jpg" alt="Avatar Image" class="avatar user-543-avatar" width="50" height="50" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/undermonkey/" rel="nofollow">UnderMonkey</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-18206"><span
class="time-since">April 12, 2012</span></a></p></div><div
class="comment-entry"><p>Hi 1337c0d3r, I found in your buildInorderPreorder, the use of the divider&#8217;s index and offset is a little complicated. Can I instead use the common (start, end) pair to specify the range? The only thing that need to be taken care of is when to increment the root&#8217;s index in the pre_order[]. The following is my code with the same algorithm. Please let me know if you find anything wrong.</p><div
id="crayon-52a3f555cdaf2" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-mac print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 16px !important;">
typedef Node* Link;

Link buildBT_InPreR(unordered_map &amp;inorderMap, int pre_order[], int start, int end, int &amp;preI) {
	if(start &gt; end) {
		return 0;
		--preI;
	}
	int parentVal = pre_order[preI];
	int parentIndex = inorderMap[parentVal];
	Link parent = new Node(parentVal);
	parent-&gt;left = buildBT_InPreR(inorderMap, pre_order, 0, parentIndex-1, ++preI);
	parent-&gt;right = buildBT_InPreR(inorderMap, pre_order, parentIndex+1, end, ++preI);
	return parent;
}

Link buildBT_InPre(int in_order[], int pre_order[], int size) {
	unordered_map inorderMap;
	for(int i = 0; i &lt; size; i++) {
		inorderMap[in_order[i]] = i;
	}
	int preI = 0;
	return buildBT_InPreR(inorderMap, pre_order, 0, size-1, preI);
}</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="hide"><div
class="crayon-nums-content" style="font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-num" data-line="crayon-52a3f555cdaf2-1">1</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cdaf2-2">2</div><div
class="crayon-num" data-line="crayon-52a3f555cdaf2-3">3</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cdaf2-4">4</div><div
class="crayon-num" data-line="crayon-52a3f555cdaf2-5">5</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cdaf2-6">6</div><div
class="crayon-num" data-line="crayon-52a3f555cdaf2-7">7</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cdaf2-8">8</div><div
class="crayon-num" data-line="crayon-52a3f555cdaf2-9">9</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cdaf2-10">10</div><div
class="crayon-num" data-line="crayon-52a3f555cdaf2-11">11</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cdaf2-12">12</div><div
class="crayon-num" data-line="crayon-52a3f555cdaf2-13">13</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cdaf2-14">14</div><div
class="crayon-num" data-line="crayon-52a3f555cdaf2-15">15</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cdaf2-16">16</div><div
class="crayon-num" data-line="crayon-52a3f555cdaf2-17">17</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cdaf2-18">18</div><div
class="crayon-num" data-line="crayon-52a3f555cdaf2-19">19</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cdaf2-20">20</div><div
class="crayon-num" data-line="crayon-52a3f555cdaf2-21">21</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cdaf2-22">22</div><div
class="crayon-num" data-line="crayon-52a3f555cdaf2-23">23</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-line" id="crayon-52a3f555cdaf2-1"><span
class="r">typedef</span><span
class="h"> </span><span
class="e ">Node*</span><span
class="h"> </span><span
class="i">Link</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cdaf2-2">&nbsp;</div><div
class="crayon-line" id="crayon-52a3f555cdaf2-3"><span
class="e">Link </span><span
class="e">buildBT_InPreR</span><span
class="sy">(</span><span
class="i">unordered_map</span><span
class="h"> </span><span
class="o">&amp;</span><span
class="i">inorderMap</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="v">pre_order</span><span
class="sy">[</span><span
class="sy">]</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="i">start</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="st">end</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="o">&amp;</span><span
class="i">preI</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cdaf2-4"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="sy">(</span><span
class="i">start</span><span
class="h"> </span><span
class="o">&gt;</span><span
class="h"> </span><span
class="st">end</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f555cdaf2-5"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">return</span><span
class="h"> </span><span
class="cn">0</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cdaf2-6"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="o">--</span><span
class="i">preI</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f555cdaf2-7"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cdaf2-8"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="t">int</span><span
class="h"> </span><span
class="v">parentVal</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="v">pre_order</span><span
class="sy">[</span><span
class="i">preI</span><span
class="sy">]</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f555cdaf2-9"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="t">int</span><span
class="h"> </span><span
class="v">parentIndex</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="v">inorderMap</span><span
class="sy">[</span><span
class="i">parentVal</span><span
class="sy">]</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cdaf2-10"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">Link </span><span
class="r">parent</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="r">new</span><span
class="h"> </span><span
class="e">Node</span><span
class="sy">(</span><span
class="i">parentVal</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f555cdaf2-11"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="r">parent</span><span
class="o">-&gt;</span><span
class="v">left</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="e">buildBT_InPreR</span><span
class="sy">(</span><span
class="i">inorderMap</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">pre_order</span><span
class="sy">,</span><span
class="h"> </span><span
class="cn">0</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">parentIndex</span><span
class="o">-</span><span
class="cn">1</span><span
class="sy">,</span><span
class="h"> </span><span
class="o">++</span><span
class="i">preI</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cdaf2-12"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="r">parent</span><span
class="o">-&gt;</span><span
class="v">right</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="e">buildBT_InPreR</span><span
class="sy">(</span><span
class="i">inorderMap</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">pre_order</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">parentIndex</span><span
class="o">+</span><span
class="cn">1</span><span
class="sy">,</span><span
class="h"> </span><span
class="st">end</span><span
class="sy">,</span><span
class="h"> </span><span
class="o">++</span><span
class="i">preI</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f555cdaf2-13"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">return</span><span
class="h"> </span><span
class="r">parent</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cdaf2-14"><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3f555cdaf2-15">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cdaf2-16"><span
class="e">Link </span><span
class="e">buildBT_InPre</span><span
class="sy">(</span><span
class="t">int</span><span
class="h"> </span><span
class="v">in_order</span><span
class="sy">[</span><span
class="sy">]</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="v">pre_order</span><span
class="sy">[</span><span
class="sy">]</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="i">size</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f555cdaf2-17"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">unordered_map </span><span
class="i">inorderMap</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cdaf2-18"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">for</span><span
class="sy">(</span><span
class="t">int</span><span
class="h"> </span><span
class="v">i</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="cn">0</span><span
class="sy">;</span><span
class="h"> </span><span
class="i">i</span><span
class="h"> </span><span
class="o">&lt;</span><span
class="h"> </span><span
class="i">size</span><span
class="sy">;</span><span
class="h"> </span><span
class="i">i</span><span
class="o">++</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f555cdaf2-19"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">inorderMap</span><span
class="sy">[</span><span
class="v">in_order</span><span
class="sy">[</span><span
class="i">i</span><span
class="sy">]</span><span
class="sy">]</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">i</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cdaf2-20"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3f555cdaf2-21"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="t">int</span><span
class="h"> </span><span
class="v">preI</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="cn">0</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cdaf2-22"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">return</span><span
class="h"> </span><span
class="e">buildBT_InPreR</span><span
class="sy">(</span><span
class="i">inorderMap</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">pre_order</span><span
class="sy">,</span><span
class="h"> </span><span
class="cn">0</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">size</span><span
class="o">-</span><span
class="cn">1</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">preI</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f555cdaf2-23"><span
class="sy">}</span></div></div></td></tr></table></div></div><p></p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_18206_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_18206_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX18206XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_18206_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_18206_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX18206XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_18206_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=18206#respond' onclick='return addComment.moveForm("comment-18206", "18206", "respond", "612")'>Reply</a></div></div></li><li
class="comment byuser comment-author-jgan even thread-odd thread-alt depth-1" id="comment-23328"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/jgan/" rel="nofollow"> <img
src="http://www.gravatar.com/avatar/2f08d229ea82afc9f31cf9fc5d785908?d=identicon&amp;s=50&amp;r=G" alt="Avatar Image" class="avatar user-2741-avatar" width="50" height="50" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/jgan/" rel="nofollow">jgan</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-23328"><span
class="time-since">August 4, 2012</span></a></p></div><div
class="comment-entry"><p>Hi 1337c0d3r, if duplicates are allowed, is it possible to  build a binary tree from Inorder and Preorder/Postorder Traversal ?</p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_23328_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_23328_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX23328XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_23328_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_23328_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX23328XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_23328_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=23328#respond' onclick='return addComment.moveForm("comment-23328", "23328", "respond", "612")'>Reply</a></div></div></li><li
class="comment odd alt thread-even depth-1" id="comment-29511"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/283ec57fc476a84e6d4d9c477c0f4bf8?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">harish k</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-29511"><span
class="time-since">November 13, 2012</span></a></p></div><div
class="comment-entry"><p>is it possible to reconstruct a unique tree from give anyone of three traversal order?</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_29511_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_29511_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX29511XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_29511_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_29511_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX29511XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_29511_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=29511#respond' onclick='return addComment.moveForm("comment-29511", "29511", "respond", "612")'>Reply</a></div></div></li><li
class="comment even thread-odd thread-alt depth-1" id="comment-30489"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/e00f7eb4d7a637980566870d9e48fdb0?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">Inder</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-30489"><span
class="time-since">November 23, 2012</span></a></p></div><div
class="comment-entry"><p>So according to you<br
/> 1) Search for ROOT<br
/> 2) Then on Left and Right sub tree apply Binery Search Tree</p><p>Then the resulting tree would be :-</p><p> 7<br
/> /  \<br
/> 10     11<br
/> /          \<br
/> 4		8<br
/> /	        /<br
/> 3  	       2<br
/> /<br
/> 1<br
/> Right ?</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_30489_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_30489_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX30489XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_30489_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_30489_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX30489XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_30489_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=30489#respond' onclick='return addComment.moveForm("comment-30489", "30489", "respond", "612")'>Reply</a></div></div></li><li
class="comment odd alt thread-even depth-1" id="comment-30490"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/e00f7eb4d7a637980566870d9e48fdb0?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">Inder</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-30490"><span
class="time-since">November 23, 2012</span></a></p></div><div
class="comment-entry"><p>Ok ^^^ See my tree <a
href="http://1.bp.blogspot.com/-kpEhShEpHx8/ULBnAPnR2TI/AAAAAAAAAeY/k9au2pLDT1M/s1600/screen-cut.png" title="" rel="nofollow">here</a> <img
src='http://leetcode.com/wp-includes/images/smilies/icon_razz.gif' alt=':P' class='wp-smiley' /></p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_30490_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_30490_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX30490XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_30490_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_30490_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX30490XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_30490_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=30490#respond' onclick='return addComment.moveForm("comment-30490", "30490", "respond", "612")'>Reply</a></div></div></li><li
class="comment even thread-odd thread-alt depth-1" id="comment-34451"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://www.perfumesplus.es" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/a71074c47fbd0fa346ac17a678b3974a?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://www.perfumesplus.es" rel="nofollow">perfumes</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-34451"><span
class="time-since">January 2, 2013</span></a></p></div><div
class="comment-entry"><p>May I simply say what a relief to uncover someone that truly understands what they&#8217;re talking about online. You certainly realize how to bring an issue to light and make it important. More and more people really need to read this and understand this side of your story. I was surprised that you&#8217;re not more popular given that you certainly have the gift.</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_34451_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_34451_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX34451XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_34451_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_34451_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX34451XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_34451_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=34451#respond' onclick='return addComment.moveForm("comment-34451", "34451", "respond", "612")'>Reply</a></div></div></li><li
class="comment odd alt thread-even depth-1" id="comment-34631"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://1.gravatar.com/avatar/17b0338af7679a9cb65defe40986b24b?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">Ozan Tabak</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-34631"><span
class="time-since">January 4, 2013</span></a></p></div><div
class="comment-entry"><p>In Java:<br
/> (Recursive methods can be converted to in-place for further optimization)</p><p></p><div
id="crayon-52a3f555cd6d8" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-mac print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 16px !important;">
public class Solution {
    public TreeNode buildTree(int[] preorder, int[] inorder) {
            if (preorder.length == 0 || inorder.length == 0 || preorder.length != inorder.length) return null;
            
            int rootVal = preorder[0];
            TreeNode node = new TreeNode(rootVal);
            int numLeftCh = findIndex(inorder,rootVal);
            int numRightCh = inorder.length - numLeftCh - 1;
            
            if (numLeftCh &gt; 0) {
            node.left = buildTree(Arrays.copyOfRange(preorder,1,numLeftCh+1),
                                             Arrays.copyOfRange(inorder,0,numLeftCh));
            }
            if (numRightCh &gt; 0) {                                
            node.right = buildTree(Arrays.copyOfRange(preorder,numLeftCh+1,preorder.length),
                                             Arrays.copyOfRange(inorder,numLeftCh+1,inorder.length));
            }
            return node;
        
    }
    
    public int findIndex(int[] arr, int val) {
        for (int i = 0; i &lt; arr.length; i++) {
            if (arr[i] == val) return i;
        }
        return -1;
    }
}</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="hide"><div
class="crayon-nums-content" style="font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-num" data-line="crayon-52a3f555cd6d8-1">1</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cd6d8-2">2</div><div
class="crayon-num" data-line="crayon-52a3f555cd6d8-3">3</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cd6d8-4">4</div><div
class="crayon-num" data-line="crayon-52a3f555cd6d8-5">5</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cd6d8-6">6</div><div
class="crayon-num" data-line="crayon-52a3f555cd6d8-7">7</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cd6d8-8">8</div><div
class="crayon-num" data-line="crayon-52a3f555cd6d8-9">9</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cd6d8-10">10</div><div
class="crayon-num" data-line="crayon-52a3f555cd6d8-11">11</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cd6d8-12">12</div><div
class="crayon-num" data-line="crayon-52a3f555cd6d8-13">13</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cd6d8-14">14</div><div
class="crayon-num" data-line="crayon-52a3f555cd6d8-15">15</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cd6d8-16">16</div><div
class="crayon-num" data-line="crayon-52a3f555cd6d8-17">17</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cd6d8-18">18</div><div
class="crayon-num" data-line="crayon-52a3f555cd6d8-19">19</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cd6d8-20">20</div><div
class="crayon-num" data-line="crayon-52a3f555cd6d8-21">21</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cd6d8-22">22</div><div
class="crayon-num" data-line="crayon-52a3f555cd6d8-23">23</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cd6d8-24">24</div><div
class="crayon-num" data-line="crayon-52a3f555cd6d8-25">25</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cd6d8-26">26</div><div
class="crayon-num" data-line="crayon-52a3f555cd6d8-27">27</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cd6d8-28">28</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-line" id="crayon-52a3f555cd6d8-1"><span
class="m">public</span><span
class="h"> </span><span
class="t">class</span><span
class="h"> </span><span
class="e">Solution</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cd6d8-2"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="m">public</span><span
class="h"> </span><span
class="e">TreeNode </span><span
class="e">buildTree</span><span
class="sy">(</span><span
class="t">int</span><span
class="sy">[</span><span
class="sy">]</span><span
class="h"> </span><span
class="i">preorder</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="sy">[</span><span
class="sy">]</span><span
class="h"> </span><span
class="i">inorder</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f555cd6d8-3"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="v">preorder</span><span
class="sy">.</span><span
class="v">length</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="cn">0</span><span
class="h"> </span><span
class="o">||</span><span
class="h"> </span><span
class="v">inorder</span><span
class="sy">.</span><span
class="v">length</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="cn">0</span><span
class="h"> </span><span
class="o">||</span><span
class="h"> </span><span
class="v">preorder</span><span
class="sy">.</span><span
class="i">length</span><span
class="h"> </span><span
class="o">!=</span><span
class="h"> </span><span
class="v">inorder</span><span
class="sy">.</span><span
class="i">length</span><span
class="sy">)</span><span
class="h"> </span><span
class="st">return</span><span
class="h"> </span><span
class="t">null</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cd6d8-4"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div
class="crayon-line" id="crayon-52a3f555cd6d8-5"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="t">int</span><span
class="h"> </span><span
class="v">rootVal</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="v">preorder</span><span
class="sy">[</span><span
class="cn">0</span><span
class="sy">]</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cd6d8-6"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">TreeNode </span><span
class="v">node</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="r">new</span><span
class="h"> </span><span
class="e">TreeNode</span><span
class="sy">(</span><span
class="i">rootVal</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f555cd6d8-7"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="t">int</span><span
class="h"> </span><span
class="v">numLeftCh</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="e">findIndex</span><span
class="sy">(</span><span
class="i">inorder</span><span
class="sy">,</span><span
class="i">rootVal</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cd6d8-8"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="t">int</span><span
class="h"> </span><span
class="v">numRightCh</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="v">inorder</span><span
class="sy">.</span><span
class="i">length</span><span
class="h"> </span><span
class="o">-</span><span
class="h"> </span><span
class="i">numLeftCh</span><span
class="h"> </span><span
class="o">-</span><span
class="h"> </span><span
class="cn">1</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f555cd6d8-9"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cd6d8-10"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="i">numLeftCh</span><span
class="h"> </span><span
class="o">&gt;</span><span
class="h"> </span><span
class="cn">0</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f555cd6d8-11"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">node</span><span
class="sy">.</span><span
class="v">left</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="e">buildTree</span><span
class="sy">(</span><span
class="v">Arrays</span><span
class="sy">.</span><span
class="e">copyOfRange</span><span
class="sy">(</span><span
class="i">preorder</span><span
class="sy">,</span><span
class="cn">1</span><span
class="sy">,</span><span
class="i">numLeftCh</span><span
class="o">+</span><span
class="cn">1</span><span
class="sy">)</span><span
class="sy">,</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cd6d8-12"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class="v">Arrays</span><span
class="sy">.</span><span
class="e">copyOfRange</span><span
class="sy">(</span><span
class="i">inorder</span><span
class="sy">,</span><span
class="cn">0</span><span
class="sy">,</span><span
class="i">numLeftCh</span><span
class="sy">)</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f555cd6d8-13"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cd6d8-14"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="i">numRightCh</span><span
class="h"> </span><span
class="o">&gt;</span><span
class="h"> </span><span
class="cn">0</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div
class="crayon-line" id="crayon-52a3f555cd6d8-15"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">node</span><span
class="sy">.</span><span
class="v">right</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="e">buildTree</span><span
class="sy">(</span><span
class="v">Arrays</span><span
class="sy">.</span><span
class="e">copyOfRange</span><span
class="sy">(</span><span
class="i">preorder</span><span
class="sy">,</span><span
class="i">numLeftCh</span><span
class="o">+</span><span
class="cn">1</span><span
class="sy">,</span><span
class="v">preorder</span><span
class="sy">.</span><span
class="i">length</span><span
class="sy">)</span><span
class="sy">,</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cd6d8-16"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class="v">Arrays</span><span
class="sy">.</span><span
class="e">copyOfRange</span><span
class="sy">(</span><span
class="i">inorder</span><span
class="sy">,</span><span
class="i">numLeftCh</span><span
class="o">+</span><span
class="cn">1</span><span
class="sy">,</span><span
class="v">inorder</span><span
class="sy">.</span><span
class="i">length</span><span
class="sy">)</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f555cd6d8-17"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cd6d8-18"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">return</span><span
class="h"> </span><span
class="i">node</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f555cd6d8-19"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cd6d8-20"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3f555cd6d8-21"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cd6d8-22"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="m">public</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="e">findIndex</span><span
class="sy">(</span><span
class="t">int</span><span
class="sy">[</span><span
class="sy">]</span><span
class="h"> </span><span
class="i">arr</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="i">val</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f555cd6d8-23"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">for</span><span
class="h"> </span><span
class="sy">(</span><span
class="t">int</span><span
class="h"> </span><span
class="v">i</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="cn">0</span><span
class="sy">;</span><span
class="h"> </span><span
class="i">i</span><span
class="h"> </span><span
class="o">&lt;</span><span
class="h"> </span><span
class="v">arr</span><span
class="sy">.</span><span
class="i">length</span><span
class="sy">;</span><span
class="h"> </span><span
class="i">i</span><span
class="o">++</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cd6d8-24"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="v">arr</span><span
class="sy">[</span><span
class="i">i</span><span
class="sy">]</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="i">val</span><span
class="sy">)</span><span
class="h"> </span><span
class="st">return</span><span
class="h"> </span><span
class="i">i</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f555cd6d8-25"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cd6d8-26"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">return</span><span
class="h"> </span><span
class="o">-</span><span
class="cn">1</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f555cd6d8-27"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cd6d8-28"><span
class="sy">}</span></div></div></td></tr></table></div></div><p></p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_34631_c" class="gdt-size-20 gdthumbtext"> <strong
title="1 up, 0 down">+1</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_34631_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX34631XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_34631_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_34631_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX34631XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_34631_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=34631#respond' onclick='return addComment.moveForm("comment-34631", "34631", "respond", "612")'>Reply</a></div></div></li><li
class="comment even thread-odd thread-alt depth-1" id="comment-34635"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://1.gravatar.com/avatar/17b0338af7679a9cb65defe40986b24b?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">Ozan Tabak</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-34635"><span
class="time-since">January 4, 2013</span></a></p></div><div
class="comment-entry"><p>Here&#8217;s in place version of the same java implementation of mine:</p><div
id="crayon-52a3f555cd47b" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-mac print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 16px !important;">
public class Solution {
    
    public TreeNode buildTree(int[] preorder, int[] inorder) {
        if (preorder == null || inorder == null || preorder.length == 0 || inorder.length == 0 || preorder.length != inorder.length) return null;
        return buildTree(preorder,0,preorder.length-1,inorder,0,inorder.length-1);
        
    }
    public TreeNode buildTree(int[] preorder,int preStart, int preEnd, int[] inorder, int inStart, int inEnd) {
            int preLength = preEnd - preStart + 1;
            int inLength = inEnd - inStart + 1;
            if (preLength &lt;= 0 || inLength &lt;= 0 || preLength != inLength) return null;
            
            int rootVal = preorder[preStart];
            TreeNode node = new TreeNode(rootVal);
            int numLeftCh = findIndex(inorder,inStart,inEnd,rootVal);
            int numRightCh = inLength - numLeftCh -1;
            
            if (numLeftCh &gt; 0) {
                node.left = buildTree(preorder,preStart+1,preStart+numLeftCh,inorder,inStart,inStart+numLeftCh-1);
                 
            }
            
            if (numRightCh &gt; 0) {                                
            node.right = buildTree(preorder,preStart+numLeftCh+1,preEnd,inorder,inStart + numLeftCh+1,inEnd);
            }
            return node;
        
    }
    
    public int findIndex(int[] arr, int arrStart, int arrEnd, int val) {
        for (int i = arrStart; i &lt;= arrEnd; i++) {
            if (arr[i] == val) return (i-arrStart);
        }
        return -1;
    }
}</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="hide"><div
class="crayon-nums-content" style="font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-num" data-line="crayon-52a3f555cd47b-1">1</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cd47b-2">2</div><div
class="crayon-num" data-line="crayon-52a3f555cd47b-3">3</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cd47b-4">4</div><div
class="crayon-num" data-line="crayon-52a3f555cd47b-5">5</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cd47b-6">6</div><div
class="crayon-num" data-line="crayon-52a3f555cd47b-7">7</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cd47b-8">8</div><div
class="crayon-num" data-line="crayon-52a3f555cd47b-9">9</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cd47b-10">10</div><div
class="crayon-num" data-line="crayon-52a3f555cd47b-11">11</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cd47b-12">12</div><div
class="crayon-num" data-line="crayon-52a3f555cd47b-13">13</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cd47b-14">14</div><div
class="crayon-num" data-line="crayon-52a3f555cd47b-15">15</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cd47b-16">16</div><div
class="crayon-num" data-line="crayon-52a3f555cd47b-17">17</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cd47b-18">18</div><div
class="crayon-num" data-line="crayon-52a3f555cd47b-19">19</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cd47b-20">20</div><div
class="crayon-num" data-line="crayon-52a3f555cd47b-21">21</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cd47b-22">22</div><div
class="crayon-num" data-line="crayon-52a3f555cd47b-23">23</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cd47b-24">24</div><div
class="crayon-num" data-line="crayon-52a3f555cd47b-25">25</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cd47b-26">26</div><div
class="crayon-num" data-line="crayon-52a3f555cd47b-27">27</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cd47b-28">28</div><div
class="crayon-num" data-line="crayon-52a3f555cd47b-29">29</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cd47b-30">30</div><div
class="crayon-num" data-line="crayon-52a3f555cd47b-31">31</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cd47b-32">32</div><div
class="crayon-num" data-line="crayon-52a3f555cd47b-33">33</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cd47b-34">34</div><div
class="crayon-num" data-line="crayon-52a3f555cd47b-35">35</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cd47b-36">36</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-line" id="crayon-52a3f555cd47b-1"><span
class="m">public</span><span
class="h"> </span><span
class="t">class</span><span
class="h"> </span><span
class="e">Solution</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cd47b-2"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div
class="crayon-line" id="crayon-52a3f555cd47b-3"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="m">public</span><span
class="h"> </span><span
class="e">TreeNode </span><span
class="e">buildTree</span><span
class="sy">(</span><span
class="t">int</span><span
class="sy">[</span><span
class="sy">]</span><span
class="h"> </span><span
class="i">preorder</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="sy">[</span><span
class="sy">]</span><span
class="h"> </span><span
class="i">inorder</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cd47b-4"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="v">preorder</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="t">null</span><span
class="h"> </span><span
class="o">||</span><span
class="h"> </span><span
class="v">inorder</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="t">null</span><span
class="h"> </span><span
class="o">||</span><span
class="h"> </span><span
class="v">preorder</span><span
class="sy">.</span><span
class="v">length</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="cn">0</span><span
class="h"> </span><span
class="o">||</span><span
class="h"> </span><span
class="v">inorder</span><span
class="sy">.</span><span
class="v">length</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="cn">0</span><span
class="h"> </span><span
class="o">||</span><span
class="h"> </span><span
class="v">preorder</span><span
class="sy">.</span><span
class="i">length</span><span
class="h"> </span><span
class="o">!=</span><span
class="h"> </span><span
class="v">inorder</span><span
class="sy">.</span><span
class="i">length</span><span
class="sy">)</span><span
class="h"> </span><span
class="st">return</span><span
class="h"> </span><span
class="t">null</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f555cd47b-5"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">return</span><span
class="h"> </span><span
class="e">buildTree</span><span
class="sy">(</span><span
class="i">preorder</span><span
class="sy">,</span><span
class="cn">0</span><span
class="sy">,</span><span
class="v">preorder</span><span
class="sy">.</span><span
class="i">length</span><span
class="o">-</span><span
class="cn">1</span><span
class="sy">,</span><span
class="i">inorder</span><span
class="sy">,</span><span
class="cn">0</span><span
class="sy">,</span><span
class="v">inorder</span><span
class="sy">.</span><span
class="i">length</span><span
class="o">-</span><span
class="cn">1</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cd47b-6"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div
class="crayon-line" id="crayon-52a3f555cd47b-7"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cd47b-8"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="m">public</span><span
class="h"> </span><span
class="e">TreeNode </span><span
class="e">buildTree</span><span
class="sy">(</span><span
class="t">int</span><span
class="sy">[</span><span
class="sy">]</span><span
class="h"> </span><span
class="i">preorder</span><span
class="sy">,</span><span
class="t">int</span><span
class="h"> </span><span
class="i">preStart</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="i">preEnd</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="sy">[</span><span
class="sy">]</span><span
class="h"> </span><span
class="i">inorder</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="i">inStart</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="i">inEnd</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f555cd47b-9"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="t">int</span><span
class="h"> </span><span
class="v">preLength</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">preEnd</span><span
class="h"> </span><span
class="o">-</span><span
class="h"> </span><span
class="i">preStart</span><span
class="h"> </span><span
class="o">+</span><span
class="h"> </span><span
class="cn">1</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cd47b-10"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="t">int</span><span
class="h"> </span><span
class="v">inLength</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">inEnd</span><span
class="h"> </span><span
class="o">-</span><span
class="h"> </span><span
class="i">inStart</span><span
class="h"> </span><span
class="o">+</span><span
class="h"> </span><span
class="cn">1</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f555cd47b-11"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="i">preLength</span><span
class="h"> </span><span
class="o">&lt;=</span><span
class="h"> </span><span
class="cn">0</span><span
class="h"> </span><span
class="o">||</span><span
class="h"> </span><span
class="i">inLength</span><span
class="h"> </span><span
class="o">&lt;=</span><span
class="h"> </span><span
class="cn">0</span><span
class="h"> </span><span
class="o">||</span><span
class="h"> </span><span
class="i">preLength</span><span
class="h"> </span><span
class="o">!=</span><span
class="h"> </span><span
class="i">inLength</span><span
class="sy">)</span><span
class="h"> </span><span
class="st">return</span><span
class="h"> </span><span
class="t">null</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cd47b-12"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div
class="crayon-line" id="crayon-52a3f555cd47b-13"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="t">int</span><span
class="h"> </span><span
class="v">rootVal</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="v">preorder</span><span
class="sy">[</span><span
class="i">preStart</span><span
class="sy">]</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cd47b-14"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">TreeNode </span><span
class="v">node</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="r">new</span><span
class="h"> </span><span
class="e">TreeNode</span><span
class="sy">(</span><span
class="i">rootVal</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f555cd47b-15"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="t">int</span><span
class="h"> </span><span
class="v">numLeftCh</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="e">findIndex</span><span
class="sy">(</span><span
class="i">inorder</span><span
class="sy">,</span><span
class="i">inStart</span><span
class="sy">,</span><span
class="i">inEnd</span><span
class="sy">,</span><span
class="i">rootVal</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cd47b-16"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="t">int</span><span
class="h"> </span><span
class="v">numRightCh</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">inLength</span><span
class="h"> </span><span
class="o">-</span><span
class="h"> </span><span
class="i">numLeftCh</span><span
class="h"> </span><span
class="o">-</span><span
class="cn">1</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f555cd47b-17"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cd47b-18"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="i">numLeftCh</span><span
class="h"> </span><span
class="o">&gt;</span><span
class="h"> </span><span
class="cn">0</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f555cd47b-19"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">node</span><span
class="sy">.</span><span
class="v">left</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="e">buildTree</span><span
class="sy">(</span><span
class="i">preorder</span><span
class="sy">,</span><span
class="i">preStart</span><span
class="o">+</span><span
class="cn">1</span><span
class="sy">,</span><span
class="i">preStart</span><span
class="o">+</span><span
class="i">numLeftCh</span><span
class="sy">,</span><span
class="i">inorder</span><span
class="sy">,</span><span
class="i">inStart</span><span
class="sy">,</span><span
class="i">inStart</span><span
class="o">+</span><span
class="i">numLeftCh</span><span
class="o">-</span><span
class="cn">1</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cd47b-20"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></div><div
class="crayon-line" id="crayon-52a3f555cd47b-21"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cd47b-22"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div
class="crayon-line" id="crayon-52a3f555cd47b-23"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="i">numRightCh</span><span
class="h"> </span><span
class="o">&gt;</span><span
class="h"> </span><span
class="cn">0</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cd47b-24"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">node</span><span
class="sy">.</span><span
class="v">right</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="e">buildTree</span><span
class="sy">(</span><span
class="i">preorder</span><span
class="sy">,</span><span
class="i">preStart</span><span
class="o">+</span><span
class="i">numLeftCh</span><span
class="o">+</span><span
class="cn">1</span><span
class="sy">,</span><span
class="i">preEnd</span><span
class="sy">,</span><span
class="i">inorder</span><span
class="sy">,</span><span
class="i">inStart</span><span
class="h"> </span><span
class="o">+</span><span
class="h"> </span><span
class="i">numLeftCh</span><span
class="o">+</span><span
class="cn">1</span><span
class="sy">,</span><span
class="i">inEnd</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f555cd47b-25"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cd47b-26"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">return</span><span
class="h"> </span><span
class="i">node</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f555cd47b-27"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cd47b-28"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3f555cd47b-29"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cd47b-30"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="m">public</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="e">findIndex</span><span
class="sy">(</span><span
class="t">int</span><span
class="sy">[</span><span
class="sy">]</span><span
class="h"> </span><span
class="i">arr</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="i">arrStart</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="i">arrEnd</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="i">val</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f555cd47b-31"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">for</span><span
class="h"> </span><span
class="sy">(</span><span
class="t">int</span><span
class="h"> </span><span
class="v">i</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">arrStart</span><span
class="sy">;</span><span
class="h"> </span><span
class="i">i</span><span
class="h"> </span><span
class="o">&lt;=</span><span
class="h"> </span><span
class="i">arrEnd</span><span
class="sy">;</span><span
class="h"> </span><span
class="i">i</span><span
class="o">++</span><span
class="sy">)</span><span
class="h"> </span><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cd47b-32"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="v">arr</span><span
class="sy">[</span><span
class="i">i</span><span
class="sy">]</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="i">val</span><span
class="sy">)</span><span
class="h"> </span><span
class="st">return</span><span
class="h"> </span><span
class="sy">(</span><span
class="i">i</span><span
class="o">-</span><span
class="i">arrStart</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f555cd47b-33"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cd47b-34"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">return</span><span
class="h"> </span><span
class="o">-</span><span
class="cn">1</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f555cd47b-35"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cd47b-36"><span
class="sy">}</span></div></div></td></tr></table></div></div><p></p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_34635_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_34635_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX34635XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_34635_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_34635_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX34635XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_34635_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=34635#respond' onclick='return addComment.moveForm("comment-34635", "34635", "respond", "612")'>Reply</a></div></div></li><li
class="comment odd alt thread-even depth-1" id="comment-35543"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/e00f7eb4d7a637980566870d9e48fdb0?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">Inder</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-35543"><span
class="time-since">January 11, 2013</span></a></p></div><div
class="comment-entry"><p>I found a tutorial here <a
href="http://bloggerplugnplay.blogspot.in/2012/11/construction-of-binary-tree-from.html" rel="nofollow">http://bloggerplugnplay.blogspot.in/2012/11/construction-of-binary-tree-from.html</a></p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_35543_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_35543_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX35543XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_35543_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_35543_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX35543XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_35543_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=35543#respond' onclick='return addComment.moveForm("comment-35543", "35543", "respond", "612")'>Reply</a></div></div></li><li
class="comment even thread-odd thread-alt depth-1" id="comment-36653"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://1.gravatar.com/avatar/f5332f3761e8f0975834bc0b1a0974e2?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">aad</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-36653"><span
class="time-since">January 21, 2013</span></a></p></div><div
class="comment-entry"><p>For the linear search, when the tree is perfectly balanced, the time should be n/2 rather than logn, right?</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_36653_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_36653_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX36653XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_36653_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_36653_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX36653XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_36653_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=36653#respond' onclick='return addComment.moveForm("comment-36653", "36653", "respond", "612")'>Reply</a></div></div></li><li
class="comment odd alt thread-even depth-1" id="comment-59838"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://www.yamadakaikei.net/blog/2011/03/%E6%89%80%E5%BE%97%E7%A8%8E%E3%81%AE%E7%81%BD%E5%AE%B3%E6%B8%9B%E5%85%8D/?do=basic" rel="nofollow"> <img
alt='' src='http://1.gravatar.com/avatar/5ad5f8ab0510a46506a0c3f797c9b34a?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://www.yamadakaikei.net/blog/2011/03/%E6%89%80%E5%BE%97%E7%A8%8E%E3%81%AE%E7%81%BD%E5%AE%B3%E6%B8%9B%E5%85%8D/?do=basic" rel="nofollow">Vicky</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-59838"><span
class="time-since">May 14, 2013</span></a></p></div><div
class="comment-entry"><p>Good day! I simply would like to give a massive thumbs up for the truly amazing information you<br
/> have here for this subject post. I shall be coming back on the weblog for more<br
/> soon.</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_59838_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_59838_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX59838XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_59838_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_59838_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX59838XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_59838_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=59838#respond' onclick='return addComment.moveForm("comment-59838", "59838", "respond", "612")'>Reply</a></div></div></li><li
class="comment byuser comment-author-deepak44 even thread-odd thread-alt depth-1" id="comment-60880"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/deepak44/" rel="nofollow"> <img
src="http://www.gravatar.com/avatar/e036e7cfbca54688af75dbb88e14c7af?d=identicon&amp;s=50&amp;r=G" alt="Avatar Image" class="avatar user-12109-avatar" width="50" height="50" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/deepak44/" rel="nofollow">Deepak Singhal</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-60880"><span
class="time-since">May 23, 2013</span></a></p></div><div
class="comment-entry"><p>This code contains a run-time error, modified code is as follows..</p><p>int mapIndex[20];<br
/> void mapToIndices()<br
/> {<br
/> for (int i = 0; i &lt; cnt; i++)<br
/> {<br
/> mapIndex[inorder[i]] = i;<br
/> }<br
/> }</p><p>// precondition: mapToIndices must be called before entry<br
/> Node buildInorderPreorder(int in[], int pre[], int n)<br
/> {<br
/> if (n 1)<br
/> {<br
/> root-&gt;left = buildInorderPreorder(in, pre+1, i);<br
/> root-&gt;right = buildInorderPreorder(in+i+1, pre+i+1, n-i-1);<br
/> }<br
/> return root;<br
/> }</p><p>Node buildInorderPostorder(int in[], int post[], int n)<br
/> {<br
/> if (n 1)<br
/> {<br
/> root-&gt;left = buildInorderPostorder(in, post, i);<br
/> root-&gt;right = buildInorderPostorder(in+i+1, post+i, n-i-1);<br
/> }<br
/> return root;<br
/> }</p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_60880_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_60880_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX60880XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_60880_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_60880_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX60880XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_60880_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=60880#respond' onclick='return addComment.moveForm("comment-60880", "60880", "respond", "612")'>Reply</a></div></div></li><li
class="comment odd alt thread-even depth-1" id="comment-65918"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/e41a46a92fa94c4d3d5a3090ee8f6b9d?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">Abhi Ram</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-65918"><span
class="time-since">July 1, 2013</span></a></p></div><div
class="comment-entry"><p>i did this in no time and is a much easier way of solving this problem</p><p><code></p><p>#include<br
/> using namespace std;<br
/> struct node<br
/> {<br
/> int data;<br
/> node *left,*right;<br
/> }*root;</p><p>int inorder[]={4,10,3,1,7,11,8,2};<br
/> int preorder[]={7,10,4,3,1,2,8,11};<br
/> int j=0;</p><p>node* check(int a,int b)<br
/> {<br
/> node *temp;<br
/> temp=new node;<br
/> if(a&gt;b)<br
/> return NULL;<br
/> for(int i=a;idata=preorder[j++];<br
/> temp-&gt;left=check(a,i-1);<br
/> temp-&gt;right=check(i+1,b);<br
/> }<br
/> return temp;<br
/> }</p><p>void display(node *sr)<br
/> {<br
/> if(sr!=NULL)<br
/> {<br
/> cout&lt;data&lt;left);<br
/> display(sr-&gt;right);<br
/> }<br
/> return;<br
/> }</p><p>int main()<br
/> {<br
/> root=NULL;<br
/> root=check(0,7);<br
/> cout&lt;&lt;&quot;The preorder traversal: &quot;;<br
/> display(root);<br
/> system(&quot;pause&quot;);<br
/> return 0;<br
/> }</p><p></code><code></code></p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_65918_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_65918_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX65918XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_65918_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_65918_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX65918XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_65918_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=65918#respond' onclick='return addComment.moveForm("comment-65918", "65918", "respond", "612")'>Reply</a></div></div></li><li
class="comment byuser comment-author-fafdu even thread-odd thread-alt depth-1" id="comment-66203"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/fafdu/" rel="nofollow"> <img
src="http://www.gravatar.com/avatar/bb6099a9c56219766507904910c71af4?d=identicon&amp;s=50&amp;r=G" alt="Avatar Image" class="avatar user-7581-avatar" width="50" height="50" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/fafdu/" rel="nofollow">fafdu</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-66203"><span
class="time-since">July 4, 2013</span></a></p></div><div
class="comment-entry"><p>simpler approach using binary search for root-val</p><div
id="crayon-52a3f555ccf44" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-mac print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 16px !important;">
TreeNode* buildBST(int in[], int post[], int n)
{
     if (n left = buildBST(in, post, idx);
     root-&gt;right = buildBST(in + idx + 1 , post + idx, n - idx -1);

     return root 
}</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="hide"><div
class="crayon-nums-content" style="font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-num" data-line="crayon-52a3f555ccf44-1">1</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555ccf44-2">2</div><div
class="crayon-num" data-line="crayon-52a3f555ccf44-3">3</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555ccf44-4">4</div><div
class="crayon-num" data-line="crayon-52a3f555ccf44-5">5</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555ccf44-6">6</div><div
class="crayon-num" data-line="crayon-52a3f555ccf44-7">7</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-line" id="crayon-52a3f555ccf44-1"><span
class="e ">TreeNode*</span><span
class="h"> </span><span
class="e">buildBST</span><span
class="sy">(</span><span
class="t">int</span><span
class="h"> </span><span
class="st">in</span><span
class="sy">[</span><span
class="sy">]</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="v">post</span><span
class="sy">[</span><span
class="sy">]</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">)</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555ccf44-2"><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f555ccf44-3"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="i">n</span><span
class="h"> </span><span
class="v">left</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="e">buildBST</span><span
class="sy">(</span><span
class="st">in</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">post</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">idx</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555ccf44-4"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class="i">root</span><span
class="o">-&gt;</span><span
class="v">right</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="e">buildBST</span><span
class="sy">(</span><span
class="st">in</span><span
class="h"> </span><span
class="o">+</span><span
class="h"> </span><span
class="i">idx</span><span
class="h"> </span><span
class="o">+</span><span
class="h"> </span><span
class="cn">1</span><span
class="h"> </span><span
class="sy">,</span><span
class="h"> </span><span
class="i">post</span><span
class="h"> </span><span
class="o">+</span><span
class="h"> </span><span
class="i">idx</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">n</span><span
class="h"> </span><span
class="o">-</span><span
class="h"> </span><span
class="i">idx</span><span
class="h"> </span><span
class="o">-</span><span
class="cn">1</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f555ccf44-5">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555ccf44-6"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class="st">return</span><span
class="h"> </span><span
class="i">root</span><span
class="h"> </span></div><div
class="crayon-line" id="crayon-52a3f555ccf44-7"><span
class="sy">}</span></div></div></td></tr></table></div></div><p></p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_66203_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_66203_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX66203XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_66203_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_66203_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX66203XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_66203_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=66203#respond' onclick='return addComment.moveForm("comment-66203", "66203", "respond", "612")'>Reply</a></div></div></li><li
class="comment byuser comment-author-fafdu odd alt thread-even depth-1" id="comment-66206"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/fafdu/" rel="nofollow"> <img
src="http://www.gravatar.com/avatar/bb6099a9c56219766507904910c71af4?d=identicon&amp;s=50&amp;r=G" alt="Avatar Image" class="avatar user-7581-avatar" width="50" height="50" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/fafdu/" rel="nofollow">fafdu</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-66206"><span
class="time-since">July 4, 2013</span></a></p></div><div
class="comment-entry"><p>simpler approach using binary search for root-val</p><div
id="crayon-52a3f555ccdc6" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-mac print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 16px !important;">
TreeNode* buildBST(int in[], int post[], int n)
{
    if (n left = buildBST(in, post, idx);
    root-&gt;right = buildBST(in + idx + 1, post + idx, n-idx-1);
    
    return root;
}</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="hide"><div
class="crayon-nums-content" style="font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-num" data-line="crayon-52a3f555ccdc6-1">1</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555ccdc6-2">2</div><div
class="crayon-num" data-line="crayon-52a3f555ccdc6-3">3</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555ccdc6-4">4</div><div
class="crayon-num" data-line="crayon-52a3f555ccdc6-5">5</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555ccdc6-6">6</div><div
class="crayon-num" data-line="crayon-52a3f555ccdc6-7">7</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-line" id="crayon-52a3f555ccdc6-1"><span
class="e ">TreeNode*</span><span
class="h"> </span><span
class="e">buildBST</span><span
class="sy">(</span><span
class="t">int</span><span
class="h"> </span><span
class="st">in</span><span
class="sy">[</span><span
class="sy">]</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="v">post</span><span
class="sy">[</span><span
class="sy">]</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">)</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555ccdc6-2"><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f555ccdc6-3"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="h"> </span><span
class="sy">(</span><span
class="i">n</span><span
class="h"> </span><span
class="v">left</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="e">buildBST</span><span
class="sy">(</span><span
class="st">in</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">post</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">idx</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555ccdc6-4"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">root</span><span
class="o">-&gt;</span><span
class="v">right</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="e">buildBST</span><span
class="sy">(</span><span
class="st">in</span><span
class="h"> </span><span
class="o">+</span><span
class="h"> </span><span
class="i">idx</span><span
class="h"> </span><span
class="o">+</span><span
class="h"> </span><span
class="cn">1</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">post</span><span
class="h"> </span><span
class="o">+</span><span
class="h"> </span><span
class="i">idx</span><span
class="sy">,</span><span
class="h"> </span><span
class="i">n</span><span
class="o">-</span><span
class="i">idx</span><span
class="o">-</span><span
class="cn">1</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f555ccdc6-5"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555ccdc6-6"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">return</span><span
class="h"> </span><span
class="i">root</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f555ccdc6-7"><span
class="sy">}</span></div></div></td></tr></table></div></div><p></p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_66206_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_66206_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX66206XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_66206_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_66206_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX66206XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_66206_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=66206#respond' onclick='return addComment.moveForm("comment-66206", "66206", "respond", "612")'>Reply</a></div></div></li><li
class="comment even thread-odd thread-alt depth-1" id="comment-69818"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://1.gravatar.com/avatar/75ab2fc2ba683e68dc6050526a2721d5?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">vasantunt</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-69818"><span
class="time-since">August 3, 2013</span></a></p></div><div
class="comment-entry"><p>Your explanation is very helpful.</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_69818_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_69818_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX69818XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_69818_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_69818_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX69818XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_69818_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=69818#respond' onclick='return addComment.moveForm("comment-69818", "69818", "respond", "612")'>Reply</a></div></div></li><li
class="comment odd alt thread-even depth-1" id="comment-73297"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://0.gravatar.com/avatar/89cdeb10235db4af98717d1a497d26d8?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">Amit</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-73297"><span
class="time-since">September 2, 2013</span></a></p></div><div
class="comment-entry"><p>answer to: if three orders are given, find whether they beling to the same tree of not<br
/> First confirm if all the orders have the same number of elements.<br
/> Using inorder and postrder, we can find preorder and after finding each element, we can compare it with the given preorder. If it does not match at any instant, it means the orders are not of a single BT</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_73297_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_73297_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX73297XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_73297_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_73297_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX73297XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_73297_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=73297#respond' onclick='return addComment.moveForm("comment-73297", "73297", "respond", "612")'>Reply</a></div></div></li><li
class="comment byuser comment-author-zhaomao even thread-odd thread-alt depth-1" id="comment-74230"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/zhaomao/" rel="nofollow"> <img
src="http://www.gravatar.com/avatar/682854e35f01c2de707948ecefb0a18a?d=identicon&amp;s=50&amp;r=G" alt="Avatar Image" class="avatar user-19352-avatar" width="50" height="50" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/zhaomao/" rel="nofollow">Mao Zhao</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-74230"><span
class="time-since">September 12, 2013</span></a></p></div><div
class="comment-entry"><p>public class Solution {<br
/> int pre;<br
/> public TreeNode buildTree(int[] preorder, int[] inorder) {<br
/> // Start typing your Java solution below<br
/> // DO NOT write main() function<br
/> pre = 0;<br
/> if(preorder.length == 0){return null;}<br
/> return build(preorder, inorder, 0, preorder.length-1);</p><p> }</p><p> public TreeNode build(int[] preorder, int[] inorder, int left, int right){<br
/> if(left &gt; right){<br
/> return null;<br
/> }<br
/> //if(pre &gt; preorder.length){<br
/> //  return null;<br
/> //}<br
/> int key = preorder[pre];<br
/> pre++;<br
/> TreeNode tn = new TreeNode(key);<br
/> int i = 0;<br
/> for(i = left; i &lt;= right; i++){<br
/> if(inorder[i] == key){break;}<br
/> }</p><p> tn.left = build(preorder, inorder, left, i-1);<br
/> tn.right = build(preorder, inorder, i+1, right);</p><p> return tn;<br
/> }<br
/> }</p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_74230_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_74230_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX74230XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_74230_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_74230_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX74230XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_74230_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=74230#respond' onclick='return addComment.moveForm("comment-74230", "74230", "respond", "612")'>Reply</a></div></div></li><li
class="comment odd alt thread-even depth-1" id="comment-78911"><div
class="comment-avatar-box"><div
class="avb"> <a
href="" rel="nofollow"> <img
alt='' src='http://1.gravatar.com/avatar/1b320351e0a72386eb2324cf42dd9bb1?s=50&amp;d=identicon&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="" rel="nofollow">manisha</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-78911"><span
class="time-since">October 22, 2013</span></a></p></div><div
class="comment-entry"><p>this is helpfull for practice&#8230;..</p><div
style="display: none">VA:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_78911_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_78911_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX78911XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_78911_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_78911_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX78911XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_78911_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=78911#respond' onclick='return addComment.moveForm("comment-78911", "78911", "respond", "612")'>Reply</a></div></div></li><li
class="comment byuser comment-author-lwisdom even thread-odd thread-alt depth-1" id="comment-87510"><div
class="comment-avatar-box"><div
class="avb"> <a
href="http://leetcode.com/members/lwisdom/" rel="nofollow"> <img
src="http://www.gravatar.com/avatar/8849e2697fd4722bf4990ce5c14207a3?d=identicon&amp;s=50&amp;r=G" alt="Avatar Image" class="avatar user-27646-avatar" width="50" height="50" /> </a></div></div><div
class="comment-content"><div
class="comment-meta"><p> <a
href="http://leetcode.com/members/lwisdom/" rel="nofollow">Jim Liu</a> said on <a
href="http://leetcode.com/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#comment-87510"><span
class="time-since">November 27, 2013</span></a></p></div><div
class="comment-entry"><p></p><div
id="crayon-52a3f555cca4e" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-mac print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 16px !important;">
const int MAX = 256;
int mapIndex[MAX];
void mapToIndices(int inorder[], int n)
{
	for(int i=0; i&lt;n; i++)
	{
		assert(0 &lt;= inorder[i] &amp;&amp; inorder[i] &lt; MAX);
		mapIndex[inorder[i]] = i;
	}
}

template 
TreeNode* buildTree(ItemType in[], ItemType pre[], int inStart, int inEnd)
{
	static int preIndex = 0;
	if(inStart &gt; inEnd) return NULL;

	ItemType root_value = pre[preIndex++];

	TreeNode* root = new TreeNode;
	root-&gt;info = root_value;

	if(inStart == inEnd) 
	{
		root-&gt;left = NULL;
		root-&gt;right = NULL;
		return root;
	}

	int root_idx = mapIndex[root_value];
	root-&gt;left = buildTree(in,pre,inStart,root_idx-1);
	root-&gt;right = buildTree(in,pre,root_idx+1,inEnd);

	return root;
}

template 
void print_TreeNode_inorder(TreeNode* root)
{
	if(!root) return;	

	print_TreeNode_inorder(root-&gt;left);
	cout &lt;info &lt;right);
}

void main()
{
        int preorder[] = {7,10,4,3,1,2,8,11};
	int inorder[] = {4,10,3,1,7,11,8,2};
	int len = sizeof(preorder)/sizeof(preorder[0]);
	mapToIndices(inorder,len);
	TreeNode* tree = buildTree(inorder,preorder,0,len-1);
	print_TreeNode_inorder(tree);
	cout &lt;&lt; endl;
}</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="hide"><div
class="crayon-nums-content" style="font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-num" data-line="crayon-52a3f555cca4e-1">1</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cca4e-2">2</div><div
class="crayon-num" data-line="crayon-52a3f555cca4e-3">3</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cca4e-4">4</div><div
class="crayon-num" data-line="crayon-52a3f555cca4e-5">5</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cca4e-6">6</div><div
class="crayon-num" data-line="crayon-52a3f555cca4e-7">7</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cca4e-8">8</div><div
class="crayon-num" data-line="crayon-52a3f555cca4e-9">9</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cca4e-10">10</div><div
class="crayon-num" data-line="crayon-52a3f555cca4e-11">11</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cca4e-12">12</div><div
class="crayon-num" data-line="crayon-52a3f555cca4e-13">13</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cca4e-14">14</div><div
class="crayon-num" data-line="crayon-52a3f555cca4e-15">15</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cca4e-16">16</div><div
class="crayon-num" data-line="crayon-52a3f555cca4e-17">17</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cca4e-18">18</div><div
class="crayon-num" data-line="crayon-52a3f555cca4e-19">19</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cca4e-20">20</div><div
class="crayon-num" data-line="crayon-52a3f555cca4e-21">21</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cca4e-22">22</div><div
class="crayon-num" data-line="crayon-52a3f555cca4e-23">23</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cca4e-24">24</div><div
class="crayon-num" data-line="crayon-52a3f555cca4e-25">25</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cca4e-26">26</div><div
class="crayon-num" data-line="crayon-52a3f555cca4e-27">27</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cca4e-28">28</div><div
class="crayon-num" data-line="crayon-52a3f555cca4e-29">29</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cca4e-30">30</div><div
class="crayon-num" data-line="crayon-52a3f555cca4e-31">31</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cca4e-32">32</div><div
class="crayon-num" data-line="crayon-52a3f555cca4e-33">33</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cca4e-34">34</div><div
class="crayon-num" data-line="crayon-52a3f555cca4e-35">35</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cca4e-36">36</div><div
class="crayon-num" data-line="crayon-52a3f555cca4e-37">37</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cca4e-38">38</div><div
class="crayon-num" data-line="crayon-52a3f555cca4e-39">39</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cca4e-40">40</div><div
class="crayon-num" data-line="crayon-52a3f555cca4e-41">41</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cca4e-42">42</div><div
class="crayon-num" data-line="crayon-52a3f555cca4e-43">43</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cca4e-44">44</div><div
class="crayon-num" data-line="crayon-52a3f555cca4e-45">45</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cca4e-46">46</div><div
class="crayon-num" data-line="crayon-52a3f555cca4e-47">47</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cca4e-48">48</div><div
class="crayon-num" data-line="crayon-52a3f555cca4e-49">49</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cca4e-50">50</div><div
class="crayon-num" data-line="crayon-52a3f555cca4e-51">51</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cca4e-52">52</div><div
class="crayon-num" data-line="crayon-52a3f555cca4e-53">53</div><div
class="crayon-num crayon-striped-num" data-line="crayon-52a3f555cca4e-54">54</div><div
class="crayon-num" data-line="crayon-52a3f555cca4e-55">55</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 13px !important; line-height: 16px !important;"><div
class="crayon-line" id="crayon-52a3f555cca4e-1"><span
class="m">const</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="v">MAX</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="cn">256</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cca4e-2"><span
class="t">int</span><span
class="h"> </span><span
class="v">mapIndex</span><span
class="sy">[</span><span
class="i">MAX</span><span
class="sy">]</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f555cca4e-3"><span
class="t">void</span><span
class="h"> </span><span
class="e">mapToIndices</span><span
class="sy">(</span><span
class="t">int</span><span
class="h"> </span><span
class="v">inorder</span><span
class="sy">[</span><span
class="sy">]</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="i">n</span><span
class="sy">)</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cca4e-4"><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f555cca4e-5"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">for</span><span
class="sy">(</span><span
class="t">int</span><span
class="h"> </span><span
class="v">i</span><span
class="o">=</span><span
class="cn">0</span><span
class="sy">;</span><span
class="h"> </span><span
class="i">i</span><span
class="o">&lt;</span><span
class="i">n</span><span
class="sy">;</span><span
class="h"> </span><span
class="i">i</span><span
class="o">++</span><span
class="sy">)</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cca4e-6"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f555cca4e-7"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">assert</span><span
class="sy">(</span><span
class="cn">0</span><span
class="h"> </span><span
class="o">&lt;=</span><span
class="h"> </span><span
class="v">inorder</span><span
class="sy">[</span><span
class="i">i</span><span
class="sy">]</span><span
class="h"> </span><span
class="o">&amp;&amp;</span><span
class="h"> </span><span
class="v">inorder</span><span
class="sy">[</span><span
class="i">i</span><span
class="sy">]</span><span
class="h"> </span><span
class="o">&lt;</span><span
class="h"> </span><span
class="i">MAX</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cca4e-8"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="v">mapIndex</span><span
class="sy">[</span><span
class="v">inorder</span><span
class="sy">[</span><span
class="i">i</span><span
class="sy">]</span><span
class="sy">]</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">i</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f555cca4e-9"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cca4e-10"><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3f555cca4e-11">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cca4e-12"><span
class="e">template </span></div><div
class="crayon-line" id="crayon-52a3f555cca4e-13"><span
class="e ">TreeNode*</span><span
class="h"> </span><span
class="e">buildTree</span><span
class="sy">(</span><span
class="e">ItemType </span><span
class="st">in</span><span
class="sy">[</span><span
class="sy">]</span><span
class="sy">,</span><span
class="h"> </span><span
class="e">ItemType </span><span
class="v">pre</span><span
class="sy">[</span><span
class="sy">]</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="i">inStart</span><span
class="sy">,</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="i">inEnd</span><span
class="sy">)</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cca4e-14"><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f555cca4e-15"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="m">static</span><span
class="h"> </span><span
class="t">int</span><span
class="h"> </span><span
class="v">preIndex</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="cn">0</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cca4e-16"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="sy">(</span><span
class="i">inStart</span><span
class="h"> </span><span
class="o">&gt;</span><span
class="h"> </span><span
class="i">inEnd</span><span
class="sy">)</span><span
class="h"> </span><span
class="st">return</span><span
class="h"> </span><span
class="t">NULL</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f555cca4e-17">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cca4e-18"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">ItemType </span><span
class="v">root_value</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="v">pre</span><span
class="sy">[</span><span
class="i">preIndex</span><span
class="o">++</span><span
class="sy">]</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f555cca4e-19">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cca4e-20"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e ">TreeNode*</span><span
class="h"> </span><span
class="v">root</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="r">new</span><span
class="h"> </span><span
class="i">TreeNode</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f555cca4e-21"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">root</span><span
class="o">-&gt;</span><span
class="v">info</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="i">root_value</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cca4e-22">&nbsp;</div><div
class="crayon-line" id="crayon-52a3f555cca4e-23"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="sy">(</span><span
class="v">inStart</span><span
class="h"> </span><span
class="o">==</span><span
class="h"> </span><span
class="i">inEnd</span><span
class="sy">)</span><span
class="h"> </span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cca4e-24"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">{</span></div><div
class="crayon-line" id="crayon-52a3f555cca4e-25"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">root</span><span
class="o">-&gt;</span><span
class="v">left</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="t">NULL</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cca4e-26"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">root</span><span
class="o">-&gt;</span><span
class="v">right</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="t">NULL</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f555cca4e-27"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">return</span><span
class="h"> </span><span
class="i">root</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cca4e-28"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3f555cca4e-29">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cca4e-30"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="t">int</span><span
class="h"> </span><span
class="v">root_idx</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="v">mapIndex</span><span
class="sy">[</span><span
class="i">root_value</span><span
class="sy">]</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f555cca4e-31"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">root</span><span
class="o">-&gt;</span><span
class="v">left</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="e">buildTree</span><span
class="sy">(</span><span
class="st">in</span><span
class="sy">,</span><span
class="i">pre</span><span
class="sy">,</span><span
class="i">inStart</span><span
class="sy">,</span><span
class="i">root_idx</span><span
class="o">-</span><span
class="cn">1</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cca4e-32"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">root</span><span
class="o">-&gt;</span><span
class="v">right</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="e">buildTree</span><span
class="sy">(</span><span
class="st">in</span><span
class="sy">,</span><span
class="i">pre</span><span
class="sy">,</span><span
class="i">root_idx</span><span
class="o">+</span><span
class="cn">1</span><span
class="sy">,</span><span
class="i">inEnd</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f555cca4e-33">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cca4e-34"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">return</span><span
class="h"> </span><span
class="i">root</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f555cca4e-35"><span
class="sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cca4e-36">&nbsp;</div><div
class="crayon-line" id="crayon-52a3f555cca4e-37"><span
class="e">template </span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cca4e-38"><span
class="t">void</span><span
class="h"> </span><span
class="e">print_TreeNode_inorder</span><span
class="sy">(</span><span
class="e ">TreeNode*</span><span
class="h"> </span><span
class="i">root</span><span
class="sy">)</span></div><div
class="crayon-line" id="crayon-52a3f555cca4e-39"><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cca4e-40"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="st">if</span><span
class="sy">(</span><span
class="o">!</span><span
class="i">root</span><span
class="sy">)</span><span
class="h"> </span><span
class="st">return</span><span
class="sy">;</span><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div
class="crayon-line" id="crayon-52a3f555cca4e-41">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cca4e-42"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">print_TreeNode_inorder</span><span
class="sy">(</span><span
class="i">root</span><span
class="o">-&gt;</span><span
class="i">left</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f555cca4e-43"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">cout</span><span
class="h"> </span><span
class="o">&lt;</span><span
class="i">info</span><span
class="h"> </span><span
class="o">&lt;</span><span
class="i">right</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cca4e-44"><span
class="sy">}</span></div><div
class="crayon-line" id="crayon-52a3f555cca4e-45">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cca4e-46"><span
class="t">void</span><span
class="h"> </span><span
class="e">main</span><span
class="sy">(</span><span
class="sy">)</span></div><div
class="crayon-line" id="crayon-52a3f555cca4e-47"><span
class="sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cca4e-48"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="t">int</span><span
class="h"> </span><span
class="v">preorder</span><span
class="sy">[</span><span
class="sy">]</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="sy">{</span><span
class="cn">7</span><span
class="sy">,</span><span
class="cn">10</span><span
class="sy">,</span><span
class="cn">4</span><span
class="sy">,</span><span
class="cn">3</span><span
class="sy">,</span><span
class="cn">1</span><span
class="sy">,</span><span
class="cn">2</span><span
class="sy">,</span><span
class="cn">8</span><span
class="sy">,</span><span
class="cn">11</span><span
class="sy">}</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f555cca4e-49"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="t">int</span><span
class="h"> </span><span
class="v">inorder</span><span
class="sy">[</span><span
class="sy">]</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="sy">{</span><span
class="cn">4</span><span
class="sy">,</span><span
class="cn">10</span><span
class="sy">,</span><span
class="cn">3</span><span
class="sy">,</span><span
class="cn">1</span><span
class="sy">,</span><span
class="cn">7</span><span
class="sy">,</span><span
class="cn">11</span><span
class="sy">,</span><span
class="cn">8</span><span
class="sy">,</span><span
class="cn">2</span><span
class="sy">}</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cca4e-50"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="t">int</span><span
class="h"> </span><span
class="v">len</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="e">sizeof</span><span
class="sy">(</span><span
class="i">preorder</span><span
class="sy">)</span><span
class="o">/</span><span
class="e">sizeof</span><span
class="sy">(</span><span
class="v">preorder</span><span
class="sy">[</span><span
class="cn">0</span><span
class="sy">]</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f555cca4e-51"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">mapToIndices</span><span
class="sy">(</span><span
class="i">inorder</span><span
class="sy">,</span><span
class="i">len</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cca4e-52"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e ">TreeNode*</span><span
class="h"> </span><span
class="v">tree</span><span
class="h"> </span><span
class="o">=</span><span
class="h"> </span><span
class="e">buildTree</span><span
class="sy">(</span><span
class="i">inorder</span><span
class="sy">,</span><span
class="i">preorder</span><span
class="sy">,</span><span
class="cn">0</span><span
class="sy">,</span><span
class="i">len</span><span
class="o">-</span><span
class="cn">1</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f555cca4e-53"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="e">print_TreeNode_inorder</span><span
class="sy">(</span><span
class="i">tree</span><span
class="sy">)</span><span
class="sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-52a3f555cca4e-54"><span
class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="i">cout</span><span
class="h"> </span><span
class="o">&lt;&lt;</span><span
class="h"> </span><span
class="i">endl</span><span
class="sy">;</span></div><div
class="crayon-line" id="crayon-52a3f555cca4e-55"><span
class="sy">}</span></div></div></td></tr></table></div></div><p></p><div
style="display: none">VN:F [1.9.22_1171]</div><div
class="thumblock "><div
class="ratingtext "><div
id="gdsr_thumb_text_87510_c" class="gdt-size-20 gdthumbtext"> <strong
title="0 up, 0 down">0</strong></div></div><span
title="Vote Up (This comment is useful)"><div
id="gdsr_thumb_87510_c_up" class="gdt-size-20 gdthumb gdup"><a
id="gdsrX87510XupXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_87510_c_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><span
title="Vote Down (This comment is not useful)"><div
id="gdsr_thumb_87510_c_dw" class="gdt-size-20 gdthumb gddw"><a
id="gdsrX87510XdwXcX46X20XY" class="gdt-starrating" rel="nofollow"></a></div><div
id="gdsr_thumb_87510_c_loader_dw" style="display: none; width: 20px " class="ratingloader loaddw"><div
class="loader thumb radar" style="width: 20px; height: 20px;"></div></div></span><div
class="raterclear"></div></div></div><div
class="comment-options"> <a
class='comment-reply-link' href='/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html?replytocom=87510#respond' onclick='return addComment.moveForm("comment-87510", "87510", "respond", "612")'>Reply</a></div></div></li></ol></div><div
id="respond"><h3 id="reply-title">Leave a reply <small><a
rel="nofollow" id="cancel-comment-reply-link" href="/2011/04/construct-binary-tree-from-inorder-and-preorder-postorder-traversal.html#respond" style="display:none;">Cancel reply</a></small></h3><form
action="http://leetcode.com/wp-comments-post.php" method="post" id="commentform"><div
class="comment-avatar-box"><div
class="avb"> <img
alt='' src='http://0.gravatar.com/avatar/?d=identicon&amp;s=50' class='avatar avatar-50 photo avatar-default' height='50' width='50' /></div></div><div
class="comment-content standard-form"><p
class="comment-notes">Your email address will not be published. Required fields are marked <span
class="required">*</span></p><p
class="comment-form-author"><label
for="author">Name<span
class="required"> *</span></label> <input
id="author" name="author" type="text" value="" size="30" aria-required='true' /></p><p
class="comment-form-email"><label
for="email">Email<span
class="required"> *</span></label> <input
id="email" name="email" type="text" value="" size="30" aria-required='true' /></p><p
class="comment-form-url"><label
for="url">Website</label><input
id="url" name="url" type="text" value="" size="30" /></p><p
class="form-textarea"><textarea name="comment" id="comment" cols="60" rows="10" aria-required="true"></textarea></p><p
class="form-allowed-tags">You may use the <code>&lt;code&gt;</code> tag to embed your code.</p><p
class="form-submit"> <input
name="submit" type="submit" id="submit" value="Post Comment" /> <input
type='hidden' name='comment_post_ID' value='612' id='comment_post_ID' /> <input
type='hidden' name='comment_parent' id='comment_parent' value='0' /></p><p
style="display: none;"><input
type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="069429f730" /></p></div></form></div><div
id="trackbacks"><h3>3 trackbacks</h3><ul
id="trackbacklist"><li><h5><a
href='http://www.mashengjun.info/?p=121' rel='external nofollow' class='url'>Construct Binary Tree From Inorder and Preorder/Postorder Traversal |  Blog</a></h5> <em>on July 3, 2011</em></li><li><h5><a
href='http://itsrough.wordpress.com/2012/10/20/must-read-problems-of-leetcode/' rel='external nofollow' class='url'>Amazon interview preparation | What I learn, I blog !</a></h5> <em>on February 1, 2013</em></li><li><h5><a
href='http://tech-wonderland.net/blog/leetcode-construct-binary-tree-from-inorder-and-postorder-or-preorder-traversal.html' rel='external nofollow' class='url'>leetcode: Construct Binary Tree from Inorder and Postorder/Preorder Traversal solution |  sigmainfy</a></h5> <em>on April 17, 2013</em></li></ul></div></div></div></div><div
id="post-dir-search" class="dir-search"><form
role="search" method="get" id="searchform" action="http://leetcode.com/"> <input
type="text" value="" name="s" id="s" /> <input
type="submit" id="searchsubmit" value="Search" /></form></div><div
id="sidebar"><div
class="padder"></div></div></div><div
id="push"></div></div><div
id="footer"><div
id="colophon"><div
class="footer-widget"></div><div
class="footer-widget"></div><div
class="footer-widget"></div><div
class="footer-widget last"></div><div
class="clear"></div><div
id="footer-links"><ul
class="footer-menu"><li
class="page_item page-item-2"><a
href="http://leetcode.com/about">About</a></li><li
class="page_item page-item-908"><a
href="http://leetcode.com/activity">Activity</a></li><li
class="page_item page-item-1466"><a
href="http://leetcode.com/discuss">Discuss</a></li><li
class="page_item page-item-1658"><a
href="http://leetcode.com/donate">Donate</a></li><li
class="page_item page-item-907"><a
href="http://leetcode.com/members">Members</a></li><li
class="page_item page-item-370"><a
href="http://leetcode.com/onlinejudge">Online Judge</a></li></ul></div><div
id="credits"><p>Copyright &copy; 2013 LeetCode &nbsp;&middot;&nbsp; <a
href="http://leetcode.com/wp-login.php">Log in</a></p></div></div></div><div
id="wpadminbar" class="nojq nojs" role="navigation"> <a
class="screen-reader-shortcut" href="#wp-toolbar" tabindex="1">Skip to toolbar</a><div
class="quicklinks" id="wp-toolbar" role="navigation" aria-label="Top navigation toolbar." tabindex="0"><ul
id="wp-admin-bar-root-default" class="ab-top-menu"><li
id="wp-admin-bar-bp-login"><a
class="ab-item"  href="http://leetcode.com/wp-login.php">Log in</a></li><li
id="wp-admin-bar-bp-register"><a
class="ab-item"  href="http://leetcode.com/register/">Register</a></li><li
id="wp-admin-bar-my-account"><div
class="ab-item ab-empty-item" ></div></li></ul></div> <a
class="screen-reader-shortcut" href="http://leetcode.com/wp-login.php?action=logout&#038;_wpnonce=d79c4035be">Log Out</a></div><div
class="buddyboss_log"></div> <script type="text/javascript">

    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-6849839-3']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

  </script><style type="text/css">
    .defaultCommentText { color: #a1a1a1; font-style: italic; }
  </style><script type="text/javascript">
    jQuery("textarea#comment, textarea#reply_text").focus(function(srcc) {
      if (jQuery(this).val() == jQuery(this)[0].title) {
        jQuery(this).val("");
        jQuery(this).removeClass("defaultCommentText");
      }
    });
    jQuery("textarea#comment, textarea#reply_text").blur(function() {
      if (jQuery(this).val() == "") {
        jQuery(this).val(jQuery(this)[0].title);
        jQuery(this).addClass("defaultCommentText");
      }
    });
    jQuery("textarea#comment, textarea#reply_text").attr('title', 'To embed your code, please use <code>your code here</code>.');
    jQuery("textarea#comment, textarea#reply_text").blur();
  </script></body></html>
<!-- Performance optimized by W3 Total Cache. Learn more: http://www.w3-edge.com/wordpress-plugins/

Minified using disk: basic
Page Caching using disk: enhanced

 Served from: leetcode.com @ 2013-12-07 20:28:06 by W3 Total Cache -->